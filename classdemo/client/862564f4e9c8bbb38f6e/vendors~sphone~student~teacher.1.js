(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=n(6);e.Factory={addGetterSetter:function(t,e,n,r,i){this.addGetter(t,e,n),this.addSetter(t,e,r,i),this.addOverloadedGetterSetter(t,e)},addGetter:function(t,e,n){var i="get"+r.Util._capitalize(e);t.prototype[i]=t.prototype[i]||function(){var t=this.attrs[e];return void 0===t?n:t}},addSetter:function(t,n,i,o){var s="set"+r.Util._capitalize(n);t.prototype[s]||e.Factory.overWriteSetter(t,n,i,o)},overWriteSetter:function(t,e,n,i){var o="set"+r.Util._capitalize(e);t.prototype[o]=function(t){return n&&null!=t&&(t=n.call(this,t,e)),this._setAttr(e,t),i&&i.call(this),this}},addComponentsGetterSetter:function(t,e,n,o,s){var a,c,l=n.length,u=r.Util._capitalize,h="get"+u(e),d="set"+u(e);t.prototype[h]=function(){var t={};for(a=0;a<l;a++)t[c=n[a]]=this.getAttr(e+u(c));return t};var p=i.getComponentValidator(n);t.prototype[d]=function(t){var n,r=this.attrs[e];for(n in o&&(t=o.call(this,t)),p&&p.call(this,t,e),t)t.hasOwnProperty(n)&&this._setAttr(e+u(n),t[n]);return this._fireChangeEvent(e,r,t),s&&s.call(this),this},this.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter:function(t,e){var n=r.Util._capitalize(e),i="set"+n,o="get"+n;t.prototype[e]=function(){return arguments.length?(this[i](arguments[0]),this):this[o]()}},addDeprecatedGetterSetter:function(t,e,n,i){r.Util.error("Adding deprecated "+e);var o="get"+r.Util._capitalize(e),s=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[o]=function(){r.Util.error(s);var t=this.attrs[e];return void 0===t?n:t},this.addSetter(t,e,i,(function(){r.Util.error(s)})),this.addOverloadedGetterSetter(t,e)},backCompat:function(t,e){r.Util.each(e,(function(e,n){var i=t.prototype[n],o="get"+r.Util._capitalize(e),s="set"+r.Util._capitalize(e);function a(){i.apply(this,arguments),r.Util.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}t.prototype[e]=a,t.prototype[o]=a,t.prototype[s]=a}))},afterSetFilter:function(){this._filterUpToDate=!1}}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=Math.PI/180;var r=function(t){var e=t.indexOf("msie ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)};e._parseUA=function(t){var e=t.toLowerCase(),n=/(chrome)[ /]([\w.]+)/.exec(e)||/(webkit)[ /]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),o=!!t.match(/IEMobile/i);return{browser:n[1]||"",version:n[2]||"0",isIE:r(e),mobile:i,ieMobile:o}},e.glob=void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},e.Konva={_global:e.glob,version:"4.1.3",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:function(t){return e.Konva.angleDeg?t*n:t},enableTrace:!1,_pointerEventsEnabled:!1,hitOnDragEnabled:!1,captureTouchEventsEnabled:!1,listenClickTap:!1,inDblClickWindow:!1,pixelRatio:void 0,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:function(){return e.Konva.DD.isDragging},isDragReady:function(){return!!e.Konva.DD.node},UA:e._parseUA(e.glob.navigator&&e.glob.navigator.userAgent||""),document:e.glob.document,_injectGlobal:function(t){e.glob.Konva=t},_parseUA:e._parseUA},e._NODES_REGISTRY={},e._registerNode=function(t){e._NODES_REGISTRY[t.prototype.getClassName()]=t,e.Konva[t.prototype.getClassName()]=t}}).call(this,n(22))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),i=n(7);function o(t){return i.Util._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)?t:i.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}e.RGBComponent=function(t){return t>255?255:t<0?0:Math.round(t)},e.alphaComponent=function(t){return t>1?1:t<1e-4?1e-4:t},e.getNumberValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isNumber(t)||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}},e.getNumberOrAutoValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isNumber(t)||"auto"===t||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}},e.getStringValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isString(t)||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}},e.getFunctionValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isFunction(t)||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}},e.getNumberArrayValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isArray(t)?t.forEach((function(t){i.Util._isNumber(t)||i.Util.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")})):i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),t}},e.getBooleanValidator=function(){if(r.Konva.isUnminified)return function(t,e){return!0===t||!1===t||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}},e.getComponentValidator=function(t){if(r.Konva.isUnminified)return function(e,n){return i.Util.isObject(e)||i.Util.warn(o(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),i=function(){function t(){}return t.toCollection=function(e){var n,r=new t,i=e.length;for(n=0;n<i;n++)r.push(e[n]);return r},t._mapMethod=function(e){t.prototype[e]=function(){var t,n=this.length,r=[].slice.call(arguments);for(t=0;t<n;t++)this[t][e].apply(this[t],r);return this}},t.mapMethods=function(e){var n=e.prototype;for(var r in n)t._mapMethod(r)},t}();e.Collection=i,i.prototype=[],i.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},i.prototype.toArray=function(){var t,e=[],n=this.length;for(t=0;t<n;t++)e.push(this[t]);return e};var o=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.m=t&&t.slice()||[1,0,0,1,0,0]}return t.prototype.copy=function(){return new t(this.m)},t.prototype.point=function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},t.prototype.translate=function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},t.prototype.scale=function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.m[0]*e+this.m[2]*n,i=this.m[1]*e+this.m[3]*n,o=this.m[0]*-n+this.m[2]*e,s=this.m[1]*-n+this.m[3]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=o,this.m[3]=s,this},t.prototype.getTranslation=function(){return{x:this.m[4],y:this.m[5]}},t.prototype.skew=function(t,e){var n=this.m[0]+this.m[2]*e,r=this.m[1]+this.m[3]*e,i=this.m[2]+this.m[0]*t,o=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=o,this},t.prototype.multiply=function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],r=this.m[0]*t.m[2]+this.m[2]*t.m[3],i=this.m[1]*t.m[2]+this.m[3]*t.m[3],o=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],s=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=s,this},t.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,r=-this.m[2]*t,i=this.m[0]*t,o=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),s=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=s,this},t.prototype.getMatrix=function(){return this.m},t.prototype.setAbsolutePosition=function(t,e){var n=this.m[0],r=this.m[1],i=this.m[2],o=this.m[3],s=this.m[4],a=(n*(e-this.m[5])-r*(t-s))/(n*o-r*i),c=(t-s-i*a)/n;return this.translate(c,a)},t}();e.Transform=o;var s=Math.PI/180,a=180/Math.PI,c={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},l=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,u=[];e.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject:function(t){return!!t&&t.constructor===Object},_isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},_isNumber:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t)},_isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},_isBoolean:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},isObject:function(t){return t instanceof Object},isValidSelector:function(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:function(t){return 0===t?0:t>0?1:-1},requestAnimFrame:function(t){u.push(t),1===u.length&&requestAnimationFrame((function(){var t=u;u=[],t.forEach((function(t){t()}))}))},createCanvasElement:function(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},createImageElement:function(){return document.createElement("img")},_isInDocument:function(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_simplifyArray:function(t){var n,r,i=[],o=t.length,s=e.Util;for(n=0;n<o;n++)r=t[n],s._isNumber(r)?r=Math.round(1e3*r)/1e3:s._isString(r)||(r=r.toString()),i.push(r);return i},_urlToImage:function(t,e){var n=new r.glob.Image;n.onload=function(){e(n)},n.src=t},_rgbToHex:function(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in c?{r:(e=c[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=l.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(t){return t=t||"black",e.Util._namedColorToRBA(t)||e.Util._hex3ColorToRGBA(t)||e.Util._hex6ColorToRGBA(t)||e.Util._rgbColorToRGBA(t)||e.Util._rgbaColorToRGBA(t)||e.Util._hslColorToRGBA(t)},_namedColorToRBA:function(t){var e=c[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA:function(t){if(0===t.indexOf("rgb(")){var e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA:function(t){if(0===t.indexOf("rgba(")){var e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA:function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA:function(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),n=(e[0],e.slice(1)),r=Number(n[0])/360,i=Number(n[1])/100,o=Number(n[2])/100,s=void 0,a=void 0,c=void 0;if(0===i)return c=255*o,{r:Math.round(c),g:Math.round(c),b:Math.round(c),a:1};for(var l=2*o-(s=o<.5?o*(1+i):o+i-o*i),u=[0,0,0],h=0;h<3;h++)(a=r+1/3*-(h-1))<0&&a++,a>1&&a--,c=6*a<1?l+6*(s-l)*a:2*a<1?s:3*a<2?l+(s-l)*(2/3-a)*6:l,u[h]=255*c;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection:function(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject:function(t){var e={};for(var n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*s},_radToDeg:function(t){return t*a},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw:function(t){throw new Error("Konva error: "+t)},error:function(t){console.error("Konva error: "+t)},warn:function(t){r.Konva.showWarnings&&console.warn("Konva warning: "+t)},extend:function(t,e){function n(){this.constructor=t}n.prototype=e.prototype;var r=t.prototype;for(var i in t.prototype=new n,r)r.hasOwnProperty(i)&&(t.prototype[i]=r[i]);t.__super__=e.prototype,t.super=e},_getControlPoints:function(t,e,n,r,i,o,s){var a=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),c=Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2)),l=s*a/(a+c),u=s*c/(a+c);return[n-l*(i-t),r-l*(o-e),n+u*(i-t),r+u*(o-e)]},_expandPoints:function(t,n){var r,i,o=t.length,s=[];for(r=2;r<o-2;r+=2)i=e.Util._getControlPoints(t[r-2],t[r-1],t[r],t[r+1],t[r+2],t[r+3],n),s.push(i[0]),s.push(i[1]),s.push(t[r]),s.push(t[r+1]),s.push(i[2]),s.push(i[3]);return s},each:function(t,e){for(var n in t)e(n,t[n])},_inRange:function(t,e,n){return e<=t&&t<n},_getProjectionToSegment:function(t,e,n,r,i,o){var s,a,c,l=(t-n)*(t-n)+(e-r)*(e-r);if(0==l)s=t,a=e,c=(i-n)*(i-n)+(o-r)*(o-r);else{var u=((i-t)*(n-t)+(o-e)*(r-e))/l;u<0?(s=t,a=e,c=(t-i)*(t-i)+(e-o)*(e-o)):u>1?(s=n,a=r,c=(n-i)*(n-i)+(r-o)*(r-o)):c=((s=t+u*(n-t))-i)*(s-i)+((a=e+u*(r-e))-o)*(a-o)}return[s,a,c]},_getProjectionToLine:function(t,n,r){var i=e.Util.cloneObject(t),o=Number.MAX_VALUE;return n.forEach((function(s,a){if(r||a!==n.length-1){var c=n[(a+1)%n.length],l=e.Util._getProjectionToSegment(s.x,s.y,c.x,c.y,t.x,t.y),u=l[0],h=l[1],d=l[2];d<o&&(i.x=u,i.y=h,o=d)}})),i},_prepareArrayForTween:function(t,n,r){var i,o=[],s=[];if(t.length>n.length){var a=n;n=t,t=a}for(i=0;i<t.length;i+=2)o.push({x:t[i],y:t[i+1]});for(i=0;i<n.length;i+=2)s.push({x:n[i],y:n[i+1]});var c=[];return s.forEach((function(t){var n=e.Util._getProjectionToLine(t,o,r);c.push(n.x),c.push(n.y)})),c},_prepareToStringify:function(t){var n;for(var r in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(r)&&t[r]&&"object"==typeof t[r])if(n=Object.getOwnPropertyDescriptor(t,r),t[r].visitedByCircularReferenceRemoval||e.Util._isElement(t[r])){if(!n.configurable)return null;delete t[r]}else if(null===e.Util._prepareToStringify(t[r])){if(!n.configurable)return null;delete t[r]}return delete t.visitedByCircularReferenceRemoval,t},_assign:function(t,e){for(var n in e)t[n]=e[n];return t},_getFirstPointerId:function(t){return t.touches?t.changedTouches[0].identifier:999}}},function(t,e,n){"use strict";e.__esModule=!0,e.Shape=void 0;var r=n(53),i=n(11);e.Shape=function(){function t(e,n,r,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.middlePoints=[],this.templayer=e.findOne(".templayer"),this.showlayer=e.findOne(".showlayer"),this.style=n,this.stage=e,this.shape=null,this.isShift=!1,this.isFill=!1,this.clientid=r,this.toolname=i,this.style=n,this.showtype=o,this.pressure=1}return t.prototype.startDataTemp=function(t){},t.prototype.centerDataTemp=function(t){return[t.x,t.y,this.clientid]},t.prototype.endDataTemp=function(t){return[[t.x,t.y,this.clientid,!0]]},t.prototype.pushPoint=function(t){this.middlePoints.push(t.x/this.stage.scale().x),this.middlePoints.push(t.y/this.stage.scale().x)},t.prototype.draw=function(){},t.prototype.endDraw=function(){var t=this.shape.clone();this.toolname===i.DRAWTOOL_PENCIL&&t.sceneFunc(r.sceneFunc),this.shape.remove(),this.shape.destroy(),this.showlayer.add(t),"replayData"===this.showtype||t.draw()},t.prototype.customEndFunc=function(){},t.prototype.destroy=function(){this.shape.remove(),this.shape.destroy()},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=n(4),o=n(33),s=n(5),a=n(38),c=n(6);e.ids={},e.names={};e._removeId=function(t,n){t&&e.ids[t]===n&&delete e.ids[t]},e._addName=function(t,n){n&&(e.names[n]||(e.names[n]=[]),e.names[n].push(t))},e._removeName=function(t,n){if(t){var r=e.names[t];if(r){for(var i=0;i<r.length;i++){r[i]._id===n&&r.splice(i,1)}0===r.length&&delete e.names[t]}}};var l=["id"],u=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(" "),h=["scaleXChange.konva","scaleYChange.konva"].join(" "),d=new r.Collection,p=1,f=function(){function t(t){var e=this;this._id=p++,this.eventListeners={},this.attrs={},this.index=0,this.parent=null,this._cache=new Map,this._lastPos=null,this._filterUpToDate=!1,this._isUnderCache=!1,this.children=d,this._dragEventId=null,this.setAttrs(t),this.on(u,(function(){e._clearCache("transform"),e._clearSelfAndDescendantCache("absoluteTransform")})),this.on(h,(function(){e._clearSelfAndDescendantCache("absoluteScale")})),this.on("visibleChange.konva",(function(){e._clearSelfAndDescendantCache("visible")})),this.on("listeningChange.konva",(function(){e._clearSelfAndDescendantCache("listening")})),this.on("opacityChange.konva",(function(){e._clearSelfAndDescendantCache("absoluteOpacity")}))}return t.prototype.hasChildren=function(){return!1},t.prototype.getChildren=function(){return d},t.prototype._clearCache=function(t){t?this._cache.delete(t):this._cache.clear()},t.prototype._getCache=function(t,e){var n=this._cache.get(t);return void 0===n&&(n=e.call(this),this._cache.set(t,n)),n},t.prototype._getCanvasCache=function(){return this._cache.get("canvas")},t.prototype._clearSelfAndDescendantCache=function(t){this._clearCache(t),this.isCached()||this.children&&this.children.each((function(e){e._clearSelfAndDescendantCache(t)}))},t.prototype.clearCache=function(){return this._cache.delete("canvas"),this._clearSelfAndDescendantCache(),this},t.prototype.cache=function(t){var e=t||{},n={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var i=Math.ceil(e.width||n.width),s=Math.ceil(e.height||n.height),a=e.pixelRatio,c=void 0===e.x?n.x:e.x,l=void 0===e.y?n.y:e.y,u=e.offset||0,h=e.drawBorder||!1;if(i&&s){i+=2*u,s+=2*u,c-=u,l-=u;var d=new o.SceneCanvas({pixelRatio:a,width:i,height:s}),p=new o.SceneCanvas({pixelRatio:a,width:i,height:s}),f=new o.HitCanvas({pixelRatio:1,width:i,height:s}),g=d.getContext(),m=f.getContext();return f.isCache=!0,this._cache.delete("canvas"),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(d.getContext()._context.imageSmoothingEnabled=!1,p.getContext()._context.imageSmoothingEnabled=!1,f.getContext()._context.imageSmoothingEnabled=!1),g.save(),m.save(),g.translate(-c,-l),m.translate(-c,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache("absoluteOpacity"),this._clearSelfAndDescendantCache("absoluteScale"),this.drawScene(d,this,!0),this.drawHit(f,this,!0),this._isUnderCache=!1,g.restore(),m.restore(),h&&(g.save(),g.beginPath(),g.rect(0,0,i,s),g.closePath(),g.setAttr("strokeStyle","red"),g.setAttr("lineWidth",5),g.stroke(),g.restore()),this._cache.set("canvas",{scene:d,filter:p,hit:f,x:c,y:l}),this}r.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")},t.prototype.isCached=function(){return this._cache.has("canvas")},t.prototype.getClientRect=function(t){throw new Error('abstract "getClientRect" method call')},t.prototype._transformedRect=function(t,e){var n,r,i,o,s=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],a=this.getAbsoluteTransform(e);return s.forEach((function(t){var e=a.point(t);void 0===n&&(n=i=e.x,r=o=e.y),n=Math.min(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.x),o=Math.max(o,e.y)})),{x:n,y:r,width:i-n,height:o-r}},t.prototype._drawCachedSceneCanvas=function(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);var e=this._getCanvasCache();t.translate(e.x,e.y);var n=this._getCachedSceneCanvas(),r=n.pixelRatio;t.drawImage(n._canvas,0,0,n.width/r,n.height/r),t.restore()},t.prototype._drawCachedHitCanvas=function(t){var e=this._getCanvasCache(),n=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(n._canvas,0,0),t.restore()},t.prototype._getCachedSceneCanvas=function(){var t,e,n,i,o=this.filters(),s=this._getCanvasCache(),a=s.scene,c=s.filter,l=c.getContext();if(o){if(!this._filterUpToDate){var u=a.pixelRatio;try{for(t=o.length,l.clear(),l.drawImage(a._canvas,0,0,a.getWidth()/u,a.getHeight()/u),e=l.getImageData(0,0,c.getWidth(),c.getHeight()),n=0;n<t;n++)"function"==typeof(i=o[n])?(i.call(this,e),l.putImageData(e,0,0)):r.Util.error("Filter should be type of function, but got "+typeof i+" insted. Please check correct filters")}catch(t){r.Util.error("Unable to apply filter. "+t.message)}this._filterUpToDate=!0}return c}return a},t.prototype.on=function(t,e){if(3===arguments.length)return this._delegate.apply(this,arguments);var n,r,i,o,s=t.split(" "),a=s.length;for(n=0;n<a;n++)i=(r=s[n].split("."))[0],o=r[1]||"",this.eventListeners[i]||(this.eventListeners[i]=[]),this.eventListeners[i].push({name:o,handler:e});return this},t.prototype.off=function(t,e){var n,r,i,o,s,a=(t||"").split(" "),c=a.length;if(!t)for(r in this.eventListeners)this._off(r);for(n=0;n<c;n++)if(o=(i=a[n].split("."))[0],s=i[1],o)this.eventListeners[o]&&this._off(o,s,e);else for(r in this.eventListeners)this._off(r,s,e);return this},t.prototype.dispatchEvent=function(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this},t.prototype.addEventListener=function(t,e){return this.on(t,(function(t){e.call(this,t.evt)})),this},t.prototype.removeEventListener=function(t){return this.off(t),this},t.prototype._delegate=function(t,e,n){var i=this;this.on(t,(function(t){for(var o=t.target.findAncestors(e,!0,i),s=0;s<o.length;s++)(t=r.Util.cloneObject(t)).currentTarget=o[s],n.call(o[s],t)}))},t.prototype.remove=function(){return this.isDragging()&&this.stopDrag(),a.DD._dragElements.delete(this._id),this._remove(),this},t.prototype._remove=function(){this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache("absoluteTransform"),this._clearSelfAndDescendantCache("visible"),this._clearSelfAndDescendantCache("listening"),this._clearSelfAndDescendantCache("absoluteOpacity");var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)},t.prototype.destroy=function(){e._removeId(this.id(),this);for(var t=(this.name()||"").split(/\s/g),n=0;n<t.length;n++){var r=t[n];e._removeName(r,this._id)}return this.remove(),this},t.prototype.getAttr=function(t){var e="get"+r.Util._capitalize(t);return r.Util._isFunction(this[e])?this[e]():this.attrs[t]},t.prototype.getAncestors=function(){for(var t=this.getParent(),e=new r.Collection;t;)e.push(t),t=t.getParent();return e},t.prototype.getAttrs=function(){return this.attrs||{}},t.prototype.setAttrs=function(t){var e,n;if(!t)return this;for(e in t)"children"!==e&&(n="set"+r.Util._capitalize(e),r.Util._isFunction(this[n])?this[n](t[e]):this._setAttr(e,t[e]));return this},t.prototype.isListening=function(){return this._getCache("listening",this._isListening)},t.prototype._isListening=function(){var t=this.listening(),e=this.getParent();return"inherit"===t?!e||e.isListening():t},t.prototype.isVisible=function(){return this._getCache("visible",this._isVisible)},t.prototype._isVisible=function(t){var e=this.visible(),n=this.getParent();return"inherit"===e?!n||n===t||n._isVisible(t):t&&t!==n?e&&n._isVisible(t):e},t.prototype.shouldDrawHit=function(){var t=this.getLayer();return!t&&this.isListening()&&this.isVisible()||t&&t.hitGraphEnabled()&&this.isListening()&&this.isVisible()},t.prototype.show=function(){return this.visible(!0),this},t.prototype.hide=function(){return this.visible(!1),this},t.prototype.getZIndex=function(){return this.index||0},t.prototype.getAbsoluteZIndex=function(){var t,e,n,r,i=this.getDepth(),o=this,s=0;return"Stage"!==o.nodeType&&function a(c){for(t=[],e=c.length,n=0;n<e;n++)r=c[n],s++,"Shape"!==r.nodeType&&(t=t.concat(r.getChildren().toArray())),r._id===o._id&&(n=e);t.length>0&&t[0].getDepth()<=i&&a(t)}(o.getStage().getChildren()),s},t.prototype.getDepth=function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},t.prototype.setPosition=function(t){return this.x(t.x),this.y(t.y),this},t.prototype.getPosition=function(){return{x:this.x(),y:this.y()}},t.prototype.getAbsolutePosition=function(t){for(var e=!1,n=this.parent;n;){if(n.isCached()){e=!0;break}n=n.parent}e&&!t&&(t=!0);var i=this.getAbsoluteTransform(t).getMatrix(),o=new r.Transform,s=this.offset();return o.m=i.slice(),o.translate(s.x,s.y),o.getTranslation()},t.prototype.setAbsolutePosition=function(t){var e,n=this._clearTransform();return this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,(e=this.getAbsoluteTransform()).invert(),e.translate(t.x,t.y),t={x:this.attrs.x+e.getTranslation().x,y:this.attrs.y+e.getTranslation().y},this.setPosition({x:t.x,y:t.y}),this._setTransform(n),this},t.prototype._setTransform=function(t){var e;for(e in t)this.attrs[e]=t[e];this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},t.prototype._clearTransform=function(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform"),t},t.prototype.move=function(t){var e=t.x,n=t.y,r=this.x(),i=this.y();return void 0!==e&&(r+=e),void 0!==n&&(i+=n),this.setPosition({x:r,y:i}),this},t.prototype._eachAncestorReverse=function(t,e){var n,r,i=[],o=this.getParent();if(e&&e._id===this._id)t(this);else{for(i.unshift(this);o&&(!e||o._id!==e._id);)i.unshift(o),o=o.parent;for(n=i.length,r=0;r<n;r++)t(i[r])}},t.prototype.rotate=function(t){return this.rotation(this.rotation()+t),this},t.prototype.moveToTop=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},t.prototype.moveUp=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveDown=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveToBottom=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},t.prototype.setZIndex=function(t){if(!this.parent)return r.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&r.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this},t.prototype.getAbsoluteOpacity=function(){return this._getCache("absoluteOpacity",this._getAbsoluteOpacity)},t.prototype._getAbsoluteOpacity=function(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t},t.prototype.moveTo=function(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this},t.prototype.toObject=function(){var t,e,n,i,o={},s=this.getAttrs();for(t in o.attrs={},s)e=s[t],r.Util.isObject(e)&&!r.Util._isPlainObject(e)&&!r.Util._isArray(e)||(n="function"==typeof this[t]&&this[t],delete s[t],i=n?n.call(this):null,s[t]=e,i!==e&&(o.attrs[t]=e));return o.className=this.getClassName(),r.Util._prepareToStringify(o)},t.prototype.toJSON=function(){return JSON.stringify(this.toObject())},t.prototype.getParent=function(){return this.parent},t.prototype.findAncestors=function(t,e,n){var r=[];e&&this._isMatch(t)&&r.push(this);for(var i=this.parent;i;){if(i===n)return r;i._isMatch(t)&&r.push(i),i=i.parent}return r},t.prototype.isAncestorOf=function(t){return!1},t.prototype.findAncestor=function(t,e,n){return this.findAncestors(t,e,n)[0]},t.prototype._isMatch=function(t){if(!t)return!1;if("function"==typeof t)return t(this);var e,n,i=t.replace(/ /g,"").split(","),o=i.length;for(e=0;e<o;e++)if(n=i[e],r.Util.isValidSelector(n)||(r.Util.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),r.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),r.Util.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1},t.prototype.getLayer=function(){var t=this.getParent();return t?t.getLayer():null},t.prototype.getStage=function(){return this._getCache("stage",this._getStage)},t.prototype._getStage=function(){var t=this.getParent();return t?t.getStage():void 0},t.prototype.fire=function(t,e,n){return(e=e||{}).target=e.target||this,n?this._fireAndBubble(t,e):this._fire(t,e),this},t.prototype.getAbsoluteTransform=function(t){return t?this._getAbsoluteTransform(t):this._getCache("absoluteTransform",this._getAbsoluteTransform)},t.prototype._getAbsoluteTransform=function(t){var e;if(t)return e=new r.Transform,this._eachAncestorReverse((function(t){var n=t.transformsEnabled();"all"===n?e.multiply(t.getTransform()):"position"===n&&e.translate(t.x()-t.offsetX(),t.y()-t.offsetY())}),t),e;e=this.parent?this.parent.getAbsoluteTransform().copy():new r.Transform;var n=this.transformsEnabled();return"all"===n?e.multiply(this.getTransform()):"position"===n&&e.translate(this.x()-this.offsetX(),this.y()-this.offsetY()),e},t.prototype.getAbsoluteScale=function(t){return t?this._getAbsoluteScale(t):this._getCache("absoluteScale",this._getAbsoluteScale)},t.prototype._getAbsoluteScale=function(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();var n=1,r=1;return this._eachAncestorReverse((function(t){n*=t.scaleX(),r*=t.scaleY()}),t),{x:n,y:r}},t.prototype.getAbsoluteRotation=function(){for(var t=this,e=0;t;)e+=t.rotation(),t=t.getParent();return e},t.prototype.getTransform=function(){return this._getCache("transform",this._getTransform)},t.prototype._getTransform=function(){var t=new r.Transform,e=this.x(),n=this.y(),i=s.Konva.getAngle(this.rotation()),o=this.scaleX(),a=this.scaleY(),c=this.skewX(),l=this.skewY(),u=this.offsetX(),h=this.offsetY();return 0===e&&0===n||t.translate(e,n),0!==i&&t.rotate(i),0===c&&0===l||t.skew(c,l),1===o&&1===a||t.scale(o,a),0===u&&0===h||t.translate(-1*u,-1*h),t},t.prototype.clone=function(t){var e,n,i,o,s,a=r.Util.cloneObject(this.attrs);for(var c in l){delete a[l[c]]}for(e in t)a[e]=t[e];var u=new this.constructor(a);for(e in this.eventListeners)for(i=(n=this.eventListeners[e]).length,o=0;o<i;o++)(s=n[o]).name.indexOf("konva")<0&&(u.eventListeners[e]||(u.eventListeners[e]=[]),u.eventListeners[e].push(s));return u},t.prototype._toKonvaCanvas=function(t){t=t||{};var e=this.getClientRect(),n=this.getStage(),r=void 0!==t.x?t.x:e.x,i=void 0!==t.y?t.y:e.y,s=t.pixelRatio||1,a=new o.SceneCanvas({width:t.width||e.width||(n?n.width():0),height:t.height||e.height||(n?n.height():0),pixelRatio:s}),c=a.getContext();return c.save(),(r||i)&&c.translate(-1*r,-1*i),this.drawScene(a),c.restore(),a},t.prototype.toCanvas=function(t){return this._toKonvaCanvas(t)._canvas},t.prototype.toDataURL=function(t){var e=(t=t||{}).mimeType||null,n=t.quality||null,r=this._toKonvaCanvas(t).toDataURL(e,n);return t.callback&&t.callback(r),r},t.prototype.toImage=function(t){if(!t||!t.callback)throw"callback required for toImage method config argument";var e=t.callback;delete t.callback,r.Util._urlToImage(this.toDataURL(t),(function(t){e(t)}))},t.prototype.setSize=function(t){return this.width(t.width),this.height(t.height),this},t.prototype.getSize=function(){return{width:this.width(),height:this.height()}},t.prototype.getClassName=function(){return this.className||this.nodeType},t.prototype.getType=function(){return this.nodeType},t.prototype.getDragDistance=function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():s.Konva.dragDistance},t.prototype._off=function(t,e,n){var r,i,o,s=this.eventListeners[t];for(r=0;r<s.length;r++)if(i=s[r].name,o=s[r].handler,!("konva"===i&&"konva"!==e||e&&i!==e||n&&n!==o)){if(s.splice(r,1),0===s.length){delete this.eventListeners[t];break}r--}},t.prototype._fireChangeEvent=function(t,e,n){this._fire(t+"Change",{oldVal:e,newVal:n})},t.prototype.setId=function(t){var n=this.id();return e._removeId(n,this),function(t,n){n&&(e.ids[n]=t)}(this,t),this._setAttr("id",t),this},t.prototype.setName=function(t){var n,r,i=(this.name()||"").split(/\s/g),o=(t||"").split(/\s/g);for(r=0;r<i.length;r++)n=i[r],-1===o.indexOf(n)&&n&&e._removeName(n,this._id);for(r=0;r<o.length;r++)n=o[r],-1===i.indexOf(n)&&n&&e._addName(this,n);return this._setAttr("name",t),this},t.prototype.addName=function(t){if(!this.hasName(t)){var e=this.name(),n=e?e+" "+t:t;this.setName(n)}return this},t.prototype.hasName=function(t){if(!t)return!1;var e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)},t.prototype.removeName=function(t){var e=(this.name()||"").split(/\s/g),n=e.indexOf(t);return-1!==n&&(e.splice(n,1),this.setName(e.join(" "))),this},t.prototype.setAttr=function(t,e){var n=this["set"+r.Util._capitalize(t)];return r.Util._isFunction(n)?n.call(this,e):this._setAttr(t,e),this},t.prototype._setAttr=function(t,e){var n=this.attrs[t];(n!==e||r.Util.isObject(e))&&(null==e?delete this.attrs[t]:this.attrs[t]=e,this._fireChangeEvent(t,n,e))},t.prototype._setComponentAttr=function(t,e,n){var r;void 0!==n&&((r=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,r,n))},t.prototype._fireAndBubble=function(t,e,n){if(e&&"Shape"===this.nodeType&&(e.target=this),!(("mouseenter"===t||"mouseleave"===t)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n))){this._fire(t,e);var r=("mouseenter"===t||"mouseleave"===t)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!r&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n.parent):this._fireAndBubble.call(this.parent,t,e))}},t.prototype._fire=function(t,e){var n,r=this.eventListeners[t];if(r)for((e=e||{}).currentTarget=this,e.type=t,n=0;n<r.length;n++)r[n].handler.call(this,e)},t.prototype.draw=function(){return this.drawScene(),this.drawHit(),this},t.prototype._createDragElement=function(t){var e=t?t.pointerId:void 0,n=this.getStage(),r=this.getAbsolutePosition(),i=n._getPointerById(e)||n._changedPointerPositions[0]||r;a.DD._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-r.x,y:i.y-r.y},dragStatus:"ready",pointerId:e})},t.prototype.startDrag=function(t){a.DD._dragElements.has(this._id)||this._createDragElement(t),a.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},!0)},t.prototype._setDragPosition=function(t,e){var n=this.getStage()._getPointerById(e.pointerId);if(n){var i={x:n.x-e.offset.x,y:n.y-e.offset.y},o=this.dragBoundFunc();if(void 0!==o){var s=o.call(this,i,t);s?i=s:r.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===i.x&&this._lastPos.y===i.y||(this.setAbsolutePosition(i),this.getLayer()?this.getLayer().batchDraw():this.getStage()&&this.getStage().batchDraw()),this._lastPos=i}},t.prototype.stopDrag=function(t){var e=a.DD._dragElements.get(this._id);e&&(e.dragStatus="stopped"),a.DD._endDragBefore(t),a.DD._endDragAfter(t)},t.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()},t.prototype.isDragging=function(){var t=a.DD._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus},t.prototype._listenDrag=function(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(t){var e=this;if((!(void 0!==t.evt.button)||s.Konva.dragButtons.indexOf(t.evt.button)>=0)&&!this.isDragging()){var n=!1;a.DD._dragElements.forEach((function(t){e.isAncestorOf(t.node)&&(n=!0)})),n||this._createDragElement(t)}}))},t.prototype._dragChange=function(){this.attrs.draggable?this._listenDrag():(this._dragCleanup(),this.getStage()&&a.DD._dragElements.has(this._id)&&this.stopDrag())},t.prototype._dragCleanup=function(){this.off("mousedown.konva"),this.off("touchstart.konva")},t.create=function(t,e){return r.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)},t._createNode=function(e,n){var i,o,a,c=t.prototype.getClassName.call(e),l=e.children;if(n&&(e.attrs.container=n),s._NODES_REGISTRY[c]||(r.Util.warn('Can not find a node with class name "'+c+'". Fallback to "Shape".'),c="Shape"),i=new(0,s._NODES_REGISTRY[c])(e.attrs),l)for(o=l.length,a=0;a<o;a++)i.add(t._createNode(l[a]));return i},t}();e.Node=f,f.prototype.nodeType="Node",f.prototype._attrsAffectingSize=[],i.Factory.addGetterSetter(f,"zIndex"),i.Factory.addGetterSetter(f,"absolutePosition"),i.Factory.addGetterSetter(f,"position"),i.Factory.addGetterSetter(f,"x",0,c.getNumberValidator()),i.Factory.addGetterSetter(f,"y",0,c.getNumberValidator()),i.Factory.addGetterSetter(f,"globalCompositeOperation","source-over",c.getStringValidator()),i.Factory.addGetterSetter(f,"opacity",1,c.getNumberValidator()),i.Factory.addGetterSetter(f,"name","",c.getStringValidator()),i.Factory.addGetterSetter(f,"id","",c.getStringValidator()),i.Factory.addGetterSetter(f,"rotation",0,c.getNumberValidator()),i.Factory.addComponentsGetterSetter(f,"scale",["x","y"]),i.Factory.addGetterSetter(f,"scaleX",1,c.getNumberValidator()),i.Factory.addGetterSetter(f,"scaleY",1,c.getNumberValidator()),i.Factory.addComponentsGetterSetter(f,"skew",["x","y"]),i.Factory.addGetterSetter(f,"skewX",0,c.getNumberValidator()),i.Factory.addGetterSetter(f,"skewY",0,c.getNumberValidator()),i.Factory.addComponentsGetterSetter(f,"offset",["x","y"]),i.Factory.addGetterSetter(f,"offsetX",0,c.getNumberValidator()),i.Factory.addGetterSetter(f,"offsetY",0,c.getNumberValidator()),i.Factory.addGetterSetter(f,"dragDistance",null,c.getNumberValidator()),i.Factory.addGetterSetter(f,"width",0,c.getNumberValidator()),i.Factory.addGetterSetter(f,"height",0,c.getNumberValidator()),i.Factory.addGetterSetter(f,"listening","inherit",(function(t){return!0===t||!1===t||"inherit"===t||r.Util.warn(t+' is a not valid value for "listening" attribute. The value may be true, false or "inherit".'),t})),i.Factory.addGetterSetter(f,"preventDefault",!0,c.getBooleanValidator()),i.Factory.addGetterSetter(f,"filters",null,(function(t){return this._filterUpToDate=!1,t})),i.Factory.addGetterSetter(f,"visible","inherit",(function(t){return!0===t||!1===t||"inherit"===t||r.Util.warn(t+' is a not valid value for "visible" attribute. The value may be true, false or "inherit".'),t})),i.Factory.addGetterSetter(f,"transformsEnabled","all",c.getStringValidator()),i.Factory.addGetterSetter(f,"size"),i.Factory.addGetterSetter(f,"dragBoundFunc"),i.Factory.addGetterSetter(f,"draggable",!1,c.getBooleanValidator()),i.Factory.backCompat(f,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),r.Collection.mapMethods(f)},,function(t,e,n){"use strict";e.__esModule=!0;e.CANVAS_RATIO=9/16,e.CANVAS_WIDTH=800,e.CANVAS_HEIGHT=450,e.EDIT_LABLE_DXY={dx:5,dy:-15},e.RECOVER_NUM=10,e.EDIT_CIRCLE_RADIUS=4,e.DRAWTOOL_PENCIL="brush",e.DRAWTOOL_RECT="rectangle",e.DRAWTOOL_LINE="line",e.DRAWTOOL_LINEARROW="linearrow",e.DRAWTOOL_ELLIPSE="ellipse",e.DRAWTOOL_ERASER="eraser",e.DRAWTOOL_ERASER_RECTANGLE="eraserrectangle",e.DRAWTOOL_TRIANGLE="triangle",e.DRAWTOOL_STAR="star",e.DRAWTOOL_TEXTTOOL="texttool",e.DRAWTOOL_PRESSUREPEN="pressurepen",e.DRAWTOOL_SMOOTHLINE="smoothline",e.DRAWTOOL_ROBOPEN="robopen",e.DRAWTOOL_RECT_EDIT="rectangle_edit",e.DRAWTOOL_CIRCLE_EDIT="circle_edit",e.DRAWTOOL_POLYGON_EDIT="polygon_edit",e.DRAWTOOL_ELLIPSE_EDIT="ellipse_edit",e.DRAWTOOL_SIMPLE_ELLIPSE_EDIT="s_ellipse_edit",e.DRAWTOOL_SIMPLE_TRIANGLE_EDIT="s_triangle_edit",e.DRAWTOOL_LINE_EDIT="line_edit",e.DRAWTOOL_LINEDASH_EDIT="linedash_edit",e.DRAWTOOL_LINEARROW_EDIT="linearrow_edit",e.DRAWTOOL_LINEARROWDASH_EDIT="linearrowdash_edit",e.DRAWTOOL_TEXTTOOL_EDIT="text_edit",e.DRAWTOOL_COORDSYS_EDIT="coord_sys",e.DRAWTOOL_SELCTE_SHAPE="select_shape",e.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE="edit_regular",e.DRAWTOOL_EDIT_SHAPE_DELETE="edit_delete",e.DRAWTOOL_EDIT_PAGE_DELETE="edit_delete_page",e.DRAWTOOL_EDIT_RECOVER="edit_recover"},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=n(7),a=n(4),c=n(9),l=n(6),u=n(5),h=n(79);function d(){return o||(o=s.Util.createCanvasElement().getContext("2d"))}function p(){this._clearCache("hasShadow")}function f(){this._clearCache("shadowRGBA")}function g(){this._clearCache("patternImage")}function m(){this._clearCache("linearGradient")}function v(){this._clearCache("radialGradient")}e.shapes={};var y=function(t){function n(n){for(var r,i=t.call(this,n)||this;!(r=s.Util.getRandomColor())||r in e.shapes;);return i.colorKey=r,e.shapes[r]=i,i.on("shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",p),i.on("shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",f),i.on("fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva",g),i.on("fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",m),i.on("fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",v),i}return i(n,t),n.prototype.getContext=function(){return this.getLayer().getContext()},n.prototype.getCanvas=function(){return this.getLayer().getCanvas()},n.prototype.getSceneFunc=function(){return this.attrs.sceneFunc||this._sceneFunc},n.prototype.getHitFunc=function(){return this.attrs.hitFunc||this._hitFunc},n.prototype.hasShadow=function(){return this._getCache("hasShadow",this._hasShadow)},n.prototype._hasShadow=function(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())},n.prototype._getFillPattern=function(){return this._getCache("patternImage",this.__getFillPattern)},n.prototype.__getFillPattern=function(){if(this.fillPatternImage())return d().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat")},n.prototype._getLinearGradient=function(){return this._getCache("linearGradient",this.__getLinearGradient)},n.prototype.__getLinearGradient=function(){var t=this.fillLinearGradientColorStops();if(t){for(var e=d(),n=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),i=e.createLinearGradient(n.x,n.y,r.x,r.y),o=0;o<t.length;o+=2)i.addColorStop(t[o],t[o+1]);return i}},n.prototype._getRadialGradient=function(){return this._getCache("radialGradient",this.__getRadialGradient)},n.prototype.__getRadialGradient=function(){var t=this.fillRadialGradientColorStops();if(t){for(var e=d(),n=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),i=e.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius()),o=0;o<t.length;o+=2)i.addColorStop(t[o],t[o+1]);return i}},n.prototype.getShadowRGBA=function(){return this._getCache("shadowRGBA",this._getShadowRGBA)},n.prototype._getShadowRGBA=function(){if(this.hasShadow()){var t=s.Util.colorToRGBA(this.shadowColor());return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}},n.prototype.hasFill=function(){return!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())},n.prototype.hasStroke=function(){return this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())},n.prototype.hasHitStroke=function(){var t=this.hitStrokeWidth();return this.strokeEnabled()&&(t||this.strokeWidth()&&"auto"===t)},n.prototype.intersects=function(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0},n.prototype.destroy=function(){return c.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this},n.prototype._useBufferCanvas=function(t){return!(t&&!this.hasShadow()||!this.perfectDrawEnabled()||1===this.getAbsoluteOpacity()||!this.hasFill()||!this.hasStroke()||!this.getStage())},n.prototype.setStrokeHitEnabled=function(t){t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)},n.prototype.getStrokeHitEnabled=function(){return 0!==this.hitStrokeWidth()},n.prototype.getSelfRect=function(){var t=this.size();return{x:this._centroid?Math.round(-t.width/2):0,y:this._centroid?Math.round(-t.height/2):0,width:t.width,height:t.height}},n.prototype.getClientRect=function(t){var e=(t=t||{}).skipTransform,n=t.relativeTo,r=this.getSelfRect(),i=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,o=r.width+i,s=r.height+i,a=!t.skipShadow&&this.hasShadow(),c=a?this.shadowOffsetX():0,l=a?this.shadowOffsetY():0,u=o+Math.abs(c),h=s+Math.abs(l),d=a&&this.shadowBlur()||0,p=u+2*d,f=h+2*d,g=0;Math.round(i/2)!==i/2&&(g=1);var m={width:p+g,height:f+g,x:-Math.round(i/2+d)+Math.min(c,0)+r.x,y:-Math.round(i/2+d)+Math.min(l,0)+r.y};return e?m:this._transformedRect(m,n)},n.prototype.drawScene=function(t,e,n,r){var i,o,s=this.getLayer(),a=t||s.getCanvas(),c=a.getContext(),l=this._getCanvasCache(),u=this.sceneFunc(),h=this.hasShadow(),d=this.hasStroke();if(!this.isVisible()&&!n)return this;if(l)return c.save(),s._applyTransform(this,c,e),this._drawCachedSceneCanvas(c),c.restore(),this;if(!u)return this;if(c.save(),this._useBufferCanvas(n)&&!r){if((o=(i=this.getStage().bufferCanvas).getContext()).clear(),o.save(),o._applyLineJoin(this),!n)if(s)s._applyTransform(this,o,e);else{var p=this.getAbsoluteTransform(e).getMatrix();c.transform(p[0],p[1],p[2],p[3],p[4],p[5])}u.call(this,o,this),o.restore();var f=i.pixelRatio;h&&!a.hitCanvas?(c.save(),c._applyShadow(this),c._applyOpacity(this),c._applyGlobalCompositeOperation(this),c.drawImage(i._canvas,0,0,i.width/f,i.height/f),c.restore()):(c._applyOpacity(this),c._applyGlobalCompositeOperation(this),c.drawImage(i._canvas,0,0,i.width/f,i.height/f))}else{if(c._applyLineJoin(this),!n)if(s)s._applyTransform(this,c,e);else{var g=this.getAbsoluteTransform(e).getMatrix();c.transform(g[0],g[1],g[2],g[3],g[4],g[5])}h&&d&&!a.hitCanvas?(c.save(),n||(c._applyOpacity(this),c._applyGlobalCompositeOperation(this)),c._applyShadow(this),u.call(this,c,this),c.restore(),this.hasFill()&&this.shadowForStrokeEnabled()&&u.call(this,c,this)):h&&!a.hitCanvas?(c.save(),n||(c._applyOpacity(this),c._applyGlobalCompositeOperation(this)),c._applyShadow(this),u.call(this,c,this),c.restore()):(n||(c._applyOpacity(this),c._applyGlobalCompositeOperation(this)),u.call(this,c,this))}return c.restore(),this},n.prototype.drawHit=function(t,e,n){var r=this.getLayer(),i=t||r.hitCanvas,o=i&&i.getContext(),a=this.hitFunc()||this.sceneFunc(),c=this._getCanvasCache(),l=c&&c.hit;if(this.colorKey||(console.log(this),s.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()")),!this.shouldDrawHit()&&!n)return this;if(l)return o.save(),r._applyTransform(this,o,e),this._drawCachedHitCanvas(o),o.restore(),this;if(!a)return this;if(o.save(),o._applyLineJoin(this),!n)if(r)r._applyTransform(this,o,e);else{var u=this.getAbsoluteTransform(e).getMatrix();o.transform(u[0],u[1],u[2],u[3],u[4],u[5])}return a.call(this,o,this),o.restore(),this},n.prototype.drawHitFromCache=function(t){void 0===t&&(t=0);var e,n,r,i,o,a=this._getCanvasCache(),c=this._getCachedSceneCanvas(),l=a.hit,u=l.getContext(),h=l.getWidth(),d=l.getHeight();u.clear(),u.drawImage(c._canvas,0,0,h,d);try{for(r=(n=(e=u.getImageData(0,0,h,d)).data).length,i=s.Util._hexToRgb(this.colorKey),o=0;o<r;o+=4)n[o+3]>t?(n[o]=i.r,n[o+1]=i.g,n[o+2]=i.b,n[o+3]=255):n[o+3]=0;u.putImageData(e,0,0)}catch(t){s.Util.error("Unable to draw hit graph from cached scene canvas. "+t.message)}return this},n.prototype.hasPointerCapture=function(t){return h.hasPointerCapture(t,this)},n.prototype.setPointerCapture=function(t){h.setPointerCapture(t,this)},n.prototype.releaseCapture=function(t){h.releaseCapture(t,this)},n}(c.Node);e.Shape=y,y.prototype._fillFunc=function(t){t.fill()},y.prototype._strokeFunc=function(t){t.stroke()},y.prototype._fillFuncHit=function(t){t.fill()},y.prototype._strokeFuncHit=function(t){t.stroke()},y.prototype._centroid=!1,y.prototype.nodeType="Shape",u._registerNode(y),a.Factory.addGetterSetter(y,"stroke",void 0,l.getStringValidator()),a.Factory.addGetterSetter(y,"strokeWidth",2,l.getNumberValidator()),a.Factory.addGetterSetter(y,"hitStrokeWidth","auto",l.getNumberOrAutoValidator()),a.Factory.addGetterSetter(y,"strokeHitEnabled",!0,l.getBooleanValidator()),a.Factory.addGetterSetter(y,"perfectDrawEnabled",!0,l.getBooleanValidator()),a.Factory.addGetterSetter(y,"shadowForStrokeEnabled",!0,l.getBooleanValidator()),a.Factory.addGetterSetter(y,"lineJoin"),a.Factory.addGetterSetter(y,"lineCap"),a.Factory.addGetterSetter(y,"sceneFunc"),a.Factory.addGetterSetter(y,"hitFunc"),a.Factory.addGetterSetter(y,"dash"),a.Factory.addGetterSetter(y,"dashOffset",0,l.getNumberValidator()),a.Factory.addGetterSetter(y,"shadowColor",void 0,l.getStringValidator()),a.Factory.addGetterSetter(y,"shadowBlur",0,l.getNumberValidator()),a.Factory.addGetterSetter(y,"shadowOpacity",1,l.getNumberValidator()),a.Factory.addComponentsGetterSetter(y,"shadowOffset",["x","y"]),a.Factory.addGetterSetter(y,"shadowOffsetX",0,l.getNumberValidator()),a.Factory.addGetterSetter(y,"shadowOffsetY",0,l.getNumberValidator()),a.Factory.addGetterSetter(y,"fillPatternImage"),a.Factory.addGetterSetter(y,"fill",void 0,l.getStringValidator()),a.Factory.addGetterSetter(y,"fillPatternX",0,l.getNumberValidator()),a.Factory.addGetterSetter(y,"fillPatternY",0,l.getNumberValidator()),a.Factory.addGetterSetter(y,"fillLinearGradientColorStops"),a.Factory.addGetterSetter(y,"strokeLinearGradientColorStops"),a.Factory.addGetterSetter(y,"fillRadialGradientStartRadius",0),a.Factory.addGetterSetter(y,"fillRadialGradientEndRadius",0),a.Factory.addGetterSetter(y,"fillRadialGradientColorStops"),a.Factory.addGetterSetter(y,"fillPatternRepeat","repeat"),a.Factory.addGetterSetter(y,"fillEnabled",!0),a.Factory.addGetterSetter(y,"strokeEnabled",!0),a.Factory.addGetterSetter(y,"shadowEnabled",!0),a.Factory.addGetterSetter(y,"dashEnabled",!0),a.Factory.addGetterSetter(y,"strokeScaleEnabled",!0),a.Factory.addGetterSetter(y,"fillPriority","color"),a.Factory.addComponentsGetterSetter(y,"fillPatternOffset",["x","y"]),a.Factory.addGetterSetter(y,"fillPatternOffsetX",0,l.getNumberValidator()),a.Factory.addGetterSetter(y,"fillPatternOffsetY",0,l.getNumberValidator()),a.Factory.addComponentsGetterSetter(y,"fillPatternScale",["x","y"]),a.Factory.addGetterSetter(y,"fillPatternScaleX",1,l.getNumberValidator()),a.Factory.addGetterSetter(y,"fillPatternScaleY",1,l.getNumberValidator()),a.Factory.addComponentsGetterSetter(y,"fillLinearGradientStartPoint",["x","y"]),a.Factory.addComponentsGetterSetter(y,"strokeLinearGradientStartPoint",["x","y"]),a.Factory.addGetterSetter(y,"fillLinearGradientStartPointX",0),a.Factory.addGetterSetter(y,"strokeLinearGradientStartPointX",0),a.Factory.addGetterSetter(y,"fillLinearGradientStartPointY",0),a.Factory.addGetterSetter(y,"strokeLinearGradientStartPointY",0),a.Factory.addComponentsGetterSetter(y,"fillLinearGradientEndPoint",["x","y"]),a.Factory.addComponentsGetterSetter(y,"strokeLinearGradientEndPoint",["x","y"]),a.Factory.addGetterSetter(y,"fillLinearGradientEndPointX",0),a.Factory.addGetterSetter(y,"strokeLinearGradientEndPointX",0),a.Factory.addGetterSetter(y,"fillLinearGradientEndPointY",0),a.Factory.addGetterSetter(y,"strokeLinearGradientEndPointY",0),a.Factory.addComponentsGetterSetter(y,"fillRadialGradientStartPoint",["x","y"]),a.Factory.addGetterSetter(y,"fillRadialGradientStartPointX",0),a.Factory.addGetterSetter(y,"fillRadialGradientStartPointY",0),a.Factory.addComponentsGetterSetter(y,"fillRadialGradientEndPoint",["x","y"]),a.Factory.addGetterSetter(y,"fillRadialGradientEndPointX",0),a.Factory.addGetterSetter(y,"fillRadialGradientEndPointY",0),a.Factory.addGetterSetter(y,"fillPatternRotation",0),a.Factory.backCompat(y,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),s.Collection.mapMethods(y)},function(t,e,n){"use strict";var r,i,o=t.exports=n(19),s=n(104);o.codegen=n(238),o.fetch=n(239),o.path=n(240),o.fs=o.inquire("fs"),o.toArray=function(t){if(t){for(var e=Object.keys(t),n=new Array(e.length),r=0;r<e.length;)n[r]=t[e[r++]];return n}return[]},o.toObject=function(t){for(var e={},n=0;n<t.length;){var r=t[n++],i=t[n++];void 0!==i&&(e[r]=i)}return e};var a=/\\/g,c=/"/g;o.isReserved=function(t){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t)},o.safeProp=function(t){return!/^[$\w_]+$/.test(t)||o.isReserved(t)?'["'+t.replace(a,"\\\\").replace(c,'\\"')+'"]':"."+t},o.ucFirst=function(t){return t.charAt(0).toUpperCase()+t.substring(1)};var l=/_([a-z])/g;o.camelCase=function(t){return t.substring(0,1)+t.substring(1).replace(l,(function(t,e){return e.toUpperCase()}))},o.compareFieldsById=function(t,e){return t.id-e.id},o.decorateType=function(t,e){if(t.$type)return e&&t.$type.name!==e&&(o.decorateRoot.remove(t.$type),t.$type.name=e,o.decorateRoot.add(t.$type)),t.$type;r||(r=n(68));var i=new r(e||t.name);return o.decorateRoot.add(i),i.ctor=t,Object.defineProperty(t,"$type",{value:i,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:i,enumerable:!1}),i};var u=0;o.decorateEnum=function(t){if(t.$type)return t.$type;i||(i=n(18));var e=new i("Enum"+u++,t);return o.decorateRoot.add(e),Object.defineProperty(t,"$type",{value:e,enumerable:!1}),e},Object.defineProperty(o,"decorateRoot",{get:function(){return s.decorated||(s.decorated=new(n(73)))}})},,function(t,e,n){"use strict";e.__esModule=!0,e.zmMovedDom=e.hoverImg=e.resetCharLabel=e.changeCharLabel=e.makeCharLabel=e.getCharLabel=e.makeUUID=e.testdata=void 0,e.getUrlVars=function(t){for(var e,n=[],r=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<r.length;i++)e=r[i].split("="),n.push(e[0]),n[e[0]]=e[1];return n[t]},e.hexToRgba=function(t,e){return"rgba("+parseInt("0x"+t.slice(1,3))+","+parseInt("0x"+t.slice(3,5))+","+parseInt("0x"+t.slice(5,7))+","+e+")"},e.makeEditPoi=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return console.log("makeEditPoi",e),new Konva.Circle({x:-10,y:-10,name:"editpoi",radius:r.EDIT_CIRCLE_RADIUS,fill:"white",draggable:!1,stroke:t.stroke,shadowEnabled:!1,shadowColor:t.stroke,shadowBlur:10,visible:e,shadowOpacity:1})},e.makeTextPoi=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new Konva.Text({x:-10,y:-10,width:20,fill:t.stroke,text:e,stroke:"white",strokeWidth:1,fontSize:12,align:"left",visible:n,fontFamily:"Times New Roman"})},e.makeTransformer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.disableMiu;return new Konva.Transformer({rotateEnabled:!1,anchorSize:7,anchorCornerRadius:3,borderStroke:"#298DF8",enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],boundBoxFunc:function(t,n){return console.log("oldBoundBox,newBoundBox",t,n),e&&(n.width<0||n.height<0)?t:n}})},e.reBuildTextStroke=function(t){var e=t.getContext().fillStrokeShape;t.getContext().fillStrokeShape=function(t){t instanceof Konva.Text?(t.getStrokeEnabled()&&this._stroke(t),t.getFillEnabled()&&this._fill(t)):e.call(this,t)}},e.makeMoveHover=function(t){var e=this;t.on("mouseenter",(function(t){e.stage.canvasaction.isSelectMode()&&e.isSelected&&(t.cancelBubble=!0,t.target.shadowEnabled(!0),e.showlayer.batchDraw(),e.stage.container().style.cursor="url('"+s+"') 5 5,auto",console.log("mouseenter"))})),t.on("mouseleave",(function(t){e.stage.canvasaction.isSelectMode()&&e.isSelected&&(t.target.shadowEnabled(!1),e.showlayer.batchDraw(),e.stage.container().style.cursor="move")}))},e.getActionItemUid=function(t){t[0],t[1],t[2];var e=t[3];return[r.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,r.DRAWTOOL_EDIT_SHAPE_DELETE].includes(e)?t[5]&&t[5][0]:t[6]&&t[6][0]};var r=n(11);e.testdata=[],e.makeUUID=function(){return Number(Math.random().toString().substr(3,length)+Date.now()).toString(36)};var i=65,o=e.getCharLabel=function(){var t=Math.floor((i-65)/26),e=(i-65)%26;return t>0?""+String.fromCharCode(e+65)+t:""+String.fromCharCode(e+65)};e.makeCharLabel=function(){return i++,o()},e.changeCharLabel=function(t){i+=t},e.resetCharLabel=function(){i=65};var s=e.hoverImg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAZCAYAAAA14t7uAAADh0lEQVRIS7WVXUiTURjHj8vlx5y6NiQSFD8QwfAmUURQr0qEBJFdBKLdSGLgZFfrQlmCCJp4I114MZgfixQTImJQmDehoASxlBJTGAvNr23O1Onm2/Mf71nHOW1d9MKfc97zHn7v/zzPc86JY//piRO46PN3tJL8DS3vx2xDBClkMG8BOZMFMPoxPxwM2DVS/NbW1oOCgoJXHo8HsCApIAvgmN1zMKBKUoLf738bCAT2W1tbjaOjo24a88s6jVjBle45OJ5mXSclu93u5xsbG/rc3FwngdtbWlo+0/gv0hEJcKyAu78ULoITaVbK+vr6k5GRkfalpSVpeHj4hNreioqKF/TNRzqU3YvwqImNBKfOzc09XFlZ6WlubmaFhYVsampKUqvVr2tqap4uLy9vy/Bj2T1yEDXuYoyTaFKqzWa7l5mZaamqqgotU6VSMXLO6urqvnV3dxv7+/uXafhACA3gF0IjghNoQprBYCg2Go327Ozsc/Fra2uT+vr6DmZmZrroJ29kOA8Nh4dLUiw3gFPT09Nv7uzsLCYlJcWfniJXf57S0lI2OTkpHR8fW8vLy5/t7e155MSichB3/oPwTkMdoyrUJN3R0dH7oqKiW2traxeyrtVq2fj4uFRWVvapo6PDaLVaMQlVw+Me2lTizgM4haTd3d216fX6O7TsC2AMKBQK1tnZyUwm07bdbjfU19d/oGGEBfBQxYhgbBAV6YbT6Rw0m833LRbLObBGo2E5OTlcUmNjIysuLg66XK7erKysQSGhYTAAACeTNA6HwzQ9Pf2oq6srBKYqYfPz8ywjI+PQ5/NtkTZILq/X6yR9pxV+7enpcVCZIiRITFA83bD7UHKa2dnZZnLd3dTUxJRKJaN3iQATtbW1E/KS+bKxGwHDO/oXQgFjOC8ATqOtfJfKzVJZWckGBgZYQ0PDYl5enjkYDHplECCoBLg7EfohtyRJdAxwqOQo27eplt9RTUtjY2M/q6urHy8sLPygbwBjc4jlBRBX+JgVwSg5gFU6nU67ubn5heJ4NjQ01EYVgIMI0H15yWFncBdF4TpGKABGAhEONR2fHymJ1pKSkpcyDE4RT7i99IwACE/k1YQEwnXi6urqw/z8/EnqY3mA8bjyk40zoraRYLgGHM4hfAcYsJjP4kjHPByA86sKY/yKEu+/K91GA3O4eGNHJuev0MvA0cb/+fr/DeeQji288n1qAAAAAElFTkSuQmCC";e.zmMovedDom=function(t){var e=null,n=0,r=0,i=t.dragHandle,o=t.dragTarget,s=t.parentDom,a=t.cb;function c(t){t.stopPropagation(),(e=o).style.position="absolute","mousedown"==t.type?(n=t.clientX-e.offsetLeft,r=t.clientY-e.offsetTop,console.log("addEventListener mousemove"),window.addEventListener("mousemove",l,!0)):"touchstart"==t.type&&(console.log("touchmove"),n=t.targetTouches[0].clientX-e.offsetLeft,r=t.targetTouches[0].clientY-e.offsetTop,window.addEventListener("touchmove",l,!0))}function l(t){if(t.preventDefault(),t.stopPropagation(),console.log("dragObject move move"),null!=e)if("mousemove"==t.type){var i=t.clientX-n,o=t.clientY-r,c=s?s.getBoundingClientRect().left:0,l=s?s.getBoundingClientRect().top:0;i<c&&(i=c),o<l&&(o=l),s?(o+e.offsetHeight>s.offsetHeight+s.getBoundingClientRect().top&&(o=s.offsetHeight+s.getBoundingClientRect().top-e.offsetHeight),i+e.offsetWidth>s.offsetWidth+s.getBoundingClientRect().left&&(i=s.offsetWidth+s.getBoundingClientRect().left-e.offsetWidth)):(o+e.offsetHeight>e.parentElement.scrollHeight&&(o=e.parentElement.scrollHeight-e.offsetHeight),i+e.offsetWidth>e.parentElement.offsetWidth&&(i=e.parentElement.offsetWidth-e.offsetWidth)),e.style.left=i+"px",e.style.top=o+"px",a&&a({type:"move",x:i,y:o})}else"touchmove"==t.type&&(e.style.left=t.targetTouches[0].clientX-n+"px",e.style.top=t.targetTouches[0].clientY-r+"px")}console.log("addEventListener mousedown"),i.addEventListener("mousedown",c,!0),o.addEventListener("touchstart",c,!0),document.addEventListener("mouseup",(function t(n){e&&(e=null,console.log("remove mousemove"),window.removeEventListener("mousemove",l,!0),window.removeEventListener("touchmove",l,!0),a&&a({type:"moveend"})),i&&i.isConnected||document.removeEventListener("mouseup",t)}))}},,function(t,e,n){"use strict";e.__esModule=!0,e.JsonToUrlParams=i,e.UrlParamsToJson=function(t){return JSON.parse('{"'+decodeURI(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')},e.getUrlVars=function(t){for(var e,n=[],r=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<r.length;i++)e=r[i].split("="),n.push(e[0]),n[e[0]]=e[1];return n[t]},e.makeWebRtcVideo=function(t){var e=t.isVideoTag,n=void 0!==e&&e,r=t.dom,i=t.audio,a=void 0===i||i,c=t.cb,l=void 0===c?function(){}:c;return new Promise((function(t){if(!r||r.toString().search(/HTMLDivElement/)<0&&r.toString().search(/HTMLVideoElement/)<0)t({code:"-1",msg:"dom"});else{var e=window.navigator.getUserMedia||window.navigator.webkitGetUserMedia,i=window.URL||window.webkitURL;e&&i?e.call(navigator,{video:!0,audio:a},(function(e){if(n)o(r,e);else{var i=document.createElement("video");r.appendChild(i),i.style.width="100%",i.style.heigh="100%",o(i,e)}a&&(console.log("begin audio",e),s(e,l)),t({code:"0",stream:e})}),(function(e){console.log("video init err",e),t({code:"-1",msg:e})})):t({code:"-1",msg:"UserMedia"})}}))},e.makeAudioLevelData=s,e.isSupportWebRtc=function(){return!!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||window.RTCPeerConnection)};var r;e.ZmCacheStack=(r=[],{exec:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2],r.includes(t)){var n=r.indexOf(t);clearTimeout(r[n+1]),r.splice(n,2)}r.push(t),r.push(setTimeout((function(){t.apply(void 0,arguments);var e=r.indexOf(t);clearTimeout(r[e+1]),r.splice(e,2)}),e))}}),e.http=function(t){var e=t.method,n=void 0===e?"POST":e,r=t.url,o=t.param,s=void 0===o?{}:o,a=t.headers,c=void 0===a?{}:a,l=t.isJson,u=void 0!==l&&l;return new Promise((function(t,e){var o=new XMLHttpRequest;o.open(n,"GET"===n&&s?r+"?"+i(s):r),o.addEventListener("error",(function(){e({message:""})})),o.addEventListener("load",(function(){if(200!==o.status)e({message:"",code:o.status});else try{t(JSON.parse(o.responseText))}catch(e){t({code:0,message:o.responseText})}}));var a=new FormData;if("POST"===n)for(var l in s)a.append(l,s[l]);for(var h in c)o.setRequestHeader(h,c[h]);o.send(u?JSON.stringify(s):a)}))};function i(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")}function o(t,e){try{t.src=url.createObjectURL(e)}catch(n){t.srcObject=e}t.play(),t.muted=!0}function s(t,e){try{var n=new AudioContext,r=n.createAnalyser(),i=n.createMediaStreamSource(t),o=n.createScriptProcessor(2048,1,1);r.smoothingTimeConstant=.8,r.fftSize=1024,i.connect(r),r.connect(o),o.connect(n.destination),o.onaudioprocess=function(){var t=new Uint8Array(r.frequencyBinCount);r.getByteFrequencyData(t);for(var n=0,i=t.length,o=0;o<i;o++)n+=t[o];e(n/i)}}catch(t){console.log("makeAudioLevelData",t)}}},function(t,e,n){"use strict";t.exports=s;var r=n(29);((s.prototype=Object.create(r.prototype)).constructor=s).className="Enum";var i=n(35),o=n(13);function s(t,e,n,i,o){if(r.call(this,t,n),e&&"object"!=typeof e)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=o||{},this.reserved=void 0,e)for(var s=Object.keys(e),a=0;a<s.length;++a)"number"==typeof e[s[a]]&&(this.valuesById[this.values[s[a]]=e[s[a]]]=s[a])}s.fromJSON=function(t,e){var n=new s(t,e.values,e.options,e.comment,e.comments);return n.reserved=e.reserved,n},s.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return o.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",e?this.comment:void 0,"comments",e?this.comments:void 0])},s.prototype.add=function(t,e,n){if(!o.isString(t))throw TypeError("name must be a string");if(!o.isInteger(e))throw TypeError("id must be an integer");if(void 0!==this.values[t])throw Error("duplicate name '"+t+"' in "+this);if(this.isReservedId(e))throw Error("id "+e+" is reserved in "+this);if(this.isReservedName(t))throw Error("name '"+t+"' is reserved in "+this);if(void 0!==this.valuesById[e]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+e+" in "+this);this.values[t]=e}else this.valuesById[this.values[t]=e]=t;return this.comments[t]=n||null,this},s.prototype.remove=function(t){if(!o.isString(t))throw TypeError("name must be a string");var e=this.values[t];if(null==e)throw Error("name '"+t+"' does not exist in "+this);return delete this.valuesById[e],delete this.values[t],delete this.comments[t],this},s.prototype.isReservedId=function(t){return i.isReservedId(this.reserved,t)},s.prototype.isReservedName=function(t){return i.isReservedName(this.reserved,t)}},function(t,e,n){"use strict";(function(t){var r=e;function i(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;++i)void 0!==t[r[i]]&&n||(t[r[i]]=e[r[i]]);return t}function o(t){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}r.asPromise=n(101),r.base64=n(229),r.EventEmitter=n(230),r.float=n(231),r.inquire=n(102),r.utf8=n(232),r.pool=n(233),r.LongBits=n(234),r.global="undefined"!=typeof window&&window||void 0!==t&&t||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isNode=Boolean(r.global.process&&r.global.process.versions&&r.global.process.versions.node),r.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},r.isString=function(t){return"string"==typeof t||t instanceof String},r.isObject=function(t){return t&&"object"==typeof t},r.isset=r.isSet=function(t,e){var n=t[e];return!(null==n||!t.hasOwnProperty(e))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var t=r.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(t){return"number"==typeof t?r.Buffer?r._Buffer_allocUnsafe(t):new r.Array(t):r.Buffer?r._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash},r.longFromHash=function(t,e){var n=r.LongBits.fromHash(t);return r.Long?r.Long.fromBits(n.lo,n.hi,e):n.toNumber(Boolean(e))},r.merge=i,r.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},r.newError=o,r.ProtocolError=o("ProtocolError"),r.oneOfGetter=function(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(1===e[t[n]]&&void 0!==this[t[n]]&&null!==this[t[n]])return t[n]}},r.oneOfSetter=function(t){return function(e){for(var n=0;n<t.length;++n)t[n]!==e&&delete this[t[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var t=r.Buffer;t?(r._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,n){return new t(e,n)},r._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):r._Buffer_from=r._Buffer_allocUnsafe=null}}).call(this,n(22))},,,function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.__esModule=!0,e.http=void 0,e.logger=s,e.getMessageById=a,e.createBufferContent=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=a(t,r),o=i.create(e);if(console.log("appMessage",o,n,i),n){var s=i.encode(o).finish();return s}return o},e.scopeBuffer=function(t,e){var n=new Uint32Array(1);n[0]=t;for(var r=new Uint8Array(n.buffer),i=new Uint8Array(r.length+e.length),o=0,s=r.length;o<s;++o)i[s-o-1]=r[o];for(o=0,s=e.length;o<s;++o)i[4+o]=e[o];return i},e.stringToByte=function(t){var e,n,r=new Array;e=t.length;for(var i=0;i<e;i++)(n=t.charCodeAt(i))>=65536&&n<=1114111?(r.push(n>>18&7|240),r.push(n>>12&63|128),r.push(n>>6&63|128),r.push(63&n|128)):n>=2048&&n<=65535?(r.push(n>>12&15|224),r.push(n>>6&63|128),r.push(63&n|128)):n>=128&&n<=2047?(r.push(n>>6&31|192),r.push(63&n|128)):r.push(255&n);return r},e.getAppConfigFromAppId=c,e.decodeContent=l,e.handleTransmission=function(t){var e=t.data,n=t.cb,r=t.baseService,o=t.resolve,s=t.reject,a=t.userId;console.log("handleTransmission result0");var c=l(e),h=c.content,d=c.handlerMessage,p=c.appid,f=c.msgId;if(null===h)return;var g={msgName:d.name,data:h,appid:p,msgId:f};r.handshakeResponseMessageBuilder({rep:g}).then((function(t){var e=t.code,r=t.message;0===e?(o({code:"0",userId:a}),u(n,"HAND_SHAKE_SUCCESS")):(s({message:r}),u(n,"HAND_SHAKE_FAIL",{message:r}))})).catch((function(t){var e={msgName:d.name,data:h,appid:p,msgId:f};n&&n(e);for(var o=0;o<i.REGISTER_EVENT_CBS.length;o++)i.REGISTER_EVENT_CBS[o][0]===f&&i.REGISTER_EVENT_CBS[o][1]===p&&i.REGISTER_EVENT_CBS[o][2](e);console.log("appid,baseService.appId,msgId",p,r.appId,f),p===r.appId&&1016===f&&u(n,"ROOM_RESET",{content:h})}))},e.emitEvent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:params,e=t.event_name,n=t.buffer_content,r=t.appid_config,i=t.message_id,o=t.socket;return new Promise((function(t,a){var c=new ArrayBuffer(n.length+1+4+4+4),u=new DataView(c),h=i;u.setInt8(0,r.parseVersion),u.setInt32(1,r.appid),u.setInt32(5,h),u.setInt32(9,r.bizId),console.log("appid_config.parseVersion",r.parseVersion,r.appid,h,r.bizId);for(var d=new Uint8Array(c,13),p=0,f=n.length;p<f;++p)d[p]=n[p];s("emitEvent: "+e+" , message id: "+h+" begin"),o.emit(e,c,(function(n){var r=l(n).content,i=0===r.code?"succ":r.message;s("emitEvent: "+e+" ,  messageId: "+h+" "+i,r),t(r)}))}))},e.UpFirstChar=function(t){return t.replace(t[0],t[0].toUpperCase())},e.toBuffer=function(t){return Array.prototype.slice.call(new Uint8Array(t))},e.sdkEvent=u;var r=n(17),i=n(24),o=n(100);function s(){for(var t,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];(t=console).log.apply(t,["%c zmImServiceSdk"+new Date,"color: "+i.LOGGER_COLOR].concat(n))}function a(t,e){var n=i.APPID_INSTANCE_MAP[e.appid].root[t];return console.log("getMessageById",o.PB_ROOT,e.root,n,t),o.PB_ROOT[e.root][i.APPID_INSTANCE_MAP[e.appid].root[t]||t]}function c(t){return console.log("getAppConfigFromAppId",t,i.APPID_INSTANCE_MAP),i.APPID_INSTANCE_MAP[t].appid_config}function l(t){var e=new DataView(t),n=e.getInt32(1),r=e.getInt32(5),i=e.getInt32(9),o=new Uint8Array(t,13),l=a(r,c(n));if(s("handleTransmission appid: "+n+", MSGID: "+r+",bizId:"+i,l),void 0!==l){var u=null;try{u=l.decode(o)}catch(t){console.log("",n,r,i,t)}return{content:u,handlerMessage:l,appid:n,msgId:r}}}e.http=r.http;function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{t&&t({kind:"sdk-event",data:{eventId:e,eventParam:n}})}catch(t){}}},function(t,e,n){"use strict";e.__esModule=!0;e.MESSAGE_MAP={midRoot:{1e3:"ActionAck",1011:"SubscribeAppMessage",1012:"UnsubscribeAppMessage",1013:"JoinRoomMessage",1014:"LeaveRoomMessage",1015:"JoinRoomAck",1003:"HandshakeResponseMessage",1016:"RoomResetMessage"},pnsRoot:{1101:"PushMessage",1102:"PushAck",1103:"RedirectAck"},imRoot:{1121:"PrivateMessage",1122:"GroupMessage",1123:"ChatroomMessage",2003:"JoinRoomMessage",TxtMessage:"TxtMessage",MessageModel:"MessageModel",ImgMessage:"ImgMessage",HQVoiceMessage:"HQVoiceMessage"},bootRoot:{20000080:"CreateRoomMessage",50020080:"CreateRoomResponseMessage",20000010:"JoinRoomMessage",50020010:"JoinRoomResponseMessage",10000010:"WhiteBoardMessage",10000030:"WhiteBoardCurrentPageResponse",50010010:"WhiteBoardErrorMessage",EventMessage:"EventMessage",BrushMessage:"BrushMessage",LoadSlideMessage:"LoadSlideMessage",LoadPPTMessage:"LoadPPTMessage",SwitchSlideMessage:"SwitchSlideMessage",ScrollSlideMessage:"ScrollSlideMessage",CoordinateIndexMessage:"CoordinateIndexMessage",MiddleDataMessage:"MiddleDataMessage",STriangleEditMessage:"STriangleEditMessage",RectangleEditMessage:"RectangleEditMessage",SEllipseEditMessage:"SEllipseEditMessage",EllipseEditMessage:"EllipseEditMessage",CircleEditMessage:"CircleEditMessage",PolygonEditMessage:"PolygonEditMessage",EraserMessage:"EraserMessage",EraserRectangleMessage:"EraserRectangleMessage",10000020:"WhiteBoardPage",20000060:"LessonStartMessage",50020060:"LessonStartResponseMessage",20000070:"LessonEndMessage",50020070:"LessonEndResponseMessage",20000030:"PromotionSpeakerMessage",50020030:"PromotionSpeakerResponseMessage",50010020:"WhiteBoardPageDataResponse",50000090:"OtherJoinRoomResponseMessage"}},e.APPID_MAP={MIDDLE:{parseVersion:17,appid:11123,root:"midRoot",bizId:12001},ZMPNS:{parseVersion:17,appid:11126,root:"pnsRoot",bizId:12001},IM:{parseVersion:17,appid:11125,root:"imRoot",bizId:12001},BOOT:{parseVersion:33,appid:11156,root:"bootRoot",bizId:12001}},e.LOGGER_COLOR="darkblue",e.APPID_INSTANCE_MAP={},e.HOST_SERVER={fat:"https://beacon.zmaxis.com/",uat:"https://beacon.uat.zmops.cc/",pro:"https://beacon.zmlearn.com/"},e.OSS_BUCKET="zm-im-files",e.REGISTER_EVENT_CBS=[]},function(t,e,n){"use strict";t.exports=l;var r=n(29);((l.prototype=Object.create(r.prototype)).constructor=l).className="Field";var i,o=n(18),s=n(30),a=n(13),c=/^required|optional|repeated$/;function l(t,e,n,i,o,l,u){if(a.isObject(i)?(u=o,l=i,i=o=void 0):a.isObject(o)&&(u=l,l=o,o=void 0),r.call(this,t,l),!a.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!a.isString(n))throw TypeError("type must be a string");if(void 0!==i&&!c.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==o&&!a.isString(o))throw TypeError("extend must be a string");this.rule=i&&"optional"!==i?i:void 0,this.type=n,this.id=e,this.extend=o||void 0,this.required="required"===i,this.optional=!this.required,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==s.long[n],this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=u}l.fromJSON=function(t,e){return new l(t,e.id,e.type,e.rule,e.extend,e.options,e.comment)},Object.defineProperty(l.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),l.prototype.setOption=function(t,e,n){return"packed"===t&&(this._packed=null),r.prototype.setOption.call(this,t,e,n)},l.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return a.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",e?this.comment:void 0])},l.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=s.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof o&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof o)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var t;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,t=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,t=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=t}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),r.prototype.resolve.call(this)},l.d=function(t,e,n,r){return"function"==typeof e?e=a.decorateType(e).name:e&&"object"==typeof e&&(e=a.decorateEnum(e).name),function(i,o){a.decorateType(i.constructor).add(new l(o,t,e,n,{default:r}))}},l._configure=function(t){i=t}},function(t,e,n){"use strict";function r(t,e){var n=function(t){for(var e=t.split(/([#.])/),n="",r="",i=[],o=0;o<e.length;o++){var s=e[o];"#"===s?r=e[++o]:"."===s?i.push(e[++o]):s.length&&(n=s)}return{tag:n||"div",id:r,className:i.join(" ")}}(t),r=n.tag,i=n.id,o=n.className,s=e?document.createElementNS(e,r):document.createElement(r);return i&&(s.id=i),o&&(e?s.setAttribute("class",o):s.className=o),s}function i(t,e){var n=_(t),r=_(e);return e===r&&r.__redom_view&&(e=r.__redom_view),r.parentNode&&(o(e,r,n),n.removeChild(r)),e}function o(t,e,n){var r=e.__redom_lifecycle;if(s(r))e.__redom_lifecycle={};else{var i=n;for(e.__redom_mounted&&u(e,"onunmount");i;){var o=i.__redom_lifecycle||{};for(var a in r)o[a]&&(o[a]-=r[a]);s(o)&&(i.__redom_lifecycle=null),i=i.parentNode}}}function s(t){if(null==t)return!0;for(var e in t)if(t[e])return!1;return!0}n.r(e),n.d(e,"List",(function(){return I})),n.d(e,"ListPool",(function(){return k})),n.d(e,"Place",(function(){return R})),n.d(e,"Router",(function(){return N})),n.d(e,"el",(function(){return j})),n.d(e,"h",(function(){return E})),n.d(e,"html",(function(){return S})),n.d(e,"list",(function(){return D})),n.d(e,"listPool",(function(){return A})),n.d(e,"mount",(function(){return l})),n.d(e,"place",(function(){return M})),n.d(e,"router",(function(){return L})),n.d(e,"s",(function(){return z})),n.d(e,"setAttr",(function(){return f})),n.d(e,"setChildren",(function(){return P})),n.d(e,"setData",(function(){return v})),n.d(e,"setStyle",(function(){return h})),n.d(e,"setXlink",(function(){return m})),n.d(e,"svg",(function(){return U})),n.d(e,"text",(function(){return y})),n.d(e,"unmount",(function(){return i}));var a=["onmount","onremount","onunmount"],c="undefined"!=typeof window&&"ShadowRoot"in window;function l(t,e,n,r){var i=_(t),s=_(e);e===s&&s.__redom_view&&(e=s.__redom_view),e!==s&&(s.__redom_view=e);var l=s.__redom_mounted,h=s.parentNode;return l&&h!==i&&o(0,s,h),null!=n?r?i.replaceChild(s,_(n)):i.insertBefore(s,_(n)):i.appendChild(s),function(t,e,n,r){for(var i=e.__redom_lifecycle||(e.__redom_lifecycle={}),o=n===r,s=!1,l=0,h=a;l<h.length;l+=1){var d=h[l];o||t!==e&&d in t&&(i[d]=(i[d]||0)+1),i[d]&&(s=!0)}if(!s)return void(e.__redom_lifecycle={});var p=n,f=!1;(o||p&&p.__redom_mounted)&&(u(e,o?"onremount":"onmount"),f=!0);for(;p;){var g=p.parentNode,m=p.__redom_lifecycle||(p.__redom_lifecycle={});for(var v in i)m[v]=(m[v]||0)+i[v];if(f)break;(p.nodeType===Node.DOCUMENT_NODE||c&&p instanceof ShadowRoot||g&&g.__redom_mounted)&&(u(p,o?"onremount":"onmount"),f=!0),p=g}}(e,s,i,h),e}function u(t,e){"onmount"===e||"onremount"===e?t.__redom_mounted=!0:"onunmount"===e&&(t.__redom_mounted=!1);var n=t.__redom_lifecycle;if(n){var r=t.__redom_view,i=0;for(var o in r&&r[e]&&r[e](),n)o&&i++;if(i)for(var s=t.firstChild;s;){var a=s.nextSibling;u(s,e),s=a}}}function h(t,e,n){var r=_(t);if("object"==typeof e)for(var i in e)d(r,i,e[i]);else d(r,e,n)}function d(t,e,n){t.style[e]=null==n?"":n}var p="http://www.w3.org/1999/xlink";function f(t,e,n){g(t,e,n)}function g(t,e,n,r){var i=_(t);if("object"==typeof e)for(var o in e)g(i,o,e[o],r);else{var s=i instanceof SVGElement,a="function"==typeof n;if("style"===e&&"object"==typeof n)h(i,n);else if(s&&a)i[e]=n;else if("dataset"===e)v(i,n);else if(!s&&(e in i||a)&&"list"!==e)i[e]=n;else{if(s&&"xlink"===e)return void m(i,n);r&&"class"===e&&(n=i.className+" "+n),null==n?i.removeAttribute(e):i.setAttribute(e,n)}}}function m(t,e,n){if("object"==typeof e)for(var r in e)m(t,r,e[r]);else null!=n?t.setAttributeNS(p,e,n):t.removeAttributeNS(p,e,n)}function v(t,e,n){if("object"==typeof e)for(var r in e)v(t,r,e[r]);else null!=n?t.dataset[e]=n:delete t.dataset[e]}function y(t){return document.createTextNode(null!=t?t:"")}function b(t,e,n){for(var r=0,i=e;r<i.length;r+=1){var o=i[r];if(0===o||o){var s=typeof o;"function"===s?o(t):"string"===s||"number"===s?t.appendChild(y(o)):x(_(o))?l(t,o):o.length?b(t,o,n):"object"===s&&g(t,o,null,n)}}}function w(t){return"string"==typeof t?S(t):_(t)}function _(t){return t.nodeType&&t||!t.el&&t||_(t.el)}function x(t){return t&&t.nodeType}var O={};function S(t){for(var e,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var i=typeof t;if("string"===i)e=T(t).cloneNode(!1);else if(x(t))e=t.cloneNode(!1);else{if("function"!==i)throw new Error("At least one argument required");var o=t;e=new(Function.prototype.bind.apply(o,[null].concat(n)))}return b(_(e),n,!0),e}var j=S,E=S;function T(t){return O[t]||(O[t]=r(t))}function P(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=_(t),o=C(t,e,r.firstChild);o;){var s=o.nextSibling;i(t,o),o=s}}function C(t,e,n){for(var r=n,i=new Array(e.length),o=0;o<e.length;o++)i[o]=e[o]&&_(e[o]);for(var s=0;s<e.length;s++){var a=e[s];if(a){var c=i[s];if(c!==r)if(x(c)){var u=r&&r.nextSibling,h=null!=a.__redom_index&&u===i[s+1];l(t,a,r,h),h&&(r=u)}else null!=a.length&&(r=C(t,a,r));else r=r.nextSibling}}return r}function A(t,e,n){return new k(t,e,n)}S.extend=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=T(t);return S.bind.apply(S,[this,r].concat(e))};var k=function(t,e,n){this.View=t,this.initData=n,this.oldLookup={},this.lookup={},this.oldViews=[],this.views=[],null!=e&&(this.key="function"==typeof e?e:function(t){return function(e){return e[t]}}(e))};function D(t,e,n,r){return new I(t,e,n,r)}k.prototype.update=function(t,e){for(var n=this.View,r=this.key,i=this.initData,o=null!=r,s=this.lookup,a={},c=new Array(t.length),l=this.views,u=0;u<t.length;u++){var h=t[u],d=void 0;if(o){var p=r(h);d=s[p]||new n(i,h,u,t),a[p]=d,d.__redom_id=p}else d=l[u]||new n(i,h,u,t);d.update&&d.update(h,u,t,e),_(d.el).__redom_view=d,c[u]=d}this.oldViews=l,this.views=c,this.oldLookup=s,this.lookup=a};var I=function(t,e,n,r){this.__redom_list=!0,this.View=e,this.initData=r,this.views=[],this.pool=new k(e,n,r),this.el=w(t),this.keySet=null!=n};function M(t,e){return new R(t,e)}I.prototype.update=function(t,e){void 0===t&&(t=[]);var n=this.keySet,r=this.views;this.pool.update(t,e);var o=this.pool,s=o.views,a=o.lookup;if(n)for(var c=0;c<r.length;c++){var l=r[c];null==a[l.__redom_id]&&(l.__redom_index=null,i(this,l))}for(var u=0;u<s.length;u++){s[u].__redom_index=u}P(this,s),n&&(this.lookup=a),this.views=s},I.extend=function(t,e,n,r){return I.bind(I,t,e,n,r)},D.extend=I.extend;var R=function(t,e){this.el=y(""),this.visible=!1,this.view=null,this._placeholder=this.el,t instanceof Node?this._el=t:t.el instanceof Node?(this._el=t,this.view=t):this._View=t,this._initData=e};function L(t,e,n){return new N(t,e,n)}R.prototype.update=function(t,e){var n=this._placeholder,r=this.el.parentNode;if(t){if(!this.visible)if(this._el)l(r,this._el,n),i(r,n),this.el=_(this._el),this.visible=t;else{var o=new(0,this._View)(this._initData);this.el=_(o),this.view=o,l(r,o,n),i(r,n)}this.view&&this.view.update&&this.view.update(e)}else if(this.visible){if(this._el)return l(r,n,this._el),i(r,this._el),this.el=n,void(this.visible=t);l(r,n,this.view),i(r,this.view),this.el=n,this.view=null}this.visible=t};var N=function(t,e,n){this.el=w(t),this.Views=e,this.initData=n};N.prototype.update=function(t,e){if(t!==this.route){var n=this.Views[t];this.route=t,n&&(n instanceof Node||n.el instanceof Node)?this.view=n:this.view=n&&new n(this.initData,e),P(this.el,[this.view])}this.view&&this.view.update&&this.view.update(e,t)};var F="http://www.w3.org/2000/svg",B={};function U(t){for(var e,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var i=typeof t;if("string"===i)e=X(t).cloneNode(!1);else if(x(t))e=t.cloneNode(!1);else{if("function"!==i)throw new Error("At least one argument required");var o=t;e=new(Function.prototype.bind.apply(o,[null].concat(n)))}return b(_(e),n,!0),e}var z=U;function X(t){return B[t]||(B[t]=r(t,F))}U.extend=function(t){var e=X(t);return U.bind(this,e)},U.ns=F},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(4),a=n(9),c=n(38),l=n(6),u=n(5),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.children=new o.Collection,e}return i(e,t),e.prototype.getChildren=function(t){if(!t)return this.children;var e=new o.Collection;return this.children.each((function(n){t(n)&&e.push(n)})),e},e.prototype.hasChildren=function(){return this.getChildren().length>0},e.prototype.removeChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.remove();return this.children=new o.Collection,this},e.prototype.destroyChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.destroy();return this.children=new o.Collection,this},e.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}var r=arguments[0];if(r.getParent())return r.moveTo(this),this;var i=this.children;return this._validateAdd(r),r.index=i.length,r.parent=this,i.push(r),this._fire("add",{child:r}),this},e.prototype.destroy=function(){return this.hasChildren()&&this.destroyChildren(),t.prototype.destroy.call(this),this},e.prototype.find=function(t){return this._generalFind(t,!1)},e.prototype.get=function(t){return o.Util.warn("collection.get() method is deprecated. Please use collection.find() instead."),this.find(t)},e.prototype.findOne=function(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0},e.prototype._generalFind=function(t,e){var n=[];return this._descendants((function(r){var i=r._isMatch(t);return i&&n.push(r),!(!i||!e)})),o.Collection.toCollection(n)},e.prototype._descendants=function(t){for(var e=0;e<this.children.length;e++){var n=this.children[e];if(t(n))return!0;if(n.hasChildren()&&n._descendants(t))return!0}return!1},e.prototype.toObject=function(){var t=a.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),n=e.length,r=0;r<n;r++){var i=e[r];t.children.push(i.toObject())}return t},e.prototype._getDescendants=function(t){for(var e=[],n=t.length,r=0;r<n;r++){var i=t[r];this.isAncestorOf(i)&&e.push(i)}return e},e.prototype.isAncestorOf=function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},e.prototype.clone=function(t){var e=a.Node.prototype.clone.call(this,t);return this.getChildren().each((function(t){e.add(t.clone())})),e},e.prototype.getAllIntersections=function(t){var e=[];return this.find("Shape").each((function(n){n.isVisible()&&n.intersects(t)&&e.push(n)})),e},e.prototype._setChildrenIndices=function(){this.children.each((function(t,e){t.index=e}))},e.prototype.drawScene=function(t,e,n){var r=this.getLayer(),i=t||r&&r.getCanvas(),o=i&&i.getContext(),s=this._getCanvasCache(),a=s&&s.scene;return(this.isVisible()||n)&&(!n&&a?(o.save(),r._applyTransform(this,o,e),this._drawCachedSceneCanvas(o),o.restore()):this._drawChildren(i,"drawScene",e,!1,n,n)),this},e.prototype.drawHit=function(t,e,n){var r=this.getLayer(),i=t||r&&r.hitCanvas,o=i&&i.getContext(),s=this._getCanvasCache(),a=s&&s.hit;return(this.shouldDrawHit(i)||n)&&(!n&&a?(o.save(),r._applyTransform(this,o,e),this._drawCachedHitCanvas(o),o.restore()):this._drawChildren(i,"drawHit",e,!1,n,n)),this},e.prototype._drawChildren=function(t,e,n,r,i,o){var s,a,c=this.getLayer(),l=t&&t.getContext(),u=this.clipWidth(),h=this.clipHeight(),d=this.clipFunc(),p=u&&h||d;if(p&&c){l.save();var f=this.getAbsoluteTransform(n),g=f.getMatrix();l.transform(g[0],g[1],g[2],g[3],g[4],g[5]),l.beginPath(),d?d.call(this,l,this):(s=this.clipX(),a=this.clipY(),l.rect(s,a,u,h)),l.clip(),g=f.copy().invert().getMatrix(),l.transform(g[0],g[1],g[2],g[3],g[4],g[5])}var m="source-over"!==this.globalCompositeOperation()&&!o&&"drawScene"===e;m&&c&&(l.save(),l._applyGlobalCompositeOperation(this)),this.children.each((function(o){o[e](t,n,r,i)})),m&&c&&l.restore(),p&&c&&l.restore()},e.prototype.shouldDrawHit=function(t){if(t&&t.isCache)return!0;var e=this.getLayer(),n=!1;c.DD._dragElements.forEach((function(t){"dragging"===t.dragStatus&&t.node.getLayer()===e&&(n=!0)}));var r=!u.Konva.hitOnDragEnabled&&n;return e&&e.hitGraphEnabled()&&this.isVisible()&&!r},e.prototype.getClientRect=function(t){var e,n,r,i,o=(t=t||{}).skipTransform,s=t.relativeTo,a={x:1/0,y:1/0,width:0,height:0},c=this;this.children.each((function(o){if(o.visible()){var s=o.getClientRect({relativeTo:c,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===s.width&&0===s.height||(void 0===e?(e=s.x,n=s.y,r=s.x+s.width,i=s.y+s.height):(e=Math.min(e,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x+s.width),i=Math.max(i,s.y+s.height)))}}));for(var l=this.find("Shape"),u=!1,h=0;h<l.length;h++){if(l[h]._isVisible(this)){u=!0;break}}return a=u&&void 0!==e?{x:e,y:n,width:r-e,height:i-n}:{x:0,y:0,width:0,height:0},o?a:this._transformedRect(a,s)},e}(a.Node);e.Container=h,s.Factory.addComponentsGetterSetter(h,"clip",["x","y","width","height"]),s.Factory.addGetterSetter(h,"clipX",void 0,l.getNumberValidator()),s.Factory.addGetterSetter(h,"clipY",void 0,l.getNumberValidator()),s.Factory.addGetterSetter(h,"clipWidth",void 0,l.getNumberValidator()),s.Factory.addGetterSetter(h,"clipHeight",void 0,l.getNumberValidator()),s.Factory.addGetterSetter(h,"clipFunc"),o.Collection.mapMethods(h)},function(t,e,n){var r,i=n(210),o=n(93),s=n(212),a=n(213),c=n(214);"undefined"!=typeof ArrayBuffer&&(r=n(215));var l="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),u="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),h=l||u;e.protocol=3;var d=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=i(d),f={type:"error",data:"parser error"},g=n(216);function m(t,e,n){for(var r=new Array(t.length),i=a(t.length,n),o=function(t,n,i){e(n,(function(e,n){r[t]=n,i(e,r)}))},s=0;s<t.length;s++)o(s,t[s],i)}e.encodePacket=function(t,n,r,i){"function"==typeof n&&(i=n,n=!1),"function"==typeof r&&(i=r,r=null);var o=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&o instanceof ArrayBuffer)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var i=t.data,o=new Uint8Array(i),s=new Uint8Array(1+i.byteLength);s[0]=d[t.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return r(s.buffer)}(t,n,i);if(void 0!==g&&o instanceof g)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);if(h)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var i=new FileReader;return i.onload=function(){e.encodePacket({type:t.type,data:i.result},n,!0,r)},i.readAsArrayBuffer(t.data)}(t,n,r);var i=new Uint8Array(1);i[0]=d[t.type];var o=new g([i.buffer,t.data]);return r(o)}(t,n,i);if(o&&o.base64)return function(t,n){var r="b"+e.packets[t.type]+t.data.data;return n(r)}(t,i);var s=d[t.type];return void 0!==t.data&&(s+=r?c.encode(String(t.data),{strict:!1}):String(t.data)),i(""+s)},e.encodeBase64Packet=function(t,n){var r,i="b"+e.packets[t.type];if(void 0!==g&&t.data instanceof g){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];n(i+t)},o.readAsDataURL(t.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var s=new Uint8Array(t.data),a=new Array(s.length),c=0;c<s.length;c++)a[c]=s[c];r=String.fromCharCode.apply(null,a)}return i+=btoa(r),n(i)},e.decodePacket=function(t,n,r){if(void 0===t)return f;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(r&&!1===(t=function(t){try{t=c.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return f;var i=t.charAt(0);return Number(i)==i&&p[i]?t.length>1?{type:p[i],data:t.substring(1)}:{type:p[i]}:f}i=new Uint8Array(t)[0];var o=s(t,1);return g&&"blob"===n&&(o=new g([o])),{type:p[i],data:o}},e.decodeBase64Packet=function(t,e){var n=p[t.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:t.substr(1)}};var i=r.decode(t.substr(1));return"blob"===e&&g&&(i=new g([i])),{type:n,data:i}},e.encodePayload=function(t,n,r){"function"==typeof n&&(r=n,n=null);var i=o(t);if(n&&i)return g&&!h?e.encodePayloadAsBlob(t,r):e.encodePayloadAsArrayBuffer(t,r);if(!t.length)return r("0:");m(t,(function(t,r){e.encodePacket(t,!!i&&n,!1,(function(t){r(null,function(t){return t.length+":"+t}(t))}))}),(function(t,e){return r(e.join(""))}))},e.decodePayload=function(t,n,r){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,r);var i;if("function"==typeof n&&(r=n,n=null),""===t)return r(f,0,1);for(var o,s,a="",c=0,l=t.length;c<l;c++){var u=t.charAt(c);if(":"===u){if(""===a||a!=(o=Number(a)))return r(f,0,1);if(a!=(s=t.substr(c+1,o)).length)return r(f,0,1);if(s.length){if(i=e.decodePacket(s,n,!1),f.type===i.type&&f.data===i.data)return r(f,0,1);if(!1===r(i,c+o,l))return}c+=o,a=""}else a+=u}return""!==a?r(f,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){if(!t.length)return n(new ArrayBuffer(0));m(t,(function(t,n){e.encodePacket(t,!0,!0,(function(t){return n(null,t)}))}),(function(t,e){var r=e.reduce((function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2}),0),i=new Uint8Array(r),o=0;return e.forEach((function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),s=0;s<t.length;s++)r[s]=t.charCodeAt(s);n=r.buffer}i[o++]=e?0:1;var a=n.byteLength.toString();for(s=0;s<a.length;s++)i[o++]=parseInt(a[s]);i[o++]=255;for(r=new Uint8Array(n),s=0;s<r.length;s++)i[o++]=r[s]})),n(i.buffer)}))},e.encodePayloadAsBlob=function(t,n){m(t,(function(t,n){e.encodePacket(t,!0,!0,(function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);t=r.buffer,e[0]=0}var o=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),s=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)s[i]=parseInt(o[i]);if(s[o.length]=255,g){var a=new g([e.buffer,s.buffer,t]);n(null,a)}}))}),(function(t,e){return n(new g(e))}))},e.decodePayloadAsBinary=function(t,n,r){"function"==typeof n&&(r=n,n=null);for(var i=t,o=[];i.byteLength>0;){for(var a=new Uint8Array(i),c=0===a[0],l="",u=1;255!==a[u];u++){if(l.length>310)return r(f,0,1);l+=a[u]}i=s(i,2+l.length),l=parseInt(l);var h=s(i,0,l);if(c)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(t){var d=new Uint8Array(h);h="";for(u=0;u<d.length;u++)h+=String.fromCharCode(d[u])}o.push(h),i=s(i,l)}var p=o.length;o.forEach((function(t,i){r(e.decodePacket(t,n,!0),i,p)}))}},function(t,e,n){"use strict";t.exports=o,o.className="ReflectionObject";var r,i=n(13);function o(t,e){if(!i.isString(t))throw TypeError("name must be a string");if(e&&!i.isObject(e))throw TypeError("options must be an object");this.options=e,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(o.prototype,{root:{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],e=this.parent;e;)t.unshift(e.name),e=e.parent;return t.join(".")}}}),o.prototype.toJSON=function(){throw Error()},o.prototype.onAdd=function(t){this.parent&&this.parent!==t&&this.parent.remove(this),this.parent=t,this.resolved=!1;var e=t.root;e instanceof r&&e._handleAdd(this)},o.prototype.onRemove=function(t){var e=t.root;e instanceof r&&e._handleRemove(this),this.parent=null,this.resolved=!1},o.prototype.resolve=function(){return this.resolved?this:(this.root instanceof r&&(this.resolved=!0),this)},o.prototype.getOption=function(t){if(this.options)return this.options[t]},o.prototype.setOption=function(t,e,n){return n&&this.options&&void 0!==this.options[t]||((this.options||(this.options={}))[t]=e),this},o.prototype.setOptions=function(t,e){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)this.setOption(n[r],t[n[r]],e);return this},o.prototype.toString=function(){var t=this.constructor.className,e=this.fullName;return e.length?t+" "+e:t},o._configure=function(t){r=t}},function(t,e,n){"use strict";var r=e,i=n(13),o=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function s(t,e){var n=0,r={};for(e|=0;n<t.length;)r[o[n+e]]=t[n++];return r}r.basic=s([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=s([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),r.long=s([0,0,0,1,1],7),r.mapKey=s([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=s([1,5,0,0,0,5,5,0,0,0,1,1,0])},,,function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=n(7),a=n(78),c=n(5),l=n(4),u=n(6);var h=function(){function t(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=(t||{}).pixelRatio||c.Konva.pixelRatio||function(){if(o)return o;var t=s.Util.createCanvasElement().getContext("2d");return o=(c.Konva._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}();this.pixelRatio=e,this._canvas=s.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}return t.prototype.getContext=function(){return this.context},t.prototype.getPixelRatio=function(){return this.pixelRatio},t.prototype.setPixelRatio=function(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)},t.prototype.setWidth=function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.setHeight=function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.setSize=function(t,e){this.setWidth(t),this.setHeight(e)},t.prototype.toDataURL=function(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return s.Util.error("Unable to get data URL. "+t.message),""}}},t}();e.Canvas=h,l.Factory.addGetterSetter(h,"pixelRatio",void 0,u.getNumberValidator());var d=function(t){function e(e){void 0===e&&(e={width:0,height:0});var n=t.call(this,e)||this;return n.context=new a.SceneContext(n),n.setSize(e.width,e.height),n}return i(e,t),e}(h);e.SceneCanvas=d;var p=function(t){function e(e){void 0===e&&(e={width:0,height:0});var n=t.call(this,e)||this;return n.hitCanvas=!0,n.context=new a.HitContext(n),n.setSize(e.width,e.height),n}return i(e,t),e}(h);e.HitCanvas=p},function(t,e,n){"use strict";t.exports=n(226)},function(t,e,n){"use strict";t.exports=u;var r=n(29);((u.prototype=Object.create(r.prototype)).constructor=u).className="Namespace";var i,o,s,a=n(25),c=n(13);function l(t,e){if(t&&t.length){for(var n={},r=0;r<t.length;++r)n[t[r].name]=t[r].toJSON(e);return n}}function u(t,e){r.call(this,t,e),this.nested=void 0,this._nestedArray=null}function h(t){return t._nestedArray=null,t}u.fromJSON=function(t,e){return new u(t,e.options).addJSON(e.nested)},u.arrayToJSON=l,u.isReservedId=function(t,e){if(t)for(var n=0;n<t.length;++n)if("string"!=typeof t[n]&&t[n][0]<=e&&t[n][1]>=e)return!0;return!1},u.isReservedName=function(t,e){if(t)for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1},Object.defineProperty(u.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=c.toArray(this.nested))}}),u.prototype.toJSON=function(t){return c.toObject(["options",this.options,"nested",l(this.nestedArray,t)])},u.prototype.addJSON=function(t){if(t)for(var e,n=Object.keys(t),r=0;r<n.length;++r)e=t[n[r]],this.add((void 0!==e.fields?i.fromJSON:void 0!==e.values?s.fromJSON:void 0!==e.methods?o.fromJSON:void 0!==e.id?a.fromJSON:u.fromJSON)(n[r],e));return this},u.prototype.get=function(t){return this.nested&&this.nested[t]||null},u.prototype.getEnum=function(t){if(this.nested&&this.nested[t]instanceof s)return this.nested[t].values;throw Error("no such enum: "+t)},u.prototype.add=function(t){if(!(t instanceof a&&void 0!==t.extend||t instanceof i||t instanceof s||t instanceof o||t instanceof u))throw TypeError("object must be a valid nested object");if(this.nested){var e=this.get(t.name);if(e){if(!(e instanceof u&&t instanceof u)||e instanceof i||e instanceof o)throw Error("duplicate name '"+t.name+"' in "+this);for(var n=e.nestedArray,r=0;r<n.length;++r)t.add(n[r]);this.remove(e),this.nested||(this.nested={}),t.setOptions(e.options,!0)}}else this.nested={};return this.nested[t.name]=t,t.onAdd(this),h(this)},u.prototype.remove=function(t){if(!(t instanceof r))throw TypeError("object must be a ReflectionObject");if(t.parent!==this)throw Error(t+" is not a member of "+this);return delete this.nested[t.name],Object.keys(this.nested).length||(this.nested=void 0),t.onRemove(this),h(this)},u.prototype.define=function(t,e){if(c.isString(t))t=t.split(".");else if(!Array.isArray(t))throw TypeError("illegal path");if(t&&t.length&&""===t[0])throw Error("path must be relative");for(var n=this;t.length>0;){var r=t.shift();if(n.nested&&n.nested[r]){if(!((n=n.nested[r])instanceof u))throw Error("path conflicts with non-namespace objects")}else n.add(n=new u(r))}return e&&n.addJSON(e),n},u.prototype.resolveAll=function(){for(var t=this.nestedArray,e=0;e<t.length;)t[e]instanceof u?t[e++].resolveAll():t[e++].resolve();return this.resolve()},u.prototype.lookup=function(t,e,n){if("boolean"==typeof e?(n=e,e=void 0):e&&!Array.isArray(e)&&(e=[e]),c.isString(t)&&t.length){if("."===t)return this.root;t=t.split(".")}else if(!t.length)return this;if(""===t[0])return this.root.lookup(t.slice(1),e);var r=this.get(t[0]);if(r){if(1===t.length){if(!e||e.indexOf(r.constructor)>-1)return r}else if(r instanceof u&&(r=r.lookup(t.slice(1),e,!0)))return r}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof u&&(r=this._nestedArray[i].lookup(t,e,!0)))return r;return null===this.parent||n?null:this.parent.lookup(t,e)},u.prototype.lookupType=function(t){var e=this.lookup(t,[i]);if(!e)throw Error("no such type: "+t);return e},u.prototype.lookupEnum=function(t){var e=this.lookup(t,[s]);if(!e)throw Error("no such Enum '"+t+"' in "+this);return e},u.prototype.lookupTypeOrEnum=function(t){var e=this.lookup(t,[i,s]);if(!e)throw Error("no such Type or Enum '"+t+"' in "+this);return e},u.prototype.lookupService=function(t){var e=this.lookup(t,[o]);if(!e)throw Error("no such Service '"+t+"' in "+this);return e},u._configure=function(t,e,n){i=t,o=e,s=n}},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),i=n(7);e.DD={get isDragging(){var t=!1;return e.DD._dragElements.forEach((function(e){"dragging"===e.dragStatus&&(t=!0)})),t},justDragged:!1,get node(){var t;return e.DD._dragElements.forEach((function(e){t=e.node})),t},_dragElements:new Map,_drag:function(t){e.DD._dragElements.forEach((function(e,n){var r=e.node,o=r.getStage();o.setPointersPositions(t),void 0===e.pointerId&&(e.pointerId=i.Util._getFirstPointerId(t));var s=o._changedPointerPositions.find((function(t){return t.id===e.pointerId}));if(s){if("dragging"!==e.dragStatus){var a=r.dragDistance();if(Math.max(Math.abs(s.x-e.startPointerPos.x),Math.abs(s.y-e.startPointerPos.y))<a)return;if(r.startDrag({evt:t}),!r.isDragging())return}r._setDragPosition(t,e),r.fire("dragmove",{type:"dragmove",target:r,evt:t},!0)}}))},_endDragBefore:function(t){e.DD._dragElements.forEach((function(n,i){var o=n.node.getStage();if(t&&o.setPointersPositions(t),o._changedPointerPositions.find((function(t){return t.id===n.pointerId}))){"dragging"!==n.dragStatus&&"stopped"!==n.dragStatus||(e.DD.justDragged=!0,r.Konva.listenClickTap=!1,n.dragStatus="stopped");var s=n.node.getLayer()||n.node instanceof r.Konva.Stage&&n.node;s&&s.draw()}}))},_endDragAfter:function(t){e.DD._dragElements.forEach((function(n,r){"stopped"===n.dragStatus&&n.node.fire("dragend",{type:"dragend",target:n.node,evt:t},!0),"dragging"!==n.dragStatus&&e.DD._dragElements.delete(r)}))}},r.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))},function(t,e,n){(function(r){e.log=function(...t){return"object"==typeof console&&console.log&&console.log(...t)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(r++,"%c"===t&&(i=r))}),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(196)(e);const{formatters:i}=t.exports;i.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(40))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,l=[],u=!1,h=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):h=-1,l.length&&p())}function p(){if(!u){var t=a(d);u=!0;for(var e=l.length;e;){for(c=l,l=[];++h<e;)c&&c[h].run();h=-1,e=l.length}c=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new f(t,e)),1!==l.length||u||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){(function(r){e.log=function(...t){return"object"==typeof console&&console.log&&console.log(...t)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(r++,"%c"===t&&(i=r))}),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(217)(e);const{formatters:i}=t.exports;i.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(40))},function(t,e,n){"use strict";t.exports=s;var r=n(29);((s.prototype=Object.create(r.prototype)).constructor=s).className="OneOf";var i=n(25),o=n(13);function s(t,e,n,i){if(Array.isArray(e)||(n=e,e=void 0),r.call(this,t,n),void 0!==e&&!Array.isArray(e))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=i}function a(t){if(t.parent)for(var e=0;e<t.fieldsArray.length;++e)t.fieldsArray[e].parent||t.parent.add(t.fieldsArray[e])}s.fromJSON=function(t,e){return new s(t,e.oneof,e.options,e.comment)},s.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return o.toObject(["options",this.options,"oneof",this.oneof,"comment",e?this.comment:void 0])},s.prototype.add=function(t){if(!(t instanceof i))throw TypeError("field must be a Field");return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),t.partOf=this,a(this),this},s.prototype.remove=function(t){if(!(t instanceof i))throw TypeError("field must be a Field");var e=this.fieldsArray.indexOf(t);if(e<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(e,1),(e=this.oneof.indexOf(t.name))>-1&&this.oneof.splice(e,1),t.partOf=null,this},s.prototype.onAdd=function(t){r.prototype.onAdd.call(this,t);for(var e=0;e<this.oneof.length;++e){var n=t.get(this.oneof[e]);n&&!n.partOf&&(n.partOf=this,this.fieldsArray.push(n))}a(this)},s.prototype.onRemove=function(t){for(var e,n=0;n<this.fieldsArray.length;++n)(e=this.fieldsArray[n]).parent&&e.parent.remove(e);r.prototype.onRemove.call(this,t)},s.d=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;)t[e]=arguments[e++];return function(e,n){o.decorateType(e.constructor).add(new s(n,t)),Object.defineProperty(e,n,{get:o.oneOfGetter(t),set:o.oneOfSetter(t)})}}},function(t,e,n){"use strict";e.__esModule=!0,e.BaseService=void 0;var r=n(24),i=n(34),o=n(100),s=n(23);e.BaseService=function(){function t(e){var n=e.appId,i=e.bizId,o=e.socket,s=e.userId,a=e.env,c=e.jwt,l=e.role;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.appId=n,this.bizId=i,this.socket=o,this.userId=s,this.env=a,this.jwt=c,this.role=l,this.root=r.MESSAGE_MAP.midRoot,r.APPID_INSTANCE_MAP[n]=this}return t.prototype.init=function(){},t.prototype.registerPb=function(t){var e=t.msgName,n=t.msgId,r={fields:t.fields};o.PB_ROOT[this.appid_config.root].add(i.Type.fromJSON(e,r)),this.root[n||e]=e},t.prototype.makeMsgFromData=function(t){var e=t.msgId,n=t.msgName,r=t.data;return(0,s.createBufferContent)(e||n,r,!1,this.appid_config)},t.prototype.emitData=function(t){var e=t.event_name,n=t.message_id,r=t.data,i=this.appid_config,o=(0,s.createBufferContent)(n,r,!0,i);return(0,s.emitEvent)({event_name:e,buffer_content:o,appid_config:i,message_id:n,socket:this.socket})},t.prototype.commonMessageBuilder=function(t,e){var n=t.rep,i=n.data,o=n.msgName,s=n.appid,a=n.msgId;return console.log("APPID_INSTANCE_MAP,appid,msgId,eventId",r.APPID_INSTANCE_MAP,s,a,e),a===e&&o===r.APPID_INSTANCE_MAP[s].root[e]?new Promise((function(t){t(i)})):new Promise((function(t,e){e()}))},t.prototype.registerEvent=function(t){var e=t.eventId,n=t.appid,i=t.cb;r.REGISTER_EVENT_CBS.push([e,n,i])},t.prototype.removeEvent=function(t){for(var e=t.eventId,n=t.appid,i=t.cb,o=r.REGISTER_EVENT_CBS.length,s=0;s<o;s++)if(r.REGISTER_EVENT_CBS[s][0]===e&&r.REGISTER_EVENT_CBS[s][1]===n&&r.REGISTER_EVENT_CBS[s][2]===i){r.REGISTER_EVENT_CBS.splice(s,1);break}},t}()},,,,,,function(t,e,n){"use strict";e.__esModule=!0;e.dispatch=function(t,e,n){var r=new window.CustomEvent("redom",{bubbles:!0,detail:{type:e,data:n}});(t.el||t).dispatchEvent(r)},e.listen=function(t,e){var n=t.el||t,r=function(t){var n=t.detail,r=n.type,i=n.data;e[r]&&e[r](i)};return n.addEventListener("redom",r),{destroy:function(){n.removeEventListener("redom",r)}}}},function(t,e,n){"use strict";e.__esModule=!0,e.makeShapeInstance=function(t){switch(t){case r.DRAWTOOL_PENCIL:return i.Brush;case r.DRAWTOOL_RECT:return o.Rect;case r.DRAWTOOL_LINE:return s.Line;case r.DRAWTOOL_LINEARROW:return a.LineArrow;case r.DRAWTOOL_ELLIPSE:return c.Ellipse;case r.DRAWTOOL_ERASER:return l.Eraser;case r.DRAWTOOL_ERASER_RECTANGLE:return u.EraserRectangle;case r.DRAWTOOL_TRIANGLE:return h.Triangle;case r.DRAWTOOL_STAR:return d.Star;case r.DRAWTOOL_TEXTTOOL:return p.Text;case r.DRAWTOOL_PRESSUREPEN:return f.PressurePen;case r.DRAWTOOL_SMOOTHLINE:return g.SmoothPen;case r.DRAWTOOL_ROBOPEN:return m.RoboPen;case r.DRAWTOOL_RECT_EDIT:return v.RectEdit;case r.DRAWTOOL_SELCTE_SHAPE:return y.SelectShape;case r.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE:return b.EditRegularShape;case r.DRAWTOOL_POLYGON_EDIT:return w.PolygonEdit;case r.DRAWTOOL_EDIT_SHAPE_DELETE:return _.EditDeleteShape;case r.DRAWTOOL_ELLIPSE_EDIT:return x.EllipseEdit;case r.DRAWTOOL_CIRCLE_EDIT:return O.CircleEdit;case r.DRAWTOOL_SIMPLE_ELLIPSE_EDIT:return S.SimpleEllipseEdit;case r.DRAWTOOL_SIMPLE_TRIANGLE_EDIT:return j.SimpleTriangleEdit;case r.DRAWTOOL_LINE_EDIT:return P.LineEdit;case r.DRAWTOOL_LINEDASH_EDIT:return E.LineDashEdit;case r.DRAWTOOL_LINEARROW_EDIT:return A.LineArrowEdit;case r.DRAWTOOL_LINEARROWDASH_EDIT:return k.LineArrowDashEdit;case r.DRAWTOOL_TEXTTOOL_EDIT:return C.TextEdit;case r.DRAWTOOL_COORDSYS_EDIT:return T.CoordSys;case r.DRAWTOOL_EDIT_PAGE_DELETE:return D.EditDeletePage;case r.DRAWTOOL_EDIT_RECOVER:return I.EditRecover;default:return i.Brush}};var r=n(11),i=n(120),o=n(121),s=n(122),a=n(123),c=n(124),l=n(125),u=n(126),h=n(127),d=n(128),p=n(129),f=n(130),g=n(169),m=n(171),v=n(172),y=n(173),b=n(174),w=n(175),_=n(176),x=n(177),O=n(178),S=n(179),j=n(180),E=n(181),T=n(182),P=n(85),C=n(183),A=n(86),k=n(184),D=n(185),I=n(186)},function(t,e,n){"use strict";e.__esModule=!0;e.sceneFunc=function(t){var e,n,r,i=this.getPoints(),o=i.length,s=this.getTension(),a=this.getClosed(),c=this.getBezier();if(o){if(t.beginPath(),t.moveTo(i[0],i[1]),0!==s&&o>4){for(n=(e=this.getTensionPoints()).length,r=a?0:4,a||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);r<n-2;)t.bezierCurveTo(e[r++],e[r++],e[r++],e[r++],e[r++],e[r++]);a||t.quadraticCurveTo(e[n-2],e[n-1],i[o-2],i[o-1])}else if(c)for(r=2;r<o;)t.bezierCurveTo(i[r++],i[r++],i[r++],i[r++],i[r++],i[r++]);else for(r=2;r<o;r+=2){var l=(i[r-2]+i[r])/2,u=(i[r-1]+i[r+1])/2;t.quadraticCurveTo(i[r-2],i[r-1],l,u),t.moveTo(l,u),r==o-2&&t.lineTo(i[r],i[r+1])}a?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}}},function(t,e,n){var r=n(131).Konva;r._injectGlobal(r),e.default=r,t.exports=e.default},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(27),a=n(5),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&o.Util.throw("You may only add groups and shapes to groups.")},e}(s.Container);e.Group=c,c.prototype.nodeType="Group",a._registerNode(c),o.Collection.mapMethods(c)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),i=r.glob.performance&&r.glob.performance.now?function(){return r.glob.performance.now()}:function(){return(new Date).getTime()},o=function(){function t(e,n){this.id=t.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:i(),frameRate:0},this.func=e,this.setLayers(n)}return t.prototype.setLayers=function(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this},t.prototype.getLayers=function(){return this.layers},t.prototype.addLayer=function(t){var e,n=this.layers,r=n.length;for(e=0;e<r;e++)if(n[e]._id===t._id)return!1;return this.layers.push(t),!0},t.prototype.isRunning=function(){var e,n=t.animations,r=n.length;for(e=0;e<r;e++)if(n[e].id===this.id)return!0;return!1},t.prototype.start=function(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=i(),t._addAnimation(this),this},t.prototype.stop=function(){return t._removeAnimation(this),this},t.prototype._updateFrameObject=function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff},t._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},t._removeAnimation=function(t){var e,n=t.id,r=this.animations,i=r.length;for(e=0;e<i;e++)if(r[e].id===n){this.animations.splice(e,1);break}},t._runFrames=function(){var t,e,n,r,o,s,a,c,l={},u=this.animations;for(r=0;r<u.length;r++)if(e=(t=u[r]).layers,n=t.func,t._updateFrameObject(i()),s=e.length,!n||!1!==n.call(t,t.frame))for(o=0;o<s;o++)void 0!==(a=e[o])._id&&(l[a._id]=a);for(c in l)l.hasOwnProperty(c)&&l[c].draw()},t._animationLoop=function(){var e=t;e.animations.length?(e._runFrames(),requestAnimationFrame(e._animationLoop)):e.animRunning=!1},t._handleAnimation=function(){this.animRunning||(this.animRunning=!0,requestAnimationFrame(this._animationLoop))},t.animations=[],t.animIdCounter=0,t.animRunning=!1,t}();e.Animation=o},,,,function(t,e,n){"use strict";e.__esModule=!0,e.baseService=void 0,e.init=function(t){var n=t.evn,i=void 0===n?"fat":n,s=t.accessToken,c=t.deviceId,l=t.appid,u=void 0===l?100001:l,d=t.bizId,m=void 0===d?200001:d,j=t.cb,E=t.access_type,T=void 0===E?"guest":E,P=t.socketUrl,A=t.thirdLogin,k=t.noSocket;return f=i,new Promise((function(t,n){if(p)t({code:"0",userId:g,message:""});else{var i=function(){return(0,o.http)({method:"GET",url:a.HOST_SERVER[f]+"gateway/zmc-whb-loadbalance/api/router/load-balancing",headers:C(),param:{protocol:N}})},l=performance.now(),d=u+"/"+m,E=void 0;if(A){var D=performance.now(),I=A.code,M=A.original;(0,o.sdkEvent)(j,"EXCHANGE_RTI_AK_START"),E=x({cid:l,code:I,original:M}).then((function(t){return w(t,j,n,D)})).then((function(t){return y="third",v=t,t}))}else if(s){(0,o.sdkEvent)(j,"EXCHANGE_RTI_AK_START");var R=performance.now();E=_({cid:l,accessToken:s}).then((function(t){return w(t,j,n,R)})).then((function(t){return y="company",v=t,t}))}else{(0,o.sdkEvent)(j,"EXCHANGE_RTI_AK_START");var L=performance.now();E=O({scope:d,cid:l}).then((function(t){return t.data})).then((function(t){return S({scope:d,grant_type:"authorization_code",code:t,cid:l})})).then((function(t){return w(t,j,n,L)})).then((function(t){return y="guest",v=t,t}))}k&&t({code:"0",token:v});var N="https",F=void 0;E.then((function(s){(0,o.sdkEvent)(j,"LOADBALANCE_START");var a=performance.now(),l=0;i().then((function(u){if("0"===u.code){(0,o.sdkEvent)(j,"LOADBALANCE_SUCCESS",{cost:performance.now()-a});var d=0;if(!(F=u).data.urls||0===F.data.urls.length)return void n({message:"fetch server "});var f=F.data.protocol+"://"+F.data.urls[d],m={osName:"web",userId:g,deviceId:c,access_token:s,access_type:T};(0,o.sdkEvent)(j,"CONNECTED_START"),p=r.default.connect(""+(P||f),{query:m,transports:["websocket"],reconnectionAttempts:3,timeout:2500}),e.baseService=b=new h.MiddleService({socket:p,userId:g}),p.on("connect",(function(){(0,o.sdkEvent)(j,"CONNECTED_SUCCESS",{url:p.io.uri}),console.log("connect")})),p.on("chat",(function(t){console.log("chat",t)})),p.on("disconnect",(function(){console.log("disconnect"),(0,o.sdkEvent)(j,"DISCONNECTED"),n({message:"disconnect"})})),p.on("connect_error",(function(){(0,o.sdkEvent)(j,"CONNECTED_FAIL"),n({message:""})})),p.on("reconnect_attempt",(function(){l++,console.log("",d,F),(0,o.sdkEvent)(j,"CONNECTED_RETRY",{times:l}),n({message:""})})),p.on("reconnect_failed",(function(){console.log("",d,F),(0,o.sdkEvent)(j,"CONNECTED_RETRY_FAIL",{urls:F.data.urls,urlIndex:d}),d<F.data.urls.length-1?(d+=1,p.io.uri=F.data.urls[d],p.connect()):"https"===N&&(N="http",i().then((function(t){"0"===t.code&&(F=t,d=0,p.io.uri=t.data.urls[d],p.connect())})))})),p.on("join room",(function(t){console.log("join room")})),p.on("join room result",(function(t){console.log("join room result")})),p.on("push get",(function(t){console.log("push get")})),p.on("transmission",(function(e){console.log("transmission",e),(0,o.handleTransmission)({data:e,cb:j,baseService:b,resolve:t,reject:n,userId:g})}))}else(0,o.sdkEvent)(j,"LOADBALANCE_FAIL",{cost:performance.now()-a}),n({message:u.message})})).catch((function(t){n({message:t.message})}))})).catch((function(t){n({message:t.message})}))}}))},e.getAccessToken=_,e.getOpenThirdToke=x,e.getAuthCode=O,e.getAuthToken=S,e.initPushService=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.appId,n=void 0===e?11126:e,r=t.bizId,i=void 0===r?12001:r;return new c.PushService({appId:n,bizId:i,socket:p,userId:g,env:f,jwt:m})},e.initClassRoomService=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.appId,n=void 0===e?11156:e,r=t.bizId,i=void 0===r?12001:r,o=t.roomKey;return new l.ClassRoomService({appId:n,bizId:i,socket:p,userId:g,roomKey:o,env:f,jwt:m})},e.initIMRoomService=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.groupId,n=t.bizId,r=void 0===n?12001:n,i=t.appId,o=void 0===i?11125:i,s=t.role,a={getOssFileRead:T,getUrlPathName:P,ossUpload:E,getOssToken:j};return new u.ImService({appId:o,bizId:r,socket:p,userId:g,groupId:e,util_map:a,env:f,jwt:m,role:s})},e.getOssToken=j,e.ossUpload=E,e.getOssFileRead=T,e.getUrlPathName=P,e.getHistoryMessages=function(t){var e=t.groupId,n=t.page,r=void 0===n?1:n,i=t.pageSize,s=void 0===i?50:i,c={page:r,pageSize:s,groupId:e};return(0,o.http)({method:"POST",isJson:!0,headers:C(),param:c,url:a.HOST_SERVER[f]+"gateway/zmc-whb-plugins/api/chatroom/all/listPage"})},e.queryInfoById=function(t){var e={id:t};return(0,o.http)({method:"POST",headers:C(),url:a.HOST_SERVER[f]+"gateway/zmc-whb-plugins/api/question/info?"+(0,s.JsonToUrlParams)(e)})},e.listByLessonUID=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={lessonUID:t,status:e};return(0,o.http)({method:"POST",headers:C(),url:a.HOST_SERVER[f]+"gateway/zmc-whb-plugins/api/question/listByLessonUID?"+(0,s.JsonToUrlParams)(n)})},e.unCloseQuestion=function(t,e){var n={lessonUID:t,userId:e};return(0,o.http)({method:"POST",headers:C(),url:a.HOST_SERVER[f]+"gateway/zmc-whb-plugins/api/question/user/unCloseQuestion?"+(0,s.JsonToUrlParams)(n)})},e.sendAwnser=function(t){return(0,o.http)({method:"POST",param:t,url:a.HOST_SERVER[f]+"gateway/zmc-whb-plugins/api/question/answer",headers:C(),isJson:!0})},e.createAwnser=function(t){return(0,o.http)({method:"POST",param:t,url:a.HOST_SERVER[f]+"gateway/zmc-whb-plugins/api/question/create",headers:C(),isJson:!0})},e.endAwnser=function(t){var e={id:t};return(0,o.http)({method:"POST",headers:C(),url:a.HOST_SERVER[f]+"gateway/zmc-whb-plugins/api/question/finish?"+(0,s.JsonToUrlParams)(e)})},e.closeAwnser=function(t){var e={id:t};return(0,o.http)({method:"POST",headers:C(),url:a.HOST_SERVER[f]+"gateway/zmc-whb-plugins/api/question/close?"+(0,s.JsonToUrlParams)(e)})},e.publishAwnser=function(t){var e={id:t};return(0,o.http)({method:"POST",headers:C(),url:a.HOST_SERVER[f]+"gateway/zmc-whb-plugins/api/question/publish?"+(0,s.JsonToUrlParams)(e)})},e.blockall=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"STU",n={groupId:t,role:e};return(0,o.http)({method:"POST",headers:C(),url:a.HOST_SERVER[f]+"gateway/zmc-whb-plugins/api/chatroom/block?"+(0,s.JsonToUrlParams)(n)})},e.unblockall=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"STU",n={groupId:t,role:e};return(0,o.http)({method:"POST",headers:C(),url:a.HOST_SERVER[f]+"gateway/zmc-whb-plugins/api/chatroom/unBlock?"+(0,s.JsonToUrlParams)(n)})},e.blockuser=function(t,e){var n={groupId:t,userIds:e};return(0,o.http)({method:"POST",url:a.HOST_SERVER[f]+"gateway/zmc-whb-plugins/api/chatroom/user/block",param:n,headers:C(),isJson:!0})},e.unblockuser=function(t,e){var n={groupId:t,userIds:e};return(0,o.http)({method:"POST",url:a.HOST_SERVER[f]+"gateway/zmc-whb-plugins/api/chatroom/user/unBlock",param:n,headers:C(),isJson:!0})},e.queryusers=function(t){var e=t.groupId,n=t.page,r=void 0===n?1:n,i=t.pageSize,s=void 0===i?20:i,c=t.userName,l=void 0===c?"":c,u=t.role,h={groupId:e,page:r,pageSize:s,role:u};l&&(h.userName=l);return(0,o.http)({method:"POST",headers:C(),param:h,isJson:!0,url:a.HOST_SERVER[f]+"gateway/zmc-whb-plugins/api/chatroom/user/query"})},e.queryChatusers=function(t){var e={groupId:t};return(0,o.http)({method:"POST",headers:C(),url:a.HOST_SERVER[f]+"gateway/zmc-whb-plugins/api/chatroom/user/chat/query?"+(0,s.JsonToUrlParams)(e)})},e.setChatRoomState=function(t){var e=t.groupId,n=t.states,r={groupId:e,states:n};return(0,o.http)({method:"POST",param:r,url:a.HOST_SERVER[f]+"gateway/zmc-whb-plugins/api/chatroom/saveGroupState",headers:C(),isJson:!0})},e.queryBlockUsers=function(t){var e={groupId:t};return(0,o.http)({method:"POST",headers:C(),url:a.HOST_SERVER[f]+"gateway/zmc-whb-plugins/api/chatroom/block/user/list?"+(0,s.JsonToUrlParams)(e)})},e.getPushStreamUrl=function(t){return(0,o.http)({method:"GET",url:a.HOST_SERVER[f]+"gateway/zmc-beacon-classprovid/rest/api/generate/push/url",headers:C(),param:t})},e.getPullStreamUrl=function(t){return(0,o.http)({method:"GET",url:a.HOST_SERVER[f]+"gateway/zmc-beacon-classprovid/rest/api/generate/play/url",headers:C(),param:t})},e.getOpenUserInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100001,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200001,n=t+"/"+e;return(0,o.http)({method:"GET",url:a.HOST_SERVER[f]+"gateway/zmc-whb-authcenter/api/openauth/userinfo",headers:C(),param:{access_token:v,scope:n,type:y},isJson:!1})},e.getCompUserInfo=function(){return(0,o.http)({method:"GET",url:a.HOST_SERVER[f]+"gateway/zmc-whb-authcenter/api/companyauth/userinfo",headers:C(),param:{access_token:v},isJson:!1})};var r=d(n(194)),i=d(n(224)),o=n(23),s=n(17),a=n(24),c=n(246),l=n(247),u=n(250),h=n(251);function d(t){return t&&t.__esModule?t:{default:t}}var p=null,f=null,g=null,m=null,v=void 0,y="guest",b=e.baseService=null;function w(t,e,n,r){if("0"===t.code)return(0,o.sdkEvent)(e,"EXCHANGE_RTI_AK_SUCCESS",{cost:performance.now()-r}),m=t.data.jwt,g=t.data.userId,t.data.jwt;n({message:t.message}),(0,o.sdkEvent)(e,"EXCHANGE_RTI_AK_FAIL",{cost:performance.now()-r})}function _(t){var e=t.channel,n=void 0===e?"a":e,r=t.bizId,i=void 0===r?1:r,s=t.cid,c=t.accessToken;return(0,o.http)({method:"GET",url:a.HOST_SERVER[f]+"gateway/zmc-whb-authcenter/api/companyauth/access_token",headers:{cid:s,accessToken:c},param:{channel:n,bizId:i},isJson:!1})}function x(t){var e=t.channel,n=void 0===e?"a":e,r=t.bizId,i=void 0===r?10001:r,s=t.cid,c=t.code,l=t.original;return(0,o.http)({method:"GET",url:a.HOST_SERVER[f]+"gateway/zmc-whb-authcenter/api/openauth/biz/access_token",headers:{cid:s},param:{channel:n,bizId:i,code:c,original:l},isJson:!1})}function O(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.scope,n=t.cid;return(0,o.http)({method:"GET",url:a.HOST_SERVER[f]+"gateway/zmc-whb-authcenter/api/openauth/authorize",headers:{cid:n},param:{scope:e}})}function S(t){var e=t.scope,n=t.grant_type,r=void 0===n?"authorization_code":n,i=t.code,s=t.cid;t.url;return(0,o.http)({method:"GET",url:a.HOST_SERVER[f]+"gateway/zmc-whb-authcenter/api/openauth/access_token",headers:{cid:s},param:{scope:e,grant_type:r,code:i}})}function j(t){return(0,o.http)({url:a.HOST_SERVER[f]+"api/oss/getOssWriteToken",param:t,isJson:!1})}function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:params,e=t.accessKeyId,n=t.accessKeySecret,r=t.securityToken,o=t.file,s=t.filePath,a=t.percentCb,c=new i.default({accessKeyId:e,accessKeySecret:n,bucket:"zm-im-files",stsToken:r});return c.multipartUpload(s,o,{progress:function(t){return a&&a(t)}})}function T(t){return(0,o.http)({url:a.HOST_SERVER[f]+"api/oss/getOssWriteToken",param:t,isJson:!1}).then((function(e){var n=e.data,r=n.accessKeyId,o=n.accessKeySecret,s=n.securityToken,a=new i.default({accessKeyId:r,accessKeySecret:o,bucket:"zm-im-files",stsToken:s});return console.log("param.process",t.process),{source:a.signatureUrl(t.path,{}),preview:a.signatureUrl(t.path,{process:t.process})}}))}function P(t){switch(t){case"imgMessage":return"imageUri";case"hQVoiceMessage":return"remoteUrl"}}function C(){return{"Content-Type":"application/json;charset=UTF-8",accessToken:v,type:y}}},function(t,e,n){var r=n(198)("socket.io-parser"),i=n(201),o=n(202),s=n(88),a=n(89);function c(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=c,e.Decoder=h;var l=e.ERROR+'"encode error"';function u(t){var n=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data){var i=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===i)return l;n+=i}return r("encoded %j as %s",t,n),n}function h(){this.reconstructor=null}function d(t){this.reconPack=t,this.buffers=[]}function p(t){return{type:e.ERROR,data:"parser error: "+t}}c.prototype.encode=function(t,n){(r("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)?function(t,e){o.removeBlobs(t,(function(t){var n=o.deconstructPacket(t),r=u(n.packet),i=n.buffers;i.unshift(r),e(i)}))}(t,n):n([u(t)])},i(h.prototype),h.prototype.add=function(t){var n;if("string"==typeof t)n=function(t){var n=0,i={type:Number(t.charAt(0))};if(null==e.types[i.type])return p("unknown packet type "+i.type);if(e.BINARY_EVENT===i.type||e.BINARY_ACK===i.type){for(var o="";"-"!==t.charAt(++n)&&(o+=t.charAt(n),n!=t.length););if(o!=Number(o)||"-"!==t.charAt(n))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===t.charAt(n+1))for(i.nsp="";++n;){if(","===(c=t.charAt(n)))break;if(i.nsp+=c,n===t.length)break}else i.nsp="/";var a=t.charAt(n+1);if(""!==a&&Number(a)==a){for(i.id="";++n;){var c;if(null==(c=t.charAt(n))||Number(c)!=c){--n;break}if(i.id+=t.charAt(n),n===t.length)break}i.id=Number(i.id)}if(t.charAt(++n)){var l=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(n));if(!(!1!==l&&(i.type===e.ERROR||s(l))))return p("invalid payload");i.data=l}return r("decoded %s as %j",t,i),i}(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new d(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!a(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},h.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(203),i=n(204),o=n(205);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=d(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(e,n),i=(t=a(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|p(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?a(t,0):d(t,e);if("Buffer"===e.type&&o(e.data))return d(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(u(e),t=a(t,e<0?0:0|p(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=e.length<0?0:0|p(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function f(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(r)return U(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,n);case"utf8":case"utf-8":return E(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return j(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,i){var o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var u=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var h=!0,d=0;d<c;d++)if(l(t,o+d)!==l(e,d)){h=!1;break}if(h)return o}return-1}function b(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function w(t,e,n,r){return X(U(e,t.length-n),t,n,r)}function _(t,e,n,r){return X(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return _(t,e,n,r)}function O(t,e,n,r){return X(z(e),t,n,r)}function S(t,e,n,r){return X(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function j(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function E(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,c,l=t[i],u=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(o=t[i+1]))&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(c=(15&l)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(u=c)}null===u?(u=65533,h=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return l(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return u(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return h(null,t)},c.allocUnsafeSlow=function(t){return h(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):g.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),l=this.slice(r,i),u=t.slice(e,n),h=0;h<a;++h)if(l[h]!==u[h]){o=l[h],s=u[h];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return x(this,t,e,n);case"base64":return O(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function C(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=B(t[o]);return i}function A(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function k(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function I(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function R(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,r,o){return o||R(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function N(t,e,n,r,o){return o||R(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUInt8=function(t,e){return e||k(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||k(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||k(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||k(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||k(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||k(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||k(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||k(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||k(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=c.isBuffer(t)?t:U(new c(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function X(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(22))},function(t,e,n){var r=n(208);t.exports=function(t){var e=t.xdomain,n=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(t){}if(!e)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}},function(t,e,n){var r=n(28),i=n(65);function o(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=o,i(o.prototype),o.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(t){var e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)},o.prototype.onPacket=function(t){this.emit("packet",t)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){"use strict";t.exports=h;var r,i=n(19),o=i.LongBits,s=i.base64,a=i.utf8;function c(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function l(){}function u(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function h(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}function d(t,e,n){e[n]=255&t}function p(t,e){this.len=t,this.next=void 0,this.val=e}function f(t,e,n){for(;t.hi;)e[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=127&t.lo|128,t.lo=t.lo>>>7;e[n++]=t.lo}function g(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}h.create=i.Buffer?function(){return(h.create=function(){return new r})()}:function(){return new h},h.alloc=function(t){return new i.Array(t)},i.Array!==Array&&(h.alloc=i.pool(h.alloc,i.Array.prototype.subarray)),h.prototype._push=function(t,e,n){return this.tail=this.tail.next=new c(t,e,n),this.len+=e,this},p.prototype=Object.create(c.prototype),p.prototype.fn=function(t,e,n){for(;t>127;)e[n++]=127&t|128,t>>>=7;e[n]=t},h.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new p((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},h.prototype.int32=function(t){return t<0?this._push(f,10,o.fromNumber(t)):this.uint32(t)},h.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},h.prototype.uint64=function(t){var e=o.from(t);return this._push(f,e.length(),e)},h.prototype.int64=h.prototype.uint64,h.prototype.sint64=function(t){var e=o.from(t).zzEncode();return this._push(f,e.length(),e)},h.prototype.bool=function(t){return this._push(d,1,t?1:0)},h.prototype.fixed32=function(t){return this._push(g,4,t>>>0)},h.prototype.sfixed32=h.prototype.fixed32,h.prototype.fixed64=function(t){var e=o.from(t);return this._push(g,4,e.lo)._push(g,4,e.hi)},h.prototype.sfixed64=h.prototype.fixed64,h.prototype.float=function(t){return this._push(i.float.writeFloatLE,4,t)},h.prototype.double=function(t){return this._push(i.float.writeDoubleLE,8,t)};var m=i.Array.prototype.set?function(t,e,n){e.set(t,n)}:function(t,e,n){for(var r=0;r<t.length;++r)e[n+r]=t[r]};h.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(d,1,0);if(i.isString(t)){var n=h.alloc(e=s.length(t));s.decode(t,n,0),t=n}return this.uint32(e)._push(m,e,t)},h.prototype.string=function(t){var e=a.length(t);return e?this.uint32(e)._push(a.write,e,t):this._push(d,1,0)},h.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},h.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},h.prototype.ldelim=function(){var t=this.head,e=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=e,this.len+=n),this},h.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,e,n),n+=t.len,t=t.next;return e},h._configure=function(t){r=t}},function(t,e,n){"use strict";t.exports=c;var r,i=n(19),o=i.LongBits,s=i.utf8;function a(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function c(t){this.buf=t,this.pos=0,this.len=t.length}var l,u="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new c(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new c(t);throw Error("illegal buffer")};function h(){var t=new o(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw a(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw a(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function d(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw a(this,8);return new o(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}c.create=i.Buffer?function(t){return(c.create=function(t){return i.Buffer.isBuffer(t)?new r(t):u(t)})(t)}:u,c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return l}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return d(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|d(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var t=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var t=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},c.prototype.bytes=function(){var t=this.uint32(),e=this.pos,n=this.pos+t;if(n>this.len)throw a(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,n):e===n?new this.buf.constructor(0):this._slice.call(this.buf,e,n)},c.prototype.string=function(){var t=this.bytes();return s.read(t,0,t.length)},c.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw a(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},c._configure=function(t){r=t;var e=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return h.call(this)[e](!1)},uint64:function(){return h.call(this)[e](!0)},sint64:function(){return h.call(this).zzDecode()[e](!1)},fixed64:function(){return p.call(this)[e](!0)},sfixed64:function(){return p.call(this)[e](!1)}})}},function(t,e,n){"use strict";t.exports=y;var r=n(35);((y.prototype=Object.create(r.prototype)).constructor=y).className="Type";var i=n(18),o=n(44),s=n(25),a=n(69),c=n(70),l=n(72),u=n(67),h=n(66),d=n(13),p=n(105),f=n(106),g=n(107),m=n(108),v=n(109);function y(t,e){r.call(this,t,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function b(t){return t._fieldsById=t._fieldsArray=t._oneofsArray=null,delete t.encode,delete t.decode,delete t.verify,t}Object.defineProperties(y.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var t=Object.keys(this.fields),e=0;e<t.length;++e){var n=this.fields[t[e]],r=n.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=d.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=d.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=y.generateConstructor(this)())},set:function(t){var e=t.prototype;e instanceof l||((t.prototype=new l).constructor=t,d.merge(t.prototype,e)),t.$type=t.prototype.$type=this,d.merge(t,l,!0),this._ctor=t;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n)r[this._oneofsArray[n].resolve().name]={get:d.oneOfGetter(this._oneofsArray[n].oneof),set:d.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(t.prototype,r)}}}),y.generateConstructor=function(t){for(var e,n=d.codegen(["p"],t.name),r=0;r<t.fieldsArray.length;++r)(e=t._fieldsArray[r]).map?n("this%s={}",d.safeProp(e.name)):e.repeated&&n("this%s=[]",d.safeProp(e.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},y.fromJSON=function(t,e){var n=new y(t,e.options);n.extensions=e.extensions,n.reserved=e.reserved;for(var l=Object.keys(e.fields),u=0;u<l.length;++u)n.add((void 0!==e.fields[l[u]].keyType?a.fromJSON:s.fromJSON)(l[u],e.fields[l[u]]));if(e.oneofs)for(l=Object.keys(e.oneofs),u=0;u<l.length;++u)n.add(o.fromJSON(l[u],e.oneofs[l[u]]));if(e.nested)for(l=Object.keys(e.nested),u=0;u<l.length;++u){var h=e.nested[l[u]];n.add((void 0!==h.id?s.fromJSON:void 0!==h.fields?y.fromJSON:void 0!==h.values?i.fromJSON:void 0!==h.methods?c.fromJSON:r.fromJSON)(l[u],h))}return e.extensions&&e.extensions.length&&(n.extensions=e.extensions),e.reserved&&e.reserved.length&&(n.reserved=e.reserved),e.group&&(n.group=!0),e.comment&&(n.comment=e.comment),n},y.prototype.toJSON=function(t){var e=r.prototype.toJSON.call(this,t),n=!!t&&Boolean(t.keepComments);return d.toObject(["options",e&&e.options||void 0,"oneofs",r.arrayToJSON(this.oneofsArray,t),"fields",r.arrayToJSON(this.fieldsArray.filter((function(t){return!t.declaringField})),t)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",e&&e.nested||void 0,"comment",n?this.comment:void 0])},y.prototype.resolveAll=function(){for(var t=this.fieldsArray,e=0;e<t.length;)t[e++].resolve();var n=this.oneofsArray;for(e=0;e<n.length;)n[e++].resolve();return r.prototype.resolveAll.call(this)},y.prototype.get=function(t){return this.fields[t]||this.oneofs&&this.oneofs[t]||this.nested&&this.nested[t]||null},y.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);if(t instanceof s&&void 0===t.extend){if(this._fieldsById?this._fieldsById[t.id]:this.fieldsById[t.id])throw Error("duplicate id "+t.id+" in "+this);if(this.isReservedId(t.id))throw Error("id "+t.id+" is reserved in "+this);if(this.isReservedName(t.name))throw Error("name '"+t.name+"' is reserved in "+this);return t.parent&&t.parent.remove(t),this.fields[t.name]=t,t.message=this,t.onAdd(this),b(this)}return t instanceof o?(this.oneofs||(this.oneofs={}),this.oneofs[t.name]=t,t.onAdd(this),b(this)):r.prototype.add.call(this,t)},y.prototype.remove=function(t){if(t instanceof s&&void 0===t.extend){if(!this.fields||this.fields[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.fields[t.name],t.parent=null,t.onRemove(this),b(this)}if(t instanceof o){if(!this.oneofs||this.oneofs[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.oneofs[t.name],t.parent=null,t.onRemove(this),b(this)}return r.prototype.remove.call(this,t)},y.prototype.isReservedId=function(t){return r.isReservedId(this.reserved,t)},y.prototype.isReservedName=function(t){return r.isReservedName(this.reserved,t)},y.prototype.create=function(t){return new this.ctor(t)},y.prototype.setup=function(){for(var t=this.fullName,e=[],n=0;n<this.fieldsArray.length;++n)e.push(this._fieldsArray[n].resolve().resolvedType);this.encode=p(this)({Writer:h,types:e,util:d}),this.decode=f(this)({Reader:u,types:e,util:d}),this.verify=g(this)({types:e,util:d}),this.fromObject=m.fromObject(this)({types:e,util:d}),this.toObject=m.toObject(this)({types:e,util:d});var r=v[t];if(r){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=r.fromObject.bind(i),i.toObject=this.toObject,this.toObject=r.toObject.bind(i)}return this},y.prototype.encode=function(t,e){return this.setup().encode(t,e)},y.prototype.encodeDelimited=function(t,e){return this.encode(t,e&&e.len?e.fork():e).ldelim()},y.prototype.decode=function(t,e){return this.setup().decode(t,e)},y.prototype.decodeDelimited=function(t){return t instanceof u||(t=u.create(t)),this.decode(t,t.uint32())},y.prototype.verify=function(t){return this.setup().verify(t)},y.prototype.fromObject=function(t){return this.setup().fromObject(t)},y.prototype.toObject=function(t,e){return this.setup().toObject(t,e)},y.d=function(t){return function(e){d.decorateType(e,t)}}},function(t,e,n){"use strict";t.exports=s;var r=n(25);((s.prototype=Object.create(r.prototype)).constructor=s).className="MapField";var i=n(30),o=n(13);function s(t,e,n,i,s,a){if(r.call(this,t,e,i,void 0,void 0,s,a),!o.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}s.fromJSON=function(t,e){return new s(t,e.id,e.keyType,e.type,e.options,e.comment)},s.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return o.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",e?this.comment:void 0])},s.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)},s.d=function(t,e,n){return"function"==typeof n?n=o.decorateType(n).name:n&&"object"==typeof n&&(n=o.decorateEnum(n).name),function(r,i){o.decorateType(r.constructor).add(new s(i,t,e,n))}}},function(t,e,n){"use strict";t.exports=a;var r=n(35);((a.prototype=Object.create(r.prototype)).constructor=a).className="Service";var i=n(71),o=n(13),s=n(103);function a(t,e){r.call(this,t,e),this.methods={},this._methodsArray=null}function c(t){return t._methodsArray=null,t}a.fromJSON=function(t,e){var n=new a(t,e.options);if(e.methods)for(var r=Object.keys(e.methods),o=0;o<r.length;++o)n.add(i.fromJSON(r[o],e.methods[r[o]]));return e.nested&&n.addJSON(e.nested),n.comment=e.comment,n},a.prototype.toJSON=function(t){var e=r.prototype.toJSON.call(this,t),n=!!t&&Boolean(t.keepComments);return o.toObject(["options",e&&e.options||void 0,"methods",r.arrayToJSON(this.methodsArray,t)||{},"nested",e&&e.nested||void 0,"comment",n?this.comment:void 0])},Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=o.toArray(this.methods))}}),a.prototype.get=function(t){return this.methods[t]||r.prototype.get.call(this,t)},a.prototype.resolveAll=function(){for(var t=this.methodsArray,e=0;e<t.length;++e)t[e].resolve();return r.prototype.resolve.call(this)},a.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);return t instanceof i?(this.methods[t.name]=t,t.parent=this,c(this)):r.prototype.add.call(this,t)},a.prototype.remove=function(t){if(t instanceof i){if(this.methods[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.methods[t.name],t.parent=null,c(this)}return r.prototype.remove.call(this,t)},a.prototype.create=function(t,e,n){for(var r,i=new s.Service(t,e,n),a=0;a<this.methodsArray.length;++a){var c=o.lcFirst((r=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");i[c]=o.codegen(["r","c"],o.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return i}},function(t,e,n){"use strict";t.exports=o;var r=n(29);((o.prototype=Object.create(r.prototype)).constructor=o).className="Method";var i=n(13);function o(t,e,n,o,s,a,c,l){if(i.isObject(s)?(c=s,s=a=void 0):i.isObject(a)&&(c=a,a=void 0),void 0!==e&&!i.isString(e))throw TypeError("type must be a string");if(!i.isString(n))throw TypeError("requestType must be a string");if(!i.isString(o))throw TypeError("responseType must be a string");r.call(this,t,c),this.type=e||"rpc",this.requestType=n,this.requestStream=!!s||void 0,this.responseType=o,this.responseStream=!!a||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l}o.fromJSON=function(t,e){return new o(t,e.type,e.requestType,e.responseType,e.requestStream,e.responseStream,e.options,e.comment)},o.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return i.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",e?this.comment:void 0])},o.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),r.prototype.resolve.call(this))}},function(t,e,n){"use strict";t.exports=i;var r=n(19);function i(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)this[e[n]]=t[e[n]]}i.create=function(t){return this.$type.create(t)},i.encode=function(t,e){return this.$type.encode(t,e)},i.encodeDelimited=function(t,e){return this.$type.encodeDelimited(t,e)},i.decode=function(t){return this.$type.decode(t)},i.decodeDelimited=function(t){return this.$type.decodeDelimited(t)},i.verify=function(t){return this.$type.verify(t)},i.fromObject=function(t){return this.$type.fromObject(t)},i.toObject=function(t,e){return this.$type.toObject(t,e)},i.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},function(t,e,n){"use strict";t.exports=h;var r=n(35);((h.prototype=Object.create(r.prototype)).constructor=h).className="Root";var i,o,s,a=n(25),c=n(18),l=n(44),u=n(13);function h(t){r.call(this,"",t),this.deferred=[],this.files=[]}function d(){}h.fromJSON=function(t,e){return e||(e=new h),t.options&&e.setOptions(t.options),e.addJSON(t.nested)},h.prototype.resolvePath=u.path.resolve,h.prototype.load=function t(e,n,r){"function"==typeof n&&(r=n,n=void 0);var i=this;if(!r)return u.asPromise(t,i,e,n);var a=r===d;function c(t,e){if(r){var n=r;if(r=null,a)throw t;n(t,e)}}function l(t,e){try{if(u.isString(e)&&"{"===e.charAt(0)&&(e=JSON.parse(e)),u.isString(e)){o.filename=t;var r,s=o(e,i,n),l=0;if(s.imports)for(;l<s.imports.length;++l)(r=i.resolvePath(t,s.imports[l]))&&h(r);if(s.weakImports)for(l=0;l<s.weakImports.length;++l)(r=i.resolvePath(t,s.weakImports[l]))&&h(r,!0)}else i.setOptions(e.options).addJSON(e.nested)}catch(t){c(t)}a||p||c(null,i)}function h(t,e){var n=t.lastIndexOf("google/protobuf/");if(n>-1){var o=t.substring(n);o in s&&(t=o)}if(!(i.files.indexOf(t)>-1))if(i.files.push(t),t in s)a?l(t,s[t]):(++p,setTimeout((function(){--p,l(t,s[t])})));else if(a){var h;try{h=u.fs.readFileSync(t).toString("utf8")}catch(t){return void(e||c(t))}l(t,h)}else++p,u.fetch(t,(function(n,o){--p,r&&(n?e?p||c(null,i):c(n):l(t,o))}))}var p=0;u.isString(e)&&(e=[e]);for(var f,g=0;g<e.length;++g)(f=i.resolvePath("",e[g]))&&h(f);if(a)return i;p||c(null,i)},h.prototype.loadSync=function(t,e){if(!u.isNode)throw Error("not supported");return this.load(t,e,d)},h.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(t){return"'extend "+t.extend+"' in "+t.parent.fullName})).join(", "));return r.prototype.resolveAll.call(this)};var p=/^[A-Z]/;function f(t,e){var n=e.parent.lookup(e.extend);if(n){var r=new a(e.fullName,e.id,e.type,e.rule,void 0,e.options);return r.declaringField=e,e.extensionField=r,n.add(r),!0}return!1}h.prototype._handleAdd=function(t){if(t instanceof a)void 0===t.extend||t.extensionField||f(0,t)||this.deferred.push(t);else if(t instanceof c)p.test(t.name)&&(t.parent[t.name]=t.values);else if(!(t instanceof l)){if(t instanceof i)for(var e=0;e<this.deferred.length;)f(0,this.deferred[e])?this.deferred.splice(e,1):++e;for(var n=0;n<t.nestedArray.length;++n)this._handleAdd(t._nestedArray[n]);p.test(t.name)&&(t.parent[t.name]=t)}},h.prototype._handleRemove=function(t){if(t instanceof a){if(void 0!==t.extend)if(t.extensionField)t.extensionField.parent.remove(t.extensionField),t.extensionField=null;else{var e=this.deferred.indexOf(t);e>-1&&this.deferred.splice(e,1)}}else if(t instanceof c)p.test(t.name)&&delete t.parent[t.name];else if(t instanceof r){for(var n=0;n<t.nestedArray.length;++n)this._handleRemove(t._nestedArray[n]);p.test(t.name)&&delete t.parent[t.name]}},h._configure=function(t,e,n){i=t,o=e,s=n}},,function(t,e,n){"use strict";var r=n(0),i=n(2);r.a;function o(t){let e,n,i,o,s,a,c,l,u,h;return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),i=Object(r.u)("span"),s=Object(r.V)(),a=Object(r.u)("div"),c=Object(r.Y)(t[0]),this.h()},l(o){e=Object(r.j)(o,"DIV",{class:!0,title:!0});var l=Object(r.h)(e);n=Object(r.j)(l,"DIV",{class:!0});var u=Object(r.h)(n);i=Object(r.j)(u,"SPAN",{class:!0}),Object(r.h)(i).forEach(r.t),u.forEach(r.t),s=Object(r.k)(l),a=Object(r.j)(l,"DIV",{class:!0});var h=Object(r.h)(a);c=Object(r.l)(h,t[0]),h.forEach(r.t),l.forEach(r.t),this.h()},h(){Object(r.e)(i,"class",o="icon iconfont "+(t[1]===t[3].currentTool?"item-icon-selected":"")+" svelte-1gq2yw4"),Object(r.e)(n,"class","icon-item svelte-1gq2yw4"),Object(r.e)(a,"class",l="mouse-move-tip item-base-tip "+(t[4]?"d-f":"d-n")+" svelte-1gq2yw4"),Object(r.e)(e,"class",u="item-base "+(t[1]===t[3].currentTool?"item-base-selected":"")+" svelte-1gq2yw4"),Object(r.e)(e,"title",t[0])},m(o,l){Object(r.G)(o,e,l),Object(r.c)(e,n),Object(r.c)(n,i),i.innerHTML=t[2],Object(r.c)(e,s),Object(r.c)(e,a),Object(r.c)(a,c),h=[Object(r.I)(e,"mouseleave",t[12]),Object(r.I)(e,"mouseenter",t[13]),Object(r.I)(e,"click",t[14])]},p(t,[n]){4&n&&(i.innerHTML=t[2]),10&n&&o!==(o="icon iconfont "+(t[1]===t[3].currentTool?"item-icon-selected":"")+" svelte-1gq2yw4")&&Object(r.e)(i,"class",o),1&n&&Object(r.T)(c,t[0]),16&n&&l!==(l="mouse-move-tip item-base-tip "+(t[4]?"d-f":"d-n")+" svelte-1gq2yw4")&&Object(r.e)(a,"class",l),10&n&&u!==(u="item-base "+(t[1]===t[3].currentTool?"item-base-selected":"")+" svelte-1gq2yw4")&&Object(r.e)(e,"class",u),1&n&&Object(r.e)(e,"title",t[0])},i:r.K,o:r.K,d(t){t&&Object(r.t)(e),Object(r.Q)(h)}}}function s(t,e,n){const r=Object(i.b)();let{defaultBg:o=""}=e,{selectedBg:s=""}=e,{lable:a=""}=e,{selected:c=!1}=e,{value:l=""}=e,{iconfont:u=""}=e,{currentStatus:h={}}=e,d=!1,p=null;function f(t){r("message",{name:t})}function g(t){p&&(clearTimeout(p),p=null),p=setTimeout(()=>{n(4,d=t)},t?0:200)}return t.$set=t=>{"defaultBg"in t&&n(7,o=t.defaultBg),"selectedBg"in t&&n(8,s=t.selectedBg),"lable"in t&&n(0,a=t.lable),"selected"in t&&n(9,c=t.selected),"value"in t&&n(1,l=t.value),"iconfont"in t&&n(2,u=t.iconfont),"currentStatus"in t&&n(3,h=t.currentStatus)},[a,l,u,h,d,f,g,o,s,c,p,r,()=>g(!1),()=>g(!0),()=>f(l)]}class a extends r.a{constructor(t){var e;super(),document.getElementById("svelte-1gq2yw4-style")||((e=Object(r.u)("style")).id="svelte-1gq2yw4-style",e.textContent='.iconfont.svelte-1gq2yw4.svelte-1gq2yw4{font-family:"iconfont" !important;font-size:22px;font-style:normal;color:#B4B9C5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-item.svelte-1gq2yw4.svelte-1gq2yw4{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.item-icon-selected.svelte-1gq2yw4.svelte-1gq2yw4{color:white!important}.mouse-move-tip.svelte-1gq2yw4.svelte-1gq2yw4{transform:translateX(40px);width:80px;height:26px}.item-base.svelte-1gq2yw4.svelte-1gq2yw4:hover{background-color:rgba(0, 0, 0, .4);border-radius:4px}.item-base.svelte-1gq2yw4:hover .item-base-tip.svelte-1gq2yw4{transform:translateX(48px);opacity:0.94}.item-base-tip.svelte-1gq2yw4.svelte-1gq2yw4{user-select:none;position:absolute;transform:translateX(-100px);opacity:0;transition-property:transform, opacity;transition-duration:.2s;transition-timing-function:ease-out;display:flex;top:8px;align-items:center;justify-content:center;flex-direction:column;background:rgba(46, 48, 55, 1);box-shadow:0px 2px 4px 0px rgba(0, 0, 0, 0.5);border:1px solid rgba(67, 71, 82, 1);color:#B4B9C5;font-size:14px;border-radius:2px;z-index:1}.item-base-tip.svelte-1gq2yw4.svelte-1gq2yw4::before{content:"";position:absolute;top:6px;left:-5px;padding:4px;background-color:inherit;border:inherit;border-right:0;border-bottom:0;transform:rotate(-45deg)}.item-base.svelte-1gq2yw4:hover .item-base-tip.svelte-1gq2yw4{transform:translateX(48px);opacity:0.94}.item-base.svelte-1gq2yw4.svelte-1gq2yw4{position:relative;cursor:pointer;width:38px;height:38px;margin:auto;border:4px solid rgba(46, 48, 55, 1);align-items:center}.item-base-selected.svelte-1gq2yw4.svelte-1gq2yw4{background-color:rgba(0, 0, 0, .4);border-radius:4px}',Object(r.c)(document.head,e)),Object(r.F)(this,t,s,o,r.R,{defaultBg:7,selectedBg:8,lable:0,selected:9,value:1,iconfont:2,currentStatus:3})}}var c=a;function l(t,e,n){const r=t.slice();return r[20]=e[n],r}function u(t){let e,n,i=t[20].childtip+"";return{c(){e=Object(r.u)("div"),n=Object(r.Y)(i),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var o=Object(r.h)(e);n=Object(r.l)(o,i),o.forEach(r.t),this.h()},h(){Object(r.e)(e,"class","delte-child-item svelte-1ecgt1t")},m(t,i){Object(r.G)(t,e,i),Object(r.c)(e,n)},p(t,e){40&e&&i!==(i=t[20].childtip+"")&&Object(r.T)(n,i)},d(t){t&&Object(r.t)(e)}}}function h(t){let e,n,i,o,s,a,c,l=t[20].iconfont+"",h=t[20].lable+"",d=t[20].childtip&&u(t);function p(...e){return t[16](t[20],...e)}return{c(){e=Object(r.u)("div"),n=Object(r.u)("span"),i=Object(r.Y)(h),o=Object(r.V)(),d&&d.c(),s=Object(r.V)(),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var a=Object(r.h)(e);n=Object(r.j)(a,"SPAN",{style:!0,class:!0}),Object(r.h)(n).forEach(r.t),i=Object(r.l)(a,h),o=Object(r.k)(a),d&&d.l(a),s=Object(r.k)(a),a.forEach(r.t),this.h()},h(){Object(r.U)(n,"margin-left","12px"),Object(r.e)(n,"class","icon iconfont delete-icon svelte-1ecgt1t"),Object(r.e)(e,"class",a="item-hover delete-item "+(t[20].childtip&&"delete-child-tip")+" "+(t[20].value===t[4].currentDel?"item-content-selected":"")+" svelte-1ecgt1t")},m(t,a){Object(r.G)(t,e,a),Object(r.c)(e,n),n.innerHTML=l,Object(r.c)(e,i),Object(r.c)(e,o),d&&d.m(e,null),Object(r.c)(e,s),c=Object(r.I)(e,"click",p)},p(o,c){t=o,40&c&&l!==(l=t[20].iconfont+"")&&(n.innerHTML=l),40&c&&h!==(h=t[20].lable+"")&&Object(r.T)(i,h),t[20].childtip?d?d.p(t,c):(d=u(t),d.c(),d.m(e,s)):d&&(d.d(1),d=null),56&c&&a!==(a="item-hover delete-item "+(t[20].childtip&&"delete-child-tip")+" "+(t[20].value===t[4].currentDel?"item-content-selected":"")+" svelte-1ecgt1t")&&Object(r.e)(e,"class",a)},d(t){t&&Object(r.t)(e),d&&d.d(),c()}}}function d(t){let e,n,i,o,s,a,c,u,d,p,f,g,m,v=t[3].filter(t[15]),y=[];for(let e=0;e<v.length;e+=1)y[e]=h(l(t,v,e));return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),i=Object(r.u)("span"),s=Object(r.V)(),a=Object(r.u)("div"),c=Object(r.u)("div"),u=Object(r.u)("span"),d=Object(r.Y)(t[1]),p=Object(r.V)();for(let t=0;t<y.length;t+=1)y[t].c();this.h()},l(o){e=Object(r.j)(o,"DIV",{class:!0});var l=Object(r.h)(e);n=Object(r.j)(l,"DIV",{class:!0});var h=Object(r.h)(n);i=Object(r.j)(h,"SPAN",{class:!0}),Object(r.h)(i).forEach(r.t),h.forEach(r.t),s=Object(r.k)(l),a=Object(r.j)(l,"DIV",{class:!0});var f=Object(r.h)(a);c=Object(r.j)(f,"DIV",{class:!0});var g=Object(r.h)(c);u=Object(r.j)(g,"SPAN",{style:!0});var m=Object(r.h)(u);d=Object(r.l)(m,t[1]),m.forEach(r.t),g.forEach(r.t),p=Object(r.k)(f);for(let t=0;t<y.length;t+=1)y[t].l(f);f.forEach(r.t),l.forEach(r.t),this.h()},h(){Object(r.e)(i,"class",o="icon iconfont  "+(t[2]===t[4].currentTool?"item-icon-selected":"")+" svelte-1ecgt1t"),Object(r.e)(n,"class","icon-item svelte-1ecgt1t"),Object(r.U)(u,"margin-left","12px"),Object(r.e)(c,"class","delete-title svelte-1ecgt1t"),Object(r.e)(a,"class",f="delete-handle-tip item-base-tip "+(t[6]?"d-f":"d-n")+" svelte-1ecgt1t"),Object(r.e)(e,"class",g="item-base "+(t[2]===t[4].currentTool?"item-base-selected":"")+" svelte-1ecgt1t")},m(o,l){Object(r.G)(o,e,l),Object(r.c)(e,n),Object(r.c)(n,i),i.innerHTML=t[0],Object(r.c)(e,s),Object(r.c)(e,a),Object(r.c)(a,c),Object(r.c)(c,u),Object(r.c)(u,d),Object(r.c)(a,p);for(let t=0;t<y.length;t+=1)y[t].m(a,null);m=[Object(r.I)(e,"mouseleave",t[17]),Object(r.I)(e,"mouseenter",t[18]),Object(r.I)(e,"click",t[19])]},p(t,[n]){if(1&n&&(i.innerHTML=t[0]),20&n&&o!==(o="icon iconfont  "+(t[2]===t[4].currentTool?"item-icon-selected":"")+" svelte-1ecgt1t")&&Object(r.e)(i,"class",o),2&n&&Object(r.T)(d,t[1]),312&n){let e;for(v=t[3].filter(t[15]),e=0;e<v.length;e+=1){const r=l(t,v,e);y[e]?y[e].p(r,n):(y[e]=h(r),y[e].c(),y[e].m(a,null))}for(;e<y.length;e+=1)y[e].d(1);y.length=v.length}64&n&&f!==(f="delete-handle-tip item-base-tip "+(t[6]?"d-f":"d-n")+" svelte-1ecgt1t")&&Object(r.e)(a,"class",f),20&n&&g!==(g="item-base "+(t[2]===t[4].currentTool?"item-base-selected":"")+" svelte-1ecgt1t")&&Object(r.e)(e,"class",g)},i:r.K,o:r.K,d(t){t&&Object(r.t)(e),Object(r.s)(y,t),Object(r.Q)(m)}}}function p(t,e,n){const r=Object(i.b)();let{defaultBg:o=""}=e,{selectedBg:s=""}=e,{lable:a=""}=e,{selected:c=!1}=e,{value:l=""}=e,{childContent:u=[]}=e,{iconfont:h=""}=e,{currentStatus:d={}}=e,{hiddenitems:p=""}=e,f=!1,g=null;function m(t){r("message",{name:t})}function v(t,e){t.stopPropagation(),r("message",{name:l,kind:"currentDel",childContentVal:e.value})}function y(t){g&&(clearTimeout(g),g=null),g=setTimeout(()=>{n(6,f=t)},t?0:200)}return t.$set=t=>{"defaultBg"in t&&n(10,o=t.defaultBg),"selectedBg"in t&&n(11,s=t.selectedBg),"lable"in t&&n(1,a=t.lable),"selected"in t&&n(12,c=t.selected),"value"in t&&n(2,l=t.value),"childContent"in t&&n(3,u=t.childContent),"iconfont"in t&&n(0,h=t.iconfont),"currentStatus"in t&&n(4,d=t.currentStatus),"hiddenitems"in t&&n(5,p=t.hiddenitems)},t.$$.update=()=>{if(24&t.$$.dirty)for(let t=0;t<u.length;t++)if(u[t].value===d.currentDel){n(0,h=u[t].iconfont);break}},[h,a,l,u,d,p,f,m,v,y,o,s,c,g,r,t=>!p.split(",").includes(t.value),(t,e)=>v(e,t),()=>y(!1),()=>y(!0),()=>m(l)]}class f extends r.a{constructor(t){var e;super(),document.getElementById("svelte-1ecgt1t-style")||((e=Object(r.u)("style")).id="svelte-1ecgt1t-style",e.textContent='.iconfont.svelte-1ecgt1t.svelte-1ecgt1t{font-family:"iconfont" !important;font-size:22px;font-style:normal;color:#B4B9C5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-item.svelte-1ecgt1t.svelte-1ecgt1t{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.item-icon-selected.svelte-1ecgt1t.svelte-1ecgt1t{color:white!important}.item-base.svelte-1ecgt1t.svelte-1ecgt1t:hover{background-color:rgba(0, 0, 0, .4);border-radius:4px}.item-base.svelte-1ecgt1t:hover .item-base-tip.svelte-1ecgt1t{transform:translateX(48px);opacity:0.94}.item-base-tip.svelte-1ecgt1t.svelte-1ecgt1t{user-select:none;position:absolute;transform:translateX(-100px);opacity:0;transition-property:transform, opacity;transition-duration:.2s;transition-timing-function:ease-out;display:flex;top:8px;align-items:center;justify-content:center;flex-direction:column;background:rgba(46, 48, 55, 1);box-shadow:0px 2px 4px 0px rgba(0, 0, 0, 0.5);border:1px solid rgba(67, 71, 82, 1);color:#B4B9C5;font-size:14px;border-radius:2px;z-index:1}.item-base-tip.svelte-1ecgt1t.svelte-1ecgt1t::before{content:"";position:absolute;top:6px;left:-5px;padding:4px;background-color:inherit;border:inherit;border-right:0;border-bottom:0;transform:rotate(-45deg)}.item-base.svelte-1ecgt1t:hover .item-base-tip.svelte-1ecgt1t{transform:translateX(48px);opacity:0.94}.item-base.svelte-1ecgt1t.svelte-1ecgt1t{position:relative;cursor:pointer;width:38px;height:38px;margin:auto;border:4px solid rgba(46, 48, 55, 1);align-items:center}.item-base-selected.svelte-1ecgt1t.svelte-1ecgt1t{background-color:rgba(0, 0, 0, .4);border-radius:4px}.d-n.svelte-1ecgt1t.svelte-1ecgt1t{display:none}.d-f.svelte-1ecgt1t.svelte-1ecgt1t{display:flex}.item-content-selected.svelte-1ecgt1t.svelte-1ecgt1t{background-color:rgba(0, 0, 0, 0.5)}.delete-handle-tip.svelte-1ecgt1t.svelte-1ecgt1t{transform:translateX(40px);width:208px}.delete-title.svelte-1ecgt1t.svelte-1ecgt1t{height:32px;width:100%;display:flex;align-items:center;cursor:default}.delete-item.svelte-1ecgt1t.svelte-1ecgt1t{height:40px;width:100%;display:flex;align-items:center}.delete-icon.svelte-1ecgt1t.svelte-1ecgt1t{margin:0px 5px 0px 5px}.delete-child-tip.svelte-1ecgt1t.svelte-1ecgt1t{flex-wrap:wrap;height:74px!important}.delte-child-item.svelte-1ecgt1t.svelte-1ecgt1t{height:28px;display:flex;align-items:center;width:160px;font-size:12px;margin-left:40px;color:#737883;margin-top:-20px}',Object(r.c)(document.head,e)),Object(r.F)(this,t,p,d,r.R,{defaultBg:10,selectedBg:11,lable:1,selected:12,value:2,childContent:3,iconfont:0,currentStatus:4,hiddenitems:5})}}var g=f;function m(t){let e;return{c(){e=Object(r.u)("div"),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0}),Object(r.h)(e).forEach(r.t),this.h()},h(){Object(r.e)(e,"class","split-span")},m(t,n){Object(r.G)(t,e,n)},p:r.K,i:r.K,o:r.K,d(t){t&&Object(r.t)(e)}}}class v extends r.a{constructor(t){super(),Object(r.F)(this,t,null,m,r.R,{})}}var y=v;function b(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function w(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function _(t){let e;return{c(){e=Object(r.u)("div"),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0,style:!0}),Object(r.h)(e).forEach(r.t),this.h()},h(){Object(r.e)(e,"class","color-point svelte-dp3f52"),Object(r.U)(e,"background-color",t[5].currentBrushColor)},m(t,n){Object(r.G)(t,e,n)},p(t,n){32&n&&Object(r.U)(e,"background-color",t[5].currentBrushColor)},d(t){t&&Object(r.t)(e)}}}function x(t){let e,n,i,o,s,a;function c(...e){return t[17](t[22],...e)}return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),o=Object(r.V)(),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var i=Object(r.h)(e);n=Object(r.j)(i,"DIV",{class:!0,style:!0}),Object(r.h)(n).forEach(r.t),o=Object(r.k)(i),i.forEach(r.t),this.h()},h(){var o;Object(r.e)(n,"class",i=Object(r.L)(t[22].value===t[5].currentBrushSize?"brush-size-item-selected":"pen-size-child")+" svelte-dp3f52"),Object(r.U)(n,"width",2*t[22].value+"px"),Object(r.U)(n,"height",2*t[22].value+"px"),Object(r.U)(n,"margin-right",2===t[24]?"5px":"0px"),Object(r.e)(e,"class",(o=t[24],s=(0===o?"brush-size-item-0":2===o?"brush-size-item-1":"brush-size-item-left")+" pen-size svelte-dp3f52"))},m(t,i){Object(r.G)(t,e,i),Object(r.c)(e,n),Object(r.c)(e,o),a=Object(r.I)(e,"click",c)},p(e,o){t=e,36&o&&i!==(i=Object(r.L)(t[22].value===t[5].currentBrushSize?"brush-size-item-selected":"pen-size-child")+" svelte-dp3f52")&&Object(r.e)(n,"class",i),4&o&&Object(r.U)(n,"width",2*t[22].value+"px"),4&o&&Object(r.U)(n,"height",2*t[22].value+"px")},d(t){t&&Object(r.t)(e),a()}}}function O(t){let e;return{c(){e=Object(r.u)("div"),this.h()},l(t){e=Object(r.j)(t,"DIV",{style:!0,class:!0}),Object(r.h)(e).forEach(r.t),this.h()},h(){Object(r.U)(e,"background-image","url("+t[6]+")"),Object(r.e)(e,"class","brush-color-item-selected svelte-dp3f52")},m(t,n){Object(r.G)(t,e,n)},p(t,n){64&n&&Object(r.U)(e,"background-image","url("+t[6]+")")},d(t){t&&Object(r.t)(e)}}}function S(t){let e,n,i,o,s,a,c=t[22].value===t[5].currentBrushColor&&O(t);function l(...e){return t[18](t[22],...e)}return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),c&&c.c(),o=Object(r.V)(),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var i=Object(r.h)(e);n=Object(r.j)(i,"DIV",{style:!0,class:!0});var s=Object(r.h)(n);c&&c.l(s),s.forEach(r.t),o=Object(r.k)(i),i.forEach(r.t),this.h()},h(){Object(r.U)(n,"background-color",t[22].value),Object(r.e)(n,"class",i="brush-color-content "+(t[22].value===t[5].currentBrushColor?"brush-color-content-selected":"")+" svelte-dp3f52"),Object(r.e)(e,"class",s=Object(r.L)((t[24],"brush-color-item-0"))+" svelte-dp3f52")},m(t,i){Object(r.G)(t,e,i),Object(r.c)(e,n),c&&c.m(n,null),Object(r.c)(e,o),a=Object(r.I)(e,"click",l)},p(e,o){(t=e)[22].value===t[5].currentBrushColor?c?c.p(t,o):(c=O(t),c.c(),c.m(n,null)):c&&(c.d(1),c=null),8&o&&Object(r.U)(n,"background-color",t[22].value),40&o&&i!==(i="brush-color-content "+(t[22].value===t[5].currentBrushColor?"brush-color-content-selected":"")+" svelte-dp3f52")&&Object(r.e)(n,"class",i)},d(t){t&&Object(r.t)(e),c&&c.d(),a()}}}function j(t){let e,n,i,o,s,a,c,l,u,h,d,p,f,g,m,v,y,O,j,E,T=t[1]===t[5].currentTool&&_(t),P=t[2],C=[];for(let e=0;e<P.length;e+=1)C[e]=x(w(t,P,e));let A=t[3],k=[];for(let e=0;e<A.length;e+=1)k[e]=S(b(t,A,e));return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),i=Object(r.u)("span"),s=Object(r.V)(),T&&T.c(),a=Object(r.V)(),c=Object(r.u)("div"),l=Object(r.u)("div"),u=Object(r.Y)(t[0]),h=Object(r.V)(),d=Object(r.u)("div");for(let t=0;t<C.length;t+=1)C[t].c();p=Object(r.V)(),f=Object(r.u)("div"),g=Object(r.V)(),m=Object(r.u)("div");for(let t=0;t<k.length;t+=1)k[t].c();v=Object(r.V)(),y=Object(r.u)("div"),this.h()},l(o){e=Object(r.j)(o,"DIV",{class:!0});var b=Object(r.h)(e);n=Object(r.j)(b,"DIV",{class:!0});var w=Object(r.h)(n);i=Object(r.j)(w,"SPAN",{class:!0}),Object(r.h)(i).forEach(r.t),w.forEach(r.t),s=Object(r.k)(b),T&&T.l(b),a=Object(r.k)(b),c=Object(r.j)(b,"DIV",{class:!0});var _=Object(r.h)(c);l=Object(r.j)(_,"DIV",{class:!0});var x=Object(r.h)(l);u=Object(r.l)(x,t[0]),x.forEach(r.t),h=Object(r.k)(_),d=Object(r.j)(_,"DIV",{class:!0});var O=Object(r.h)(d);for(let t=0;t<C.length;t+=1)C[t].l(O);O.forEach(r.t),p=Object(r.k)(_),f=Object(r.j)(_,"DIV",{class:!0}),Object(r.h)(f).forEach(r.t),g=Object(r.k)(_),m=Object(r.j)(_,"DIV",{class:!0});var S=Object(r.h)(m);for(let t=0;t<k.length;t+=1)k[t].l(S);S.forEach(r.t),v=Object(r.k)(_),y=Object(r.j)(_,"DIV",{class:!0}),Object(r.h)(y).forEach(r.t),_.forEach(r.t),b.forEach(r.t),this.h()},h(){Object(r.e)(i,"class",o="icon iconfont "+(t[1]===t[5].currentTool?"item-icon-selected":"")+" svelte-dp3f52"),Object(r.e)(n,"class","icon-item svelte-dp3f52"),Object(r.e)(l,"class","brush-title svelte-dp3f52"),Object(r.e)(d,"class","brush-sizes svelte-dp3f52"),Object(r.e)(f,"class","brush-line svelte-dp3f52"),Object(r.e)(m,"class","brush-colors svelte-dp3f52"),Object(r.e)(y,"class","text-read-tip svelte-dp3f52"),Object(r.e)(c,"class",O="brush-handle-tip item-base-tip "+(t[7]?"d-f":"d-n")+" svelte-dp3f52"),Object(r.e)(e,"class",j="item-base "+(t[5].currentTool===t[1]?"item-base-selected":"")+" svelte-dp3f52")},m(o,b){Object(r.G)(o,e,b),Object(r.c)(e,n),Object(r.c)(n,i),i.innerHTML=t[4],Object(r.c)(e,s),T&&T.m(e,null),Object(r.c)(e,a),Object(r.c)(e,c),Object(r.c)(c,l),Object(r.c)(l,u),Object(r.c)(c,h),Object(r.c)(c,d);for(let t=0;t<C.length;t+=1)C[t].m(d,null);Object(r.c)(c,p),Object(r.c)(c,f),Object(r.c)(c,g),Object(r.c)(c,m);for(let t=0;t<k.length;t+=1)k[t].m(m,null);Object(r.c)(c,v),Object(r.c)(c,y),E=[Object(r.I)(e,"mouseleave",t[19]),Object(r.I)(e,"mouseenter",t[20]),Object(r.I)(e,"click",t[21])]},p(t,[n]){if(16&n&&(i.innerHTML=t[4]),34&n&&o!==(o="icon iconfont "+(t[1]===t[5].currentTool?"item-icon-selected":"")+" svelte-dp3f52")&&Object(r.e)(i,"class",o),t[1]===t[5].currentTool?T?T.p(t,n):(T=_(t),T.c(),T.m(e,a)):T&&(T.d(1),T=null),1&n&&Object(r.T)(u,t[0]),548&n){let e;for(P=t[2],e=0;e<P.length;e+=1){const r=w(t,P,e);C[e]?C[e].p(r,n):(C[e]=x(r),C[e].c(),C[e].m(d,null))}for(;e<C.length;e+=1)C[e].d(1);C.length=P.length}if(1128&n){let e;for(A=t[3],e=0;e<A.length;e+=1){const r=b(t,A,e);k[e]?k[e].p(r,n):(k[e]=S(r),k[e].c(),k[e].m(m,null))}for(;e<k.length;e+=1)k[e].d(1);k.length=A.length}128&n&&O!==(O="brush-handle-tip item-base-tip "+(t[7]?"d-f":"d-n")+" svelte-dp3f52")&&Object(r.e)(c,"class",O),34&n&&j!==(j="item-base "+(t[5].currentTool===t[1]?"item-base-selected":"")+" svelte-dp3f52")&&Object(r.e)(e,"class",j)},i:r.K,o:r.K,d(t){t&&Object(r.t)(e),T&&T.d(),Object(r.s)(C,t),Object(r.s)(k,t),Object(r.Q)(E)}}}function E(t,e,n){const r=Object(i.b)();let{defaultBg:o=""}=e,{selectedBg:s=""}=e,{lable:a=""}=e,{selected:c=!1}=e,{value:l=""}=e,{sizeContent:u=[]}=e,{colorContent:h=[]}=e,{iconfont:d=""}=e,{currentStatus:p={}}=e,{iconselect:f=""}=e,g=!1,m=null;function v(t){r("message",{name:t})}function y(t,e){t.stopPropagation(),r("message",{name:l,childContentVal:e.value,kind:"currentBrushSize"})}function b(t,e){t.stopPropagation(),r("message",{name:l,childContentVal:e.value,kind:"currentBrushColor"})}function w(t){m&&(clearTimeout(m),m=null),m=setTimeout(()=>{n(7,g=t)},t?0:200)}return t.$set=t=>{"defaultBg"in t&&n(12,o=t.defaultBg),"selectedBg"in t&&n(13,s=t.selectedBg),"lable"in t&&n(0,a=t.lable),"selected"in t&&n(14,c=t.selected),"value"in t&&n(1,l=t.value),"sizeContent"in t&&n(2,u=t.sizeContent),"colorContent"in t&&n(3,h=t.colorContent),"iconfont"in t&&n(4,d=t.iconfont),"currentStatus"in t&&n(5,p=t.currentStatus),"iconselect"in t&&n(6,f=t.iconselect)},[a,l,u,h,d,p,f,g,v,y,b,w,o,s,c,m,r,(t,e)=>y(e,t),(t,e)=>b(e,t),()=>w(!1),()=>w(!0),()=>v(l)]}class T extends r.a{constructor(t){var e;super(),document.getElementById("svelte-dp3f52-style")||((e=Object(r.u)("style")).id="svelte-dp3f52-style",e.textContent='.iconfont.svelte-dp3f52.svelte-dp3f52{font-family:"iconfont" !important;font-size:22px;font-style:normal;color:#B4B9C5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-item.svelte-dp3f52.svelte-dp3f52{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.item-icon-selected.svelte-dp3f52.svelte-dp3f52{color:white!important}.text-read-tip.svelte-dp3f52.svelte-dp3f52{font-size:12px;font-weight:400;color:#737883;line-height:17px;align-self:flex-start}.brush-color-item-selected.svelte-dp3f52.svelte-dp3f52{width:8px;height:8px;background-position:center;background-repeat:no-repeat;background-size:contain;position:absolute;right:-4px;bottom:-4px}.brush-color-content.svelte-dp3f52.svelte-dp3f52{width:16px;height:16px;border-radius:1px;position:relative}.brush-color-content-selected.svelte-dp3f52.svelte-dp3f52{border:1px solid rgba(255,255,255,1)}.brush-colors.svelte-dp3f52.svelte-dp3f52{width:100%;display:flex;align-items:center}.brush-line.svelte-dp3f52.svelte-dp3f52{width:100%;height:1px;background-color:#191A1E;box-shadow:0px 1px 0px 0px rgba(255,255,255,0.1)}.brush-sizes.svelte-dp3f52.svelte-dp3f52{width:100%;display:flex;height:40px;align-items:center}.brush-size-item-0.svelte-dp3f52.svelte-dp3f52{justify-content:flex-start}.brush-size-item-1.svelte-dp3f52.svelte-dp3f52{justify-content:flex-end}.brush-size-item-left.svelte-dp3f52.svelte-dp3f52{justify-content:center}.brush-size-item-selected.svelte-dp3f52.svelte-dp3f52{background-color:#EF4C4F;border-radius:50%}.pen-size-child.svelte-dp3f52.svelte-dp3f52{border-radius:50%;background-color:white}.pen-size.svelte-dp3f52.svelte-dp3f52{width:20px;height:20px;display:flex;align-items:center}.brush-color-item-0.svelte-dp3f52.svelte-dp3f52{width:29.3px;display:flex;height:38px;align-items:center;justify-content:flex-start}.brush-title.svelte-dp3f52.svelte-dp3f52{width:100%;cursor:default}.brush-handle-tip.svelte-dp3f52.svelte-dp3f52{transform:translateX(40px) translateY(-50px);width:226px;padding:6px 12px 12px 12px}.brush-handle-tip.svelte-dp3f52.svelte-dp3f52::before{top:55px}.item-base.svelte-dp3f52:hover .brush-handle-tip.svelte-dp3f52{transform:translateX(48px) translateY(-50px)}.item-base-selected.svelte-dp3f52.svelte-dp3f52{background-color:rgba(0, 0, 0, .4);border-radius:4px}.item-base.svelte-dp3f52.svelte-dp3f52:hover{background-color:rgba(0, 0, 0, .4);border-radius:4px}.item-base.svelte-dp3f52:hover .item-base-tip.svelte-dp3f52{transform:translateX(48px);opacity:0.94}.item-base.svelte-dp3f52.svelte-dp3f52{position:relative;cursor:pointer;width:38px;height:38px;margin:auto;border:4px solid rgba(46, 48, 55, 1);align-items:center}.item-base-tip.svelte-dp3f52.svelte-dp3f52{user-select:none;position:absolute;transform:translateX(-100px);opacity:0;transition-property:transform, opacity;transition-duration:.2s;transition-timing-function:ease-out;display:flex;top:8px;align-items:center;justify-content:center;flex-direction:column;background:rgba(46, 48, 55, 1);box-shadow:0px 2px 4px 0px rgba(0, 0, 0, 0.5);border:1px solid rgba(67, 71, 82, 1);color:#B4B9C5;font-size:14px;border-radius:2px;z-index:1}.d-n.svelte-dp3f52.svelte-dp3f52{display:none}.d-f.svelte-dp3f52.svelte-dp3f52{display:flex}.color-point.svelte-dp3f52.svelte-dp3f52{position:absolute;bottom:3px;right:3px;width:6px;height:6px}',Object(r.c)(document.head,e)),Object(r.F)(this,t,E,j,r.R,{defaultBg:12,selectedBg:13,lable:0,selected:14,value:1,sizeContent:2,colorContent:3,iconfont:4,currentStatus:5,iconselect:6})}}var P=T;function C(t){let e,n,i,o,s,a,c,l,u;return{c(){e=Object(r.X)("svg"),n=Object(r.X)("title"),i=Object(r.Y)("weixuan_icon"),o=Object(r.X)("desc"),s=Object(r.Y)("Created with Sketch."),a=Object(r.X)("g"),c=Object(r.X)("g"),l=Object(r.X)("rect"),u=Object(r.X)("polyline"),this.h()},l(t){e=Object(r.j)(t,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,version:!0},1);var h=Object(r.h)(e);n=Object(r.j)(h,"title",{},1);var d=Object(r.h)(n);i=Object(r.l)(d,"weixuan_icon"),d.forEach(r.t),o=Object(r.j)(h,"desc",{},1);var p=Object(r.h)(o);s=Object(r.l)(p,"Created with Sketch."),p.forEach(r.t),a=Object(r.j)(h,"g",{id:!0,stroke:!0,"stroke-width":!0,fill:!0,"fill-rule":!0},1);var f=Object(r.h)(a);c=Object(r.j)(f,"g",{fill:!0,id:!0,stroke:!0},1);var g=Object(r.h)(c);l=Object(r.j)(g,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0},1),Object(r.h)(l).forEach(r.t),g.forEach(r.t),u=Object(r.j)(f,"polyline",{xmlns:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,points:!0},1),Object(r.h)(u).forEach(r.t),f.forEach(r.t),h.forEach(r.t),this.h()},h(){Object(r.e)(l,"x","0.5"),Object(r.e)(l,"y","0.5"),Object(r.e)(l,"width","11"),Object(r.e)(l,"height","11"),Object(r.e)(l,"rx","2"),Object(r.e)(c,"fill","#EF4C4F"),Object(r.e)(c,"id","Rectangle-10-Copy-3"),Object(r.e)(c,"stroke","#EF4C4F"),Object(r.e)(u,"xmlns","http://www.w3.org/2000/svg"),Object(r.e)(u,"stroke","#FFFFFF"),Object(r.e)(u,"stroke-width","1.2"),Object(r.e)(u,"stroke-linecap","round"),Object(r.e)(u,"stroke-linejoin","round"),Object(r.e)(u,"points","2.76274227 5.95205802 4.99886871 8 9 3.53945855"),Object(r.e)(a,"id","weixuan_icon"),Object(r.e)(a,"stroke","none"),Object(r.e)(a,"stroke-width","1"),Object(r.e)(a,"fill","none"),Object(r.e)(a,"fill-rule","evenodd"),Object(r.e)(e,"xmlns","http://www.w3.org/2000/svg"),Object(r.e)(e,"width","12px"),Object(r.e)(e,"height","12px"),Object(r.e)(e,"viewBox","0 0 12 12"),Object(r.e)(e,"version","1.1")},m(t,h){Object(r.G)(t,e,h),Object(r.c)(e,n),Object(r.c)(n,i),Object(r.c)(e,o),Object(r.c)(o,s),Object(r.c)(e,a),Object(r.c)(a,c),Object(r.c)(c,l),Object(r.c)(a,u)},p:r.K,i:r.K,o:r.K,d(t){t&&Object(r.t)(e)}}}function A(t,e,n){let{width:r}=e,{height:i}=e;return t.$set=t=>{"width"in t&&n(0,r=t.width),"height"in t&&n(1,i=t.height)},[r,i]}class k extends r.a{constructor(t){super(),Object(r.F)(this,t,A,C,r.R,{width:0,height:1})}}var D=k;function I(t,e,n){const r=t.slice();return r[23]=e[n],r[25]=n,r}function M(t,e,n){const r=t.slice();return r[23]=e[n],r[25]=n,r}function R(t){let e;return{c(){e=Object(r.u)("div"),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0,style:!0}),Object(r.h)(e).forEach(r.t),this.h()},h(){Object(r.e)(e,"class","color-point svelte-1fb2w94"),Object(r.U)(e,"background-color",t[5].currentPolygonColor)},m(t,n){Object(r.G)(t,e,n)},p(t,n){32&n&&Object(r.U)(e,"background-color",t[5].currentPolygonColor)},d(t){t&&Object(r.t)(e)}}}function L(t){let e,n,i,o,s;function a(...e){return t[18](t[23],...e)}return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),this.h()},l(t){e=Object(r.j)(t,"DIV",{style:!0,class:!0});var i=Object(r.h)(e);n=Object(r.j)(i,"DIV",{class:!0,style:!0}),Object(r.h)(n).forEach(r.t),i.forEach(r.t),this.h()},h(){Object(r.e)(n,"class",i=Object(r.L)(t[23].value===t[5].currentPolygonSize?"brush-size-item-selected":"pen-size-child")+" svelte-1fb2w94"),Object(r.U)(n,"width",2*t[23].value+"px"),Object(r.U)(n,"height",2*t[23].value+"px"),Object(r.U)(e,"margin-right","9px"),Object(r.e)(e,"class",(t[25],o="brush-size-item-0 pen-size svelte-1fb2w94"))},m(t,i){Object(r.G)(t,e,i),Object(r.c)(e,n),s=Object(r.I)(e,"click",a)},p(e,o){t=e,36&o&&i!==(i=Object(r.L)(t[23].value===t[5].currentPolygonSize?"brush-size-item-selected":"pen-size-child")+" svelte-1fb2w94")&&Object(r.e)(n,"class",i),4&o&&Object(r.U)(n,"width",2*t[23].value+"px"),4&o&&Object(r.U)(n,"height",2*t[23].value+"px")},d(t){t&&Object(r.t)(e),s()}}}function N(t){let e;const n=new D({});return{c(){Object(r.o)(n.$$.fragment)},l(t){Object(r.i)(n.$$.fragment,t)},m(t,i){Object(r.J)(n,t,i),e=!0},i(t){e||(Object(r.Z)(n.$$.fragment,t),e=!0)},o(t){Object(r.ab)(n.$$.fragment,t),e=!1},d(t){Object(r.r)(n,t)}}}function F(t){let e;return{c(){e=Object(r.u)("div"),this.h()},l(t){e=Object(r.j)(t,"DIV",{style:!0,class:!0}),Object(r.h)(e).forEach(r.t),this.h()},h(){Object(r.U)(e,"background-image","url("+t[6]+")"),Object(r.e)(e,"class","brush-color-item-selected svelte-1fb2w94")},m(t,n){Object(r.G)(t,e,n)},p(t,n){64&n&&Object(r.U)(e,"background-image","url("+t[6]+")")},d(t){t&&Object(r.t)(e)}}}function B(t){let e,n,i,o,s,a,c=t[23].value===t[5].currentPolygonColor&&F(t);function l(...e){return t[19](t[23],...e)}return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),c&&c.c(),o=Object(r.V)(),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var i=Object(r.h)(e);n=Object(r.j)(i,"DIV",{style:!0,class:!0});var s=Object(r.h)(n);c&&c.l(s),s.forEach(r.t),o=Object(r.k)(i),i.forEach(r.t),this.h()},h(){Object(r.U)(n,"background-color",t[23].value),Object(r.e)(n,"class",i="brush-color-content "+(t[23].value===t[5].currentPolygonColor?"brush-color-content-selected":"")+" svelte-1fb2w94"),Object(r.e)(e,"class",s=Object(r.L)((t[25],"brush-color-item-0"))+" svelte-1fb2w94")},m(t,i){Object(r.G)(t,e,i),Object(r.c)(e,n),c&&c.m(n,null),Object(r.c)(e,o),a=Object(r.I)(e,"click",l)},p(e,o){(t=e)[23].value===t[5].currentPolygonColor?c?c.p(t,o):(c=F(t),c.c(),c.m(n,null)):c&&(c.d(1),c=null),8&o&&Object(r.U)(n,"background-color",t[23].value),40&o&&i!==(i="brush-color-content "+(t[23].value===t[5].currentPolygonColor?"brush-color-content-selected":"")+" svelte-1fb2w94")&&Object(r.e)(n,"class",i)},d(t){t&&Object(r.t)(e),c&&c.d(),a()}}}function U(t){let e,n,i,o,s,a,c,l,u,h,d,p,f,g,m,v,y,b,w,_,x,O,S,j,E,T,P,C,A,k=t[1]===t[5].currentTool&&R(t),D=t[2],F=[];for(let e=0;e<D.length;e+=1)F[e]=L(M(t,D,e));let U=t[5].currentPolygonPoiShow&&N(),z=t[3],X=[];for(let e=0;e<z.length;e+=1)X[e]=B(I(t,z,e));return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),i=Object(r.u)("span"),s=Object(r.V)(),k&&k.c(),a=Object(r.V)(),c=Object(r.u)("div"),l=Object(r.u)("div"),u=Object(r.Y)(t[0]),h=Object(r.V)(),d=Object(r.u)("div"),p=Object(r.u)("div");for(let t=0;t<F.length;t+=1)F[t].c();f=Object(r.V)(),g=Object(r.u)("div"),m=Object(r.V)(),v=Object(r.u)("div"),y=Object(r.u)("div"),U&&U.c(),w=Object(r.V)(),_=Object(r.u)("div"),x=Object(r.Y)(""),O=Object(r.V)(),S=Object(r.u)("div"),j=Object(r.V)(),E=Object(r.u)("div");for(let t=0;t<X.length;t+=1)X[t].c();this.h()},l(o){e=Object(r.j)(o,"DIV",{class:!0});var b=Object(r.h)(e);n=Object(r.j)(b,"DIV",{class:!0});var T=Object(r.h)(n);i=Object(r.j)(T,"SPAN",{class:!0}),Object(r.h)(i).forEach(r.t),T.forEach(r.t),s=Object(r.k)(b),k&&k.l(b),a=Object(r.k)(b),c=Object(r.j)(b,"DIV",{class:!0});var P=Object(r.h)(c);l=Object(r.j)(P,"DIV",{class:!0});var C=Object(r.h)(l);u=Object(r.l)(C,t[0]),C.forEach(r.t),h=Object(r.k)(P),d=Object(r.j)(P,"DIV",{class:!0});var A=Object(r.h)(d);p=Object(r.j)(A,"DIV",{class:!0});var D=Object(r.h)(p);for(let t=0;t<F.length;t+=1)F[t].l(D);f=Object(r.k)(D),g=Object(r.j)(D,"DIV",{class:!0,style:!0}),Object(r.h)(g).forEach(r.t),m=Object(r.k)(D),v=Object(r.j)(D,"DIV",{class:!0});var I=Object(r.h)(v);y=Object(r.j)(I,"DIV",{class:!0});var M=Object(r.h)(y);U&&U.l(M),M.forEach(r.t),w=Object(r.k)(I),_=Object(r.j)(I,"DIV",{});var R=Object(r.h)(_);x=Object(r.l)(R,""),R.forEach(r.t),I.forEach(r.t),D.forEach(r.t),A.forEach(r.t),O=Object(r.k)(P),S=Object(r.j)(P,"DIV",{class:!0}),Object(r.h)(S).forEach(r.t),j=Object(r.k)(P),E=Object(r.j)(P,"DIV",{class:!0});var L=Object(r.h)(E);for(let t=0;t<X.length;t+=1)X[t].l(L);L.forEach(r.t),P.forEach(r.t),b.forEach(r.t),this.h()},h(){Object(r.e)(i,"class",o="icon iconfont  "+(t[1]===t[5].currentTool?"item-icon-selected":"")+" svelte-1fb2w94"),Object(r.e)(n,"class","icon-item svelte-1fb2w94"),Object(r.e)(l,"class","brush-title svelte-1fb2w94"),Object(r.e)(g,"class","shape-column-split svelte-1fb2w94"),Object(r.U)(g,"margin-right","19px"),Object(r.e)(y,"class",b="choose-edit-control "+(t[5].currentPolygonPoiShow?"choose-edit-control-selected":"")+" svelte-1fb2w94"),Object(r.e)(v,"class","choose-edit-poi svelte-1fb2w94"),Object(r.e)(p,"class","shape-size-kind svelte-1fb2w94"),Object(r.e)(d,"class","brush-sizes svelte-1fb2w94"),Object(r.e)(S,"class","brush-line"),Object(r.e)(E,"class","brush-colors svelte-1fb2w94"),Object(r.e)(c,"class",T="polygon-handle-tip item-base-tip "+(t[7]?"d-f":"d-n")+" svelte-1fb2w94"),Object(r.e)(e,"class",P="item-base "+(t[5].currentTool===t[1]?"item-base-selected":"")+" svelte-1fb2w94")},m(o,b){Object(r.G)(o,e,b),Object(r.c)(e,n),Object(r.c)(n,i),i.innerHTML=t[4],Object(r.c)(e,s),k&&k.m(e,null),Object(r.c)(e,a),Object(r.c)(e,c),Object(r.c)(c,l),Object(r.c)(l,u),Object(r.c)(c,h),Object(r.c)(c,d),Object(r.c)(d,p);for(let t=0;t<F.length;t+=1)F[t].m(p,null);Object(r.c)(p,f),Object(r.c)(p,g),Object(r.c)(p,m),Object(r.c)(p,v),Object(r.c)(v,y),U&&U.m(y,null),Object(r.c)(v,w),Object(r.c)(v,_),Object(r.c)(_,x),Object(r.c)(c,O),Object(r.c)(c,S),Object(r.c)(c,j),Object(r.c)(c,E);for(let t=0;t<X.length;t+=1)X[t].m(E,null);C=!0,A=[Object(r.I)(v,"click",t[11]),Object(r.I)(e,"mouseleave",t[20]),Object(r.I)(e,"mouseenter",t[21]),Object(r.I)(e,"click",t[22])]},p(t,[n]){if((!C||16&n)&&(i.innerHTML=t[4]),(!C||34&n&&o!==(o="icon iconfont  "+(t[1]===t[5].currentTool?"item-icon-selected":"")+" svelte-1fb2w94"))&&Object(r.e)(i,"class",o),t[1]===t[5].currentTool?k?k.p(t,n):(k=R(t),k.c(),k.m(e,a)):k&&(k.d(1),k=null),(!C||1&n)&&Object(r.T)(u,t[0]),548&n){let e;for(D=t[2],e=0;e<D.length;e+=1){const r=M(t,D,e);F[e]?F[e].p(r,n):(F[e]=L(r),F[e].c(),F[e].m(p,f))}for(;e<F.length;e+=1)F[e].d(1);F.length=D.length}if(t[5].currentPolygonPoiShow?U?Object(r.Z)(U,1):(U=N(),U.c(),Object(r.Z)(U,1),U.m(y,null)):U&&(Object(r.D)(),Object(r.ab)(U,1,1,()=>{U=null}),Object(r.g)()),(!C||32&n&&b!==(b="choose-edit-control "+(t[5].currentPolygonPoiShow?"choose-edit-control-selected":"")+" svelte-1fb2w94"))&&Object(r.e)(y,"class",b),1128&n){let e;for(z=t[3],e=0;e<z.length;e+=1){const r=I(t,z,e);X[e]?X[e].p(r,n):(X[e]=B(r),X[e].c(),X[e].m(E,null))}for(;e<X.length;e+=1)X[e].d(1);X.length=z.length}(!C||128&n&&T!==(T="polygon-handle-tip item-base-tip "+(t[7]?"d-f":"d-n")+" svelte-1fb2w94"))&&Object(r.e)(c,"class",T),(!C||34&n&&P!==(P="item-base "+(t[5].currentTool===t[1]?"item-base-selected":"")+" svelte-1fb2w94"))&&Object(r.e)(e,"class",P)},i(t){C||(Object(r.Z)(U),C=!0)},o(t){Object(r.ab)(U),C=!1},d(t){t&&Object(r.t)(e),k&&k.d(),Object(r.s)(F,t),U&&U.d(),Object(r.s)(X,t),Object(r.Q)(A)}}}function z(t,e,n){const r=Object(i.b)();let{defaultBg:o=""}=e,{selectedBg:s=""}=e,{lable:a=""}=e,{selected:c=!1}=e,{value:l=""}=e,{sizeContent:u=[]}=e,{colorContent:h=[]}=e,{iconfont:d=""}=e,{currentStatus:p={}}=e,{iconselect:f=""}=e,g=!1,m=null;function v(t){r("message",{name:t})}function y(t,e){t.stopPropagation(),r("message",{name:l,childContentVal:e.value,kind:"currentPolygonSize"})}function b(t,e){t.stopPropagation(),r("message",{name:l,childContentVal:e.value,kind:"currentPolygonColor"})}function w(t){m&&(clearTimeout(m),m=null),m=setTimeout(()=>{n(7,g=t)},t?0:200)}return t.$set=t=>{"defaultBg"in t&&n(13,o=t.defaultBg),"selectedBg"in t&&n(14,s=t.selectedBg),"lable"in t&&n(0,a=t.lable),"selected"in t&&n(15,c=t.selected),"value"in t&&n(1,l=t.value),"sizeContent"in t&&n(2,u=t.sizeContent),"colorContent"in t&&n(3,h=t.colorContent),"iconfont"in t&&n(4,d=t.iconfont),"currentStatus"in t&&n(5,p=t.currentStatus),"iconselect"in t&&n(6,f=t.iconselect)},[a,l,u,h,d,p,f,g,v,y,b,function(t){t.stopPropagation(),r("message",{name:l,childContentVal:!p.currentPolygonPoiShow,kind:"currentPolygonPoiShow"})},w,o,s,c,m,r,(t,e)=>y(e,t),(t,e)=>b(e,t),()=>w(!1),()=>w(!0),()=>v(l)]}class X extends r.a{constructor(t){var e;super(),document.getElementById("svelte-1fb2w94-style")||((e=Object(r.u)("style")).id="svelte-1fb2w94-style",e.textContent='.iconfont.svelte-1fb2w94.svelte-1fb2w94{font-family:"iconfont" !important;font-size:22px;font-style:normal;color:#B4B9C5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-item.svelte-1fb2w94.svelte-1fb2w94{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.item-icon-selected.svelte-1fb2w94.svelte-1fb2w94{color:white!important}.item-base.svelte-1fb2w94.svelte-1fb2w94:hover{background-color:rgba(0, 0, 0, .4);border-radius:4px}.item-base.svelte-1fb2w94:hover .item-base-tip.svelte-1fb2w94{transform:translateX(48px);opacity:0.94}.item-base-tip.svelte-1fb2w94.svelte-1fb2w94{user-select:none;position:absolute;transform:translateX(-100px);opacity:0;transition-property:transform, opacity;transition-duration:.2s;transition-timing-function:ease-out;display:flex;top:8px;align-items:center;justify-content:center;flex-direction:column;background:rgba(46, 48, 55, 1);box-shadow:0px 2px 4px 0px rgba(0, 0, 0, 0.5);border:1px solid rgba(67, 71, 82, 1);color:#B4B9C5;font-size:14px;border-radius:2px;z-index:1}.item-base-tip.svelte-1fb2w94.svelte-1fb2w94::before{content:"";position:absolute;top:6px;left:-5px;padding:4px;background-color:inherit;border:inherit;border-right:0;border-bottom:0;transform:rotate(-45deg)}.item-base.svelte-1fb2w94:hover .item-base-tip.svelte-1fb2w94{transform:translateX(48px);opacity:0.94}.item-base.svelte-1fb2w94.svelte-1fb2w94{position:relative;cursor:pointer;width:38px;height:38px;margin:auto;border:4px solid rgba(46, 48, 55, 1);align-items:center}.item-base-selected.svelte-1fb2w94.svelte-1fb2w94{background-color:rgba(0, 0, 0, .4);border-radius:4px}.d-n.svelte-1fb2w94.svelte-1fb2w94{display:none}.d-f.svelte-1fb2w94.svelte-1fb2w94{display:flex}.brush-title.svelte-1fb2w94.svelte-1fb2w94{width:100%;cursor:default}.brush-sizes.svelte-1fb2w94.svelte-1fb2w94{width:100%;display:flex;height:40px;align-items:center}.polygon-handle-tip.svelte-1fb2w94.svelte-1fb2w94{transform:translateX(40px) translateY(-50px);width:226px;padding:6px 12px 12px 12px}.brush-size-item-selected.svelte-1fb2w94.svelte-1fb2w94{background-color:#EF4C4F;border-radius:50%}.polygon-handle-tip.svelte-1fb2w94.svelte-1fb2w94::before{top:55px}.item-base.svelte-1fb2w94:hover .polygon-handle-tip.svelte-1fb2w94{transform:translateX(48px) translateY(-50px)}.shape-size-kind-item.svelte-1fb2w94.svelte-1fb2w94{display:flex;align-items:center;margin-right:20px}.shape-size-kind.svelte-1fb2w94.svelte-1fb2w94{display:flex;width:100%}.brush-size-item-0.svelte-1fb2w94.svelte-1fb2w94{justify-content:flex-start}.brush-color-item-0.svelte-1fb2w94.svelte-1fb2w94{width:29.3px;display:flex;height:38px;align-items:center;justify-content:flex-start}.color-point.svelte-1fb2w94.svelte-1fb2w94{position:absolute;bottom:3px;right:3px;width:6px;height:6px}.brush-color-item-selected.svelte-1fb2w94.svelte-1fb2w94{width:8px;height:8px;background-position:center;background-repeat:no-repeat;background-size:contain;position:absolute;right:-4px;bottom:-4px}.brush-color-content.svelte-1fb2w94.svelte-1fb2w94{width:16px;height:16px;border-radius:1px;position:relative}.brush-color-content-selected.svelte-1fb2w94.svelte-1fb2w94{border:1px solid rgba(255,255,255,1)}.brush-colors.svelte-1fb2w94.svelte-1fb2w94{width:100%;display:flex;align-items:center}.choose-edit-control.svelte-1fb2w94.svelte-1fb2w94{width:12px;height:12px;border-radius:2px;margin-right:6px;border:1px solid rgba(255,255,255,0.3)}.choose-edit-control-selected.svelte-1fb2w94.svelte-1fb2w94{background:rgba(239,76,79,1);border-radius:2px;color:white;align-items:center;justify-content:center;font-weight:900;display:flex}.choose-edit-poi.svelte-1fb2w94.svelte-1fb2w94{font-size:12px;font-weight:400;color:rgba(180,185,197,1);line-height:16px;display:flex;align-items:center}.shape-column-split.svelte-1fb2w94.svelte-1fb2w94{width:1px;height:16px;background-color:rgba(255, 255, 255, .2);align-self:center;display:flex;margin:0px 30px 0px 0px}.pen-size-child.svelte-1fb2w94.svelte-1fb2w94{border-radius:50%;background-color:white}.pen-size.svelte-1fb2w94.svelte-1fb2w94{width:20px;height:20px;display:flex;align-items:center}',Object(r.c)(document.head,e)),Object(r.F)(this,t,z,U,r.R,{defaultBg:13,selectedBg:14,lable:0,selected:15,value:1,sizeContent:2,colorContent:3,iconfont:4,currentStatus:5,iconselect:6})}}var Y=X;function G(t,e,n){const r=t.slice();return r[31]=e[n],r[33]=n,r}function V(t,e,n){const r=t.slice();return r[31]=e[n],r[33]=n,r}function H(t,e,n){const r=t.slice();return r[35]=e[n],r}function W(t,e,n){const r=t.slice();return r[38]=e[n],r}function q(t){let e;return{c(){e=Object(r.u)("div"),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0,style:!0}),Object(r.h)(e).forEach(r.t),this.h()},h(){Object(r.e)(e,"class","color-point svelte-1jgn9a8"),Object(r.U)(e,"background-color",t[3].currentShapeColor)},m(t,n){Object(r.G)(t,e,n)},p(t,n){8&n[0]&&Object(r.U)(e,"background-color",t[3].currentShapeColor)},d(t){t&&Object(r.t)(e)}}}function K(t){let e,n,i,o,s,a,c,l,u,h=t[38].iconfont+"",d=t[38].name+"";function p(...e){return t[24](t[38],...e)}return{c(){e=Object(r.u)("div"),n=Object(r.u)("span"),o=Object(r.V)(),s=Object(r.u)("span"),a=Object(r.Y)(d),c=Object(r.V)(),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0,style:!0});var i=Object(r.h)(e);n=Object(r.j)(i,"SPAN",{class:!0,style:!0}),Object(r.h)(n).forEach(r.t),o=Object(r.k)(i),s=Object(r.j)(i,"SPAN",{style:!0});var l=Object(r.h)(s);a=Object(r.l)(l,d),l.forEach(r.t),c=Object(r.k)(i),i.forEach(r.t),this.h()},h(){Object(r.e)(n,"class","icon iconfont svelte-1jgn9a8"),Object(r.e)(n,"style",i=t[38].value===t[3].currentShape?`color:${t[3].currentShapeColor}`:""),Object(r.U)(s,"margin-left","4px"),Object(r.e)(e,"class","shape-item svelte-1jgn9a8"),Object(r.e)(e,"style",l=t[38].value===t[3].currentShape?`color:${t[3].currentShapeColor}`:"")},m(t,i){Object(r.G)(t,e,i),Object(r.c)(e,n),n.innerHTML=h,Object(r.c)(e,o),Object(r.c)(e,s),Object(r.c)(s,a),Object(r.c)(e,c),u=Object(r.I)(e,"click",p)},p(o,s){t=o,16&s[0]&&h!==(h=t[38].iconfont+"")&&(n.innerHTML=h),24&s[0]&&i!==(i=t[38].value===t[3].currentShape?`color:${t[3].currentShapeColor}`:"")&&Object(r.e)(n,"style",i),16&s[0]&&d!==(d=t[38].name+"")&&Object(r.T)(a,d),24&s[0]&&l!==(l=t[38].value===t[3].currentShape?`color:${t[3].currentShapeColor}`:"")&&Object(r.e)(e,"style",l)},d(t){t&&Object(r.t)(e),u()}}}function $(t){let e,n,i=t[5],o=[];for(let e=0;e<i.length;e+=1)o[e]=J(H(t,i,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=Object(r.V)(),n=Object(r.u)("div"),this.h()},l(t){for(let e=0;e<o.length;e+=1)o[e].l(t);e=Object(r.k)(t),n=Object(r.j)(t,"DIV",{class:!0}),Object(r.h)(n).forEach(r.t),this.h()},h(){Object(r.e)(n,"class","shape-column-split svelte-1jgn9a8")},m(t,i){for(let e=0;e<o.length;e+=1)o[e].m(t,i);Object(r.G)(t,e,i),Object(r.G)(t,n,i)},p(t,n){if(16424&n[0]){let r;for(i=t[5],r=0;r<i.length;r+=1){const s=H(t,i,r);o[r]?o[r].p(s,n):(o[r]=J(s),o[r].c(),o[r].m(e.parentNode,e))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}},d(t){Object(r.s)(o,t),t&&Object(r.t)(e),t&&Object(r.t)(n)}}}function J(t){let e,n,i,o,s,a,c,l=t[35].iconfont+"",u=t[35].name+"";function h(...e){return t[25](t[35],...e)}return{c(){e=Object(r.u)("div"),n=Object(r.u)("span"),o=Object(r.u)("span"),s=Object(r.Y)(u),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0,style:!0});var i=Object(r.h)(e);n=Object(r.j)(i,"SPAN",{style:!0,class:!0}),Object(r.h)(n).forEach(r.t),o=Object(r.j)(i,"SPAN",{style:!0});var a=Object(r.h)(o);s=Object(r.l)(a,u),a.forEach(r.t),i.forEach(r.t),this.h()},h(){Object(r.e)(n,"style",i="font-size:12px;width:12px;height:12px;"+(t[35].value?`background-color:${t[3].currentShapeColorKind===t[35].value?t[3].currentShapeColor:t[35].bgcolor}`:"")+";"+(t[3].currentShapeColorKind===t[35].value?`color:${t[3].currentShapeColor};`:"")),Object(r.e)(n,"class","icon iconfont svelte-1jgn9a8"),Object(r.U)(o,"margin-left","4px"),Object(r.e)(e,"class","shape-size-kind-item svelte-1jgn9a8"),Object(r.e)(e,"style",a=t[3].currentShapeColorKind===t[35].value?`color:${t[3].currentShapeColor}`:"")},m(t,i){Object(r.G)(t,e,i),Object(r.c)(e,n),n.innerHTML=l,Object(r.c)(e,o),Object(r.c)(o,s),c=Object(r.I)(e,"click",h)},p(o,c){t=o,32&c[0]&&l!==(l=t[35].iconfont+"")&&(n.innerHTML=l),40&c[0]&&i!==(i="font-size:12px;width:12px;height:12px;"+(t[35].value?`background-color:${t[3].currentShapeColorKind===t[35].value?t[3].currentShapeColor:t[35].bgcolor}`:"")+";"+(t[3].currentShapeColorKind===t[35].value?`color:${t[3].currentShapeColor};`:""))&&Object(r.e)(n,"style",i),32&c[0]&&u!==(u=t[35].name+"")&&Object(r.T)(s,u),40&c[0]&&a!==(a=t[3].currentShapeColorKind===t[35].value?`color:${t[3].currentShapeColor}`:"")&&Object(r.e)(e,"style",a)},d(t){t&&Object(r.t)(e),c()}}}function Z(t){let e,n,i,o,s;function a(...e){return t[26](t[31],...e)}return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var i=Object(r.h)(e);n=Object(r.j)(i,"DIV",{class:!0,style:!0}),Object(r.h)(n).forEach(r.t),i.forEach(r.t),this.h()},h(){Object(r.e)(n,"class",i=Object(r.L)(t[31].value===t[3].currentShapeSize?"brush-size-item-selected":"pen-size-child")+" svelte-1jgn9a8"),Object(r.U)(n,"width",2*t[31].value+"px"),Object(r.U)(n,"height",2*t[31].value+"px"),Object(r.U)(n,"margin-right",2===t[33]?"5px":"0px"),Object(r.e)(e,"class",o=Object(r.L)((t[33],"shape-size-item"))+" svelte-1jgn9a8")},m(t,i){Object(r.G)(t,e,i),Object(r.c)(e,n),s=Object(r.I)(e,"click",a)},p(e,o){t=e,72&o[0]&&i!==(i=Object(r.L)(t[31].value===t[3].currentShapeSize?"brush-size-item-selected":"pen-size-child")+" svelte-1jgn9a8")&&Object(r.e)(n,"class",i),64&o[0]&&Object(r.U)(n,"width",2*t[31].value+"px"),64&o[0]&&Object(r.U)(n,"height",2*t[31].value+"px")},d(t){t&&Object(r.t)(e),s()}}}function Q(t){let e,n,i,o,s,a,c,l,u,h,d=t[3].currentShapePoiShow&&tt(t);return{c(){e=Object(r.u)("div"),n=Object(r.V)(),i=Object(r.u)("div"),o=Object(r.u)("div"),d&&d.c(),a=Object(r.V)(),c=Object(r.u)("div"),l=Object(r.Y)(""),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0,style:!0}),Object(r.h)(e).forEach(r.t),n=Object(r.k)(t),i=Object(r.j)(t,"DIV",{class:!0});var s=Object(r.h)(i);o=Object(r.j)(s,"DIV",{class:!0});var u=Object(r.h)(o);d&&d.l(u),u.forEach(r.t),a=Object(r.k)(s),c=Object(r.j)(s,"DIV",{});var h=Object(r.h)(c);l=Object(r.l)(h,""),h.forEach(r.t),s.forEach(r.t),this.h()},h(){Object(r.e)(e,"class","shape-column-split svelte-1jgn9a8"),Object(r.U)(e,"margin-right","19px"),Object(r.e)(o,"class",s="choose-edit-control "+(t[3].currentShapePoiShow?"choose-edit-control-selected":"")+" svelte-1jgn9a8"),Object(r.e)(i,"class","choose-edit-poi svelte-1jgn9a8")},m(s,p){Object(r.G)(s,e,p),Object(r.G)(s,n,p),Object(r.G)(s,i,p),Object(r.c)(i,o),d&&d.m(o,null),Object(r.c)(i,a),Object(r.c)(i,c),Object(r.c)(c,l),u=!0,h=Object(r.I)(i,"click",t[17])},p(t,e){t[3].currentShapePoiShow?d?Object(r.Z)(d,1):(d=tt(t),d.c(),Object(r.Z)(d,1),d.m(o,null)):d&&(Object(r.D)(),Object(r.ab)(d,1,1,()=>{d=null}),Object(r.g)()),(!u||8&e[0]&&s!==(s="choose-edit-control "+(t[3].currentShapePoiShow?"choose-edit-control-selected":"")+" svelte-1jgn9a8"))&&Object(r.e)(o,"class",s)},i(t){u||(Object(r.Z)(d),u=!0)},o(t){Object(r.ab)(d),u=!1},d(t){t&&Object(r.t)(e),t&&Object(r.t)(n),t&&Object(r.t)(i),d&&d.d(),h()}}}function tt(t){let e;const n=new D({});return{c(){Object(r.o)(n.$$.fragment)},l(t){Object(r.i)(n.$$.fragment,t)},m(t,i){Object(r.J)(n,t,i),e=!0},i(t){e||(Object(r.Z)(n.$$.fragment,t),e=!0)},o(t){Object(r.ab)(n.$$.fragment,t),e=!1},d(t){Object(r.r)(n,t)}}}function et(t){let e;return{c(){e=Object(r.u)("div"),this.h()},l(t){e=Object(r.j)(t,"DIV",{style:!0,class:!0}),Object(r.h)(e).forEach(r.t),this.h()},h(){Object(r.U)(e,"background-image","url("+t[8]+")"),Object(r.e)(e,"class","brush-color-item-selected svelte-1jgn9a8")},m(t,n){Object(r.G)(t,e,n)},p(t,n){256&n[0]&&Object(r.U)(e,"background-image","url("+t[8]+")")},d(t){t&&Object(r.t)(e)}}}function nt(t){let e,n,i,o,s,a,c=t[31].value===t[3].currentShapeColor&&et(t);function l(...e){return t[27](t[31],...e)}return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),c&&c.c(),o=Object(r.V)(),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var i=Object(r.h)(e);n=Object(r.j)(i,"DIV",{style:!0,class:!0});var s=Object(r.h)(n);c&&c.l(s),s.forEach(r.t),o=Object(r.k)(i),i.forEach(r.t),this.h()},h(){Object(r.U)(n,"background-color",t[31].value),Object(r.e)(n,"class",i="brush-color-content "+(t[31].value===t[3].currentShapeColor?"brush-color-content-selected":"")+" svelte-1jgn9a8"),Object(r.e)(e,"class",s=Object(r.L)((t[33],"shape-color-item"))+" svelte-1jgn9a8")},m(t,i){Object(r.G)(t,e,i),Object(r.c)(e,n),c&&c.m(n,null),Object(r.c)(e,o),a=Object(r.I)(e,"click",l)},p(e,o){(t=e)[31].value===t[3].currentShapeColor?c?c.p(t,o):(c=et(t),c.c(),c.m(n,null)):c&&(c.d(1),c=null),128&o[0]&&Object(r.U)(n,"background-color",t[31].value),136&o[0]&&i!==(i="brush-color-content "+(t[31].value===t[3].currentShapeColor?"brush-color-content-selected":"")+" svelte-1jgn9a8")&&Object(r.e)(n,"class",i)},d(t){t&&Object(r.t)(e),c&&c.d(),a()}}}function rt(t){let e,n,i,o=ot(t[3].currentShape)+"";return{c(){e=Object(r.u)("div"),n=Object(r.Y)("shift"),i=Object(r.Y)(o),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var s=Object(r.h)(e);n=Object(r.l)(s,"shift"),i=Object(r.l)(s,o),s.forEach(r.t),this.h()},h(){Object(r.e)(e,"class","shape-tool-tip svelte-1jgn9a8")},m(t,o){Object(r.G)(t,e,o),Object(r.c)(e,n),Object(r.c)(e,i)},p(t,e){8&e[0]&&o!==(o=ot(t[3].currentShape)+"")&&Object(r.T)(i,o)},d(t){t&&Object(r.t)(e)}}}function it(t){let e,n,i,o,s,a,c,l,u,h,d,p,f,g,m,v,y,b,w,_,x,O,S,j,E,T,P=t[10].includes(t[3].currentShape),C=!t[10].includes(t[3].currentShape),A=t[10].includes(t[3].currentShape),k=t[2]===t[3].currentTool&&q(t),D=t[4],I=[];for(let e=0;e<D.length;e+=1)I[e]=K(W(t,D,e));let M=P&&$(t),R=t[6],L=[];for(let e=0;e<R.length;e+=1)L[e]=Z(V(t,R,e));let N=C&&Q(t),F=t[7],B=[];for(let e=0;e<F.length;e+=1)B[e]=nt(G(t,F,e));let U=A&&rt(t);return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),i=Object(r.u)("span"),o=Object(r.V)(),k&&k.c(),s=Object(r.V)(),a=Object(r.u)("div"),c=Object(r.u)("div"),l=Object(r.Y)(t[1]),u=Object(r.V)(),h=Object(r.u)("div");for(let t=0;t<I.length;t+=1)I[t].c();d=Object(r.V)(),p=Object(r.u)("div"),f=Object(r.V)(),g=Object(r.u)("div"),M&&M.c(),m=Object(r.V)(),v=Object(r.u)("div");for(let t=0;t<L.length;t+=1)L[t].c();y=Object(r.V)(),N&&N.c(),b=Object(r.V)(),w=Object(r.u)("div"),_=Object(r.V)(),x=Object(r.u)("div");for(let t=0;t<B.length;t+=1)B[t].c();O=Object(r.V)(),U&&U.c(),this.h()},l(S){e=Object(r.j)(S,"DIV",{class:!0});var j=Object(r.h)(e);n=Object(r.j)(j,"DIV",{class:!0});var E=Object(r.h)(n);i=Object(r.j)(E,"SPAN",{class:!0}),Object(r.h)(i).forEach(r.t),E.forEach(r.t),o=Object(r.k)(j),k&&k.l(j),s=Object(r.k)(j),a=Object(r.j)(j,"DIV",{class:!0});var T=Object(r.h)(a);c=Object(r.j)(T,"DIV",{class:!0});var P=Object(r.h)(c);l=Object(r.l)(P,t[1]),P.forEach(r.t),u=Object(r.k)(T),h=Object(r.j)(T,"DIV",{class:!0});var C=Object(r.h)(h);for(let t=0;t<I.length;t+=1)I[t].l(C);C.forEach(r.t),d=Object(r.k)(T),p=Object(r.j)(T,"DIV",{class:!0}),Object(r.h)(p).forEach(r.t),f=Object(r.k)(T),g=Object(r.j)(T,"DIV",{class:!0});var A=Object(r.h)(g);M&&M.l(A),m=Object(r.k)(A),v=Object(r.j)(A,"DIV",{class:!0});var D=Object(r.h)(v);for(let t=0;t<L.length;t+=1)L[t].l(D);y=Object(r.k)(D),N&&N.l(D),D.forEach(r.t),A.forEach(r.t),b=Object(r.k)(T),w=Object(r.j)(T,"DIV",{class:!0}),Object(r.h)(w).forEach(r.t),_=Object(r.k)(T),x=Object(r.j)(T,"DIV",{class:!0});var R=Object(r.h)(x);for(let t=0;t<B.length;t+=1)B[t].l(R);R.forEach(r.t),O=Object(r.k)(T),U&&U.l(T),T.forEach(r.t),j.forEach(r.t),this.h()},h(){Object(r.e)(i,"class","icon iconfont svelte-1jgn9a8"),Object(r.e)(n,"class","icon-item svelte-1jgn9a8"),Object(r.e)(c,"class","shape-title svelte-1jgn9a8"),Object(r.e)(h,"class","shape-shapes svelte-1jgn9a8"),Object(r.e)(p,"class","shape-split-line svelte-1jgn9a8"),Object(r.e)(v,"class","shape-sizes svelte-1jgn9a8"),Object(r.e)(g,"class","shape-size-kind svelte-1jgn9a8"),Object(r.e)(w,"class","shape-split-line svelte-1jgn9a8"),Object(r.e)(x,"class","shape-colors svelte-1jgn9a8"),Object(r.e)(a,"class",S="shape-handle-tip item-base-tip "+(t[9]?"d-f":"d-n")+" svelte-1jgn9a8"),Object(r.e)(e,"class",j="item-base "+(t[2]===t[3].currentTool?"item-base-selected":"")+" svelte-1jgn9a8")},m(S,j){Object(r.G)(S,e,j),Object(r.c)(e,n),Object(r.c)(n,i),i.innerHTML=t[0],Object(r.c)(e,o),k&&k.m(e,null),Object(r.c)(e,s),Object(r.c)(e,a),Object(r.c)(a,c),Object(r.c)(c,l),Object(r.c)(a,u),Object(r.c)(a,h);for(let t=0;t<I.length;t+=1)I[t].m(h,null);Object(r.c)(a,d),Object(r.c)(a,p),Object(r.c)(a,f),Object(r.c)(a,g),M&&M.m(g,null),Object(r.c)(g,m),Object(r.c)(g,v);for(let t=0;t<L.length;t+=1)L[t].m(v,null);Object(r.c)(v,y),N&&N.m(v,null),Object(r.c)(a,b),Object(r.c)(a,w),Object(r.c)(a,_),Object(r.c)(a,x);for(let t=0;t<B.length;t+=1)B[t].m(x,null);Object(r.c)(a,O),U&&U.m(a,null),E=!0,T=[Object(r.I)(e,"mouseleave",t[28]),Object(r.I)(e,"mouseenter",t[29]),Object(r.I)(e,"click",t[30])]},p(t,n){if((!E||1&n[0])&&(i.innerHTML=t[0]),t[2]===t[3].currentTool?k?k.p(t,n):(k=q(t),k.c(),k.m(e,s)):k&&(k.d(1),k=null),(!E||2&n[0])&&Object(r.T)(l,t[1]),8216&n[0]){let e;for(D=t[4],e=0;e<D.length;e+=1){const r=W(t,D,e);I[e]?I[e].p(r,n):(I[e]=K(r),I[e].c(),I[e].m(h,null))}for(;e<I.length;e+=1)I[e].d(1);I.length=D.length}if(8&n[0]&&(P=t[10].includes(t[3].currentShape)),P?M?M.p(t,n):(M=$(t),M.c(),M.m(g,m)):M&&(M.d(1),M=null),32840&n[0]){let e;for(R=t[6],e=0;e<R.length;e+=1){const r=V(t,R,e);L[e]?L[e].p(r,n):(L[e]=Z(r),L[e].c(),L[e].m(v,y))}for(;e<L.length;e+=1)L[e].d(1);L.length=R.length}if(8&n[0]&&(C=!t[10].includes(t[3].currentShape)),C?N?(N.p(t,n),Object(r.Z)(N,1)):(N=Q(t),N.c(),Object(r.Z)(N,1),N.m(v,null)):N&&(Object(r.D)(),Object(r.ab)(N,1,1,()=>{N=null}),Object(r.g)()),65928&n[0]){let e;for(F=t[7],e=0;e<F.length;e+=1){const r=G(t,F,e);B[e]?B[e].p(r,n):(B[e]=nt(r),B[e].c(),B[e].m(x,null))}for(;e<B.length;e+=1)B[e].d(1);B.length=F.length}8&n[0]&&(A=t[10].includes(t[3].currentShape)),A?U?U.p(t,n):(U=rt(t),U.c(),U.m(a,null)):U&&(U.d(1),U=null),(!E||512&n[0]&&S!==(S="shape-handle-tip item-base-tip "+(t[9]?"d-f":"d-n")+" svelte-1jgn9a8"))&&Object(r.e)(a,"class",S),(!E||12&n[0]&&j!==(j="item-base "+(t[2]===t[3].currentTool?"item-base-selected":"")+" svelte-1jgn9a8"))&&Object(r.e)(e,"class",j)},i(t){E||(Object(r.Z)(N),E=!0)},o(t){Object(r.ab)(N),E=!1},d(t){t&&Object(r.t)(e),k&&k.d(),Object(r.s)(I,t),M&&M.d(),Object(r.s)(L,t),N&&N.d(),Object(r.s)(B,t),U&&U.d(),Object(r.Q)(T)}}}function ot(t){let e="";switch(t){case"s_ellipse_edit":e="";break;case"s_triangle_edit":e="";break;case"rectangle_edit":e="";break;default:e=""}return console.log("makeShiftStr",e,t),e}function st(t,e,n){const r=Object(i.b)();let{defaultBg:o=""}=e,{selectedBg:s=""}=e,{lable:a=""}=e,{selected:c=!1}=e,{value:l=""}=e,{iconfont:u=""}=e,{currentStatus:h={}}=e,{shapes:d=[]}=e,{colorkinds:p=[]}=e,{sizeContent:f=[]}=e,{colorContent:g=[]}=e,{currentShapeColorKind:m=""}=e,{iconselect:v=""}=e,y=!1,b=null;function w(t){r("message",{name:t})}function _(t){b&&(clearTimeout(b),b=null),b=setTimeout(()=>{n(9,y=t)},t?0:200)}function x(t,e){t.stopPropagation(),r("message",{name:l,childContentVal:e.value,kind:"currentShape"})}function O(t,e){t.stopPropagation(),r("message",{name:l,childContentVal:e.value,kind:"currentShapeColorKind"})}function S(t,e){t.stopPropagation(),r("message",{name:l,childContentVal:e.value,kind:"currentShapeSize"})}function j(t,e){t.stopPropagation(),r("message",{name:l,childContentVal:e.value,kind:"currentShapeColor"})}return t.$set=t=>{"defaultBg"in t&&n(18,o=t.defaultBg),"selectedBg"in t&&n(19,s=t.selectedBg),"lable"in t&&n(1,a=t.lable),"selected"in t&&n(20,c=t.selected),"value"in t&&n(2,l=t.value),"iconfont"in t&&n(0,u=t.iconfont),"currentStatus"in t&&n(3,h=t.currentStatus),"shapes"in t&&n(4,d=t.shapes),"colorkinds"in t&&n(5,p=t.colorkinds),"sizeContent"in t&&n(6,f=t.sizeContent),"colorContent"in t&&n(7,g=t.colorContent),"currentShapeColorKind"in t&&n(21,m=t.currentShapeColorKind),"iconselect"in t&&n(8,v=t.iconselect)},t.$$.update=()=>{if(24&t.$$.dirty[0])for(let t=0;t<d.length;t++)if(d[t].value===h.currentShape){n(0,u=d[t].iconfont);break}},[u,a,l,h,d,p,f,g,v,y,["s_ellipse_edit","rectangle_edit","s_triangle_edit"],w,_,x,O,S,j,function(t){t.stopPropagation(),r("message",{name:l,childContentVal:!h.currentShapePoiShow,kind:"currentShapePoiShow"})},o,s,c,m,b,r,(t,e)=>x(e,t),(t,e)=>O(e,t),(t,e)=>S(e,t),(t,e)=>j(e,t),()=>_(!1),()=>_(!0),()=>w(l)]}class at extends r.a{constructor(t){var e;super(),document.getElementById("svelte-1jgn9a8-style")||((e=Object(r.u)("style")).id="svelte-1jgn9a8-style",e.textContent='.iconfont.svelte-1jgn9a8.svelte-1jgn9a8{font-family:"iconfont" !important;font-size:22px;font-style:normal;color:#B4B9C5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-item.svelte-1jgn9a8.svelte-1jgn9a8{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.item-icon-selected.svelte-1jgn9a8.svelte-1jgn9a8{color:white!important}.item-base.svelte-1jgn9a8.svelte-1jgn9a8:hover{background-color:rgba(0, 0, 0, .4);border-radius:4px}.item-base.svelte-1jgn9a8:hover .item-base-tip.svelte-1jgn9a8{transform:translateX(48px);opacity:0.94}.item-base-tip.svelte-1jgn9a8.svelte-1jgn9a8{user-select:none;position:absolute;transform:translateX(-100px);opacity:0;transition-property:transform, opacity;transition-duration:.2s;transition-timing-function:ease-out;display:flex;top:8px;align-items:center;justify-content:center;flex-direction:column;background:rgba(46, 48, 55, 1);box-shadow:0px 2px 4px 0px rgba(0, 0, 0, 0.5);border:1px solid rgba(67, 71, 82, 1);color:#B4B9C5;font-size:14px;border-radius:2px;z-index:1}.item-base-tip.svelte-1jgn9a8.svelte-1jgn9a8::before{content:"";position:absolute;top:6px;left:-5px;padding:4px;background-color:inherit;border:inherit;border-right:0;border-bottom:0;transform:rotate(-45deg)}.item-base.svelte-1jgn9a8:hover .item-base-tip.svelte-1jgn9a8{transform:translateX(48px);opacity:0.94}.item-base.svelte-1jgn9a8.svelte-1jgn9a8{position:relative;cursor:pointer;width:38px;height:38px;margin:auto;border:4px solid rgba(46, 48, 55, 1);align-items:center}.item-base-selected.svelte-1jgn9a8.svelte-1jgn9a8{background-color:rgba(0, 0, 0, .4);border-radius:4px}.d-n.svelte-1jgn9a8.svelte-1jgn9a8{display:none}.d-f.svelte-1jgn9a8.svelte-1jgn9a8{display:flex}.brush-size-item-selected.svelte-1jgn9a8.svelte-1jgn9a8{background-color:#EF4C4F;border-radius:50%}.pen-size-child.svelte-1jgn9a8.svelte-1jgn9a8{border-radius:50%;background-color:white}.choose-edit-control.svelte-1jgn9a8.svelte-1jgn9a8{width:12px;height:12px;border-radius:2px;margin-right:6px;border:1px solid rgba(255,255,255,0.3)}.choose-edit-control-selected.svelte-1jgn9a8.svelte-1jgn9a8{background:rgba(239,76,79,1);border-radius:2px;color:white;align-items:center;justify-content:center;font-weight:900;display:flex}.choose-edit-poi.svelte-1jgn9a8.svelte-1jgn9a8{font-size:12px;font-weight:400;color:rgba(180,185,197,1);line-height:16px;display:flex;align-items:center}.shape-handle-tip.svelte-1jgn9a8.svelte-1jgn9a8{transform:translateX(40px) translateY(-60px);padding:6px 12px 12px 12px;width:414px}.shape-title.svelte-1jgn9a8.svelte-1jgn9a8{display:flex;width:100%}.shape-shapes.svelte-1jgn9a8.svelte-1jgn9a8{display:flex;width:100%;padding:12px 0px 12px 0px}.shape-size-kind.svelte-1jgn9a8.svelte-1jgn9a8{display:flex;width:100%}.shape-split-line.svelte-1jgn9a8.svelte-1jgn9a8{height:1px;width:100%;background-color:#191A1E;box-shadow:0px 1px 0px 0px rgba(255,255,255,0.1)}.shape-size-kind-item.svelte-1jgn9a8.svelte-1jgn9a8{display:flex;align-items:center;margin-right:20px}.shape-column-split.svelte-1jgn9a8.svelte-1jgn9a8{width:1px;height:16px;background-color:rgba(255, 255, 255, .2);align-self:center;display:flex;margin:0px 30px 0px 0px}.shape-tool-tip.svelte-1jgn9a8.svelte-1jgn9a8{width:100%;height:17px;font-size:12px;font-family:PingFangSC;font-weight:400;color:rgba(180, 185, 197, 1);line-height:17px}.shape-size-item.svelte-1jgn9a8.svelte-1jgn9a8{width:30px;justify-content:flex-start;display:flex;height:100%;align-items:center}.shape-sizes.svelte-1jgn9a8.svelte-1jgn9a8{display:flex;height:40px;align-items:center}.shape-colors.svelte-1jgn9a8.svelte-1jgn9a8{width:100%;height:42px;display:flex;align-items:center}.shape-item.svelte-1jgn9a8.svelte-1jgn9a8{display:flex;align-items:center;margin-right:20px}.shape-color-item.svelte-1jgn9a8.svelte-1jgn9a8{width:29.3px;display:flex;height:38px;align-items:center;justify-content:flex-start}.brush-color-content.svelte-1jgn9a8.svelte-1jgn9a8{width:16px;height:16px;border-radius:1px;position:relative}.brush-color-content-selected.svelte-1jgn9a8.svelte-1jgn9a8{border:1px solid rgba(255,255,255,1)}.brush-color-item-selected.svelte-1jgn9a8.svelte-1jgn9a8{width:8px;height:8px;background-position:center;background-repeat:no-repeat;background-size:contain;position:absolute;right:-4px;bottom:-4px}.color-point.svelte-1jgn9a8.svelte-1jgn9a8{position:absolute;bottom:3px;right:3px;width:6px;height:6px}',Object(r.c)(document.head,e)),Object(r.F)(this,t,st,it,r.R,{defaultBg:18,selectedBg:19,lable:1,selected:20,value:2,iconfont:0,currentStatus:3,shapes:4,colorkinds:5,sizeContent:6,colorContent:7,currentShapeColorKind:21,iconselect:8},[-1,-1])}}var ct=at;function lt(t,e,n){const r=t.slice();return r[27]=e[n],r[29]=n,r}function ut(t,e,n){const r=t.slice();return r[27]=e[n],r[29]=n,r}function ht(t,e,n){const r=t.slice();return r[31]=e[n],r}function dt(t){let e;return{c(){e=Object(r.u)("div"),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0,style:!0}),Object(r.h)(e).forEach(r.t),this.h()},h(){Object(r.e)(e,"class","color-point svelte-10iwax9"),Object(r.U)(e,"background-color",t[3].currentLineColor)},m(t,n){Object(r.G)(t,e,n)},p(t,n){8&n[0]&&Object(r.U)(e,"background-color",t[3].currentLineColor)},d(t){t&&Object(r.t)(e)}}}function pt(t){let e,n,i,o,s,a,c,l,u,h=t[31].iconfont+"",d=t[31].name+"";function p(...e){return t[21](t[31],...e)}return{c(){e=Object(r.u)("div"),n=Object(r.u)("span"),o=Object(r.V)(),s=Object(r.u)("span"),a=Object(r.Y)(d),c=Object(r.V)(),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0,style:!0});var i=Object(r.h)(e);n=Object(r.j)(i,"SPAN",{class:!0,style:!0}),Object(r.h)(n).forEach(r.t),o=Object(r.k)(i),s=Object(r.j)(i,"SPAN",{style:!0});var l=Object(r.h)(s);a=Object(r.l)(l,d),l.forEach(r.t),c=Object(r.k)(i),i.forEach(r.t),this.h()},h(){Object(r.e)(n,"class","icon iconfont svelte-10iwax9"),Object(r.e)(n,"style",i=t[31].value===t[3].currentLine?`color:${t[3].currentLineColor}`:""),Object(r.U)(s,"margin-left","4px"),Object(r.e)(e,"class","shape-item svelte-10iwax9"),Object(r.e)(e,"style",l=t[31].value===t[3].currentLine?`color:${t[3].currentLineColor}`:"")},m(t,i){Object(r.G)(t,e,i),Object(r.c)(e,n),n.innerHTML=h,Object(r.c)(e,o),Object(r.c)(e,s),Object(r.c)(s,a),Object(r.c)(e,c),u=Object(r.I)(e,"click",p)},p(o,s){t=o,16&s[0]&&h!==(h=t[31].iconfont+"")&&(n.innerHTML=h),24&s[0]&&i!==(i=t[31].value===t[3].currentLine?`color:${t[3].currentLineColor}`:"")&&Object(r.e)(n,"style",i),16&s[0]&&d!==(d=t[31].name+"")&&Object(r.T)(a,d),24&s[0]&&l!==(l=t[31].value===t[3].currentLine?`color:${t[3].currentLineColor}`:"")&&Object(r.e)(e,"style",l)},d(t){t&&Object(r.t)(e),u()}}}function ft(t){let e,n,i,o,s;function a(...e){return t[22](t[27],...e)}return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var i=Object(r.h)(e);n=Object(r.j)(i,"DIV",{class:!0,style:!0}),Object(r.h)(n).forEach(r.t),i.forEach(r.t),this.h()},h(){Object(r.e)(n,"class",i=Object(r.L)(t[27].value===t[3].currentLineSize?"brush-size-item-selected":"pen-size-child")+" svelte-10iwax9"),Object(r.U)(n,"width",2*t[27].value+"px"),Object(r.U)(n,"height",2*t[27].value+"px"),Object(r.U)(n,"margin-right",2===t[29]?"5px":"0px"),Object(r.e)(e,"class",o=Object(r.L)((t[29],"shape-size-item"))+" svelte-10iwax9")},m(t,i){Object(r.G)(t,e,i),Object(r.c)(e,n),s=Object(r.I)(e,"click",a)},p(e,o){t=e,40&o[0]&&i!==(i=Object(r.L)(t[27].value===t[3].currentLineSize?"brush-size-item-selected":"pen-size-child")+" svelte-10iwax9")&&Object(r.e)(n,"class",i),32&o[0]&&Object(r.U)(n,"width",2*t[27].value+"px"),32&o[0]&&Object(r.U)(n,"height",2*t[27].value+"px")},d(t){t&&Object(r.t)(e),s()}}}function gt(t){let e;const n=new D({});return{c(){Object(r.o)(n.$$.fragment)},l(t){Object(r.i)(n.$$.fragment,t)},m(t,i){Object(r.J)(n,t,i),e=!0},i(t){e||(Object(r.Z)(n.$$.fragment,t),e=!0)},o(t){Object(r.ab)(n.$$.fragment,t),e=!1},d(t){Object(r.r)(n,t)}}}function mt(t){let e;return{c(){e=Object(r.u)("div"),this.h()},l(t){e=Object(r.j)(t,"DIV",{style:!0,class:!0}),Object(r.h)(e).forEach(r.t),this.h()},h(){Object(r.U)(e,"background-image","url("+t[7]+")"),Object(r.e)(e,"class","brush-color-item-selected svelte-10iwax9")},m(t,n){Object(r.G)(t,e,n)},p(t,n){128&n[0]&&Object(r.U)(e,"background-image","url("+t[7]+")")},d(t){t&&Object(r.t)(e)}}}function vt(t){let e,n,i,o,s,a,c=t[27].value===t[3].currentLineColor&&mt(t);function l(...e){return t[23](t[27],...e)}return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),c&&c.c(),o=Object(r.V)(),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var i=Object(r.h)(e);n=Object(r.j)(i,"DIV",{style:!0,class:!0});var s=Object(r.h)(n);c&&c.l(s),s.forEach(r.t),o=Object(r.k)(i),i.forEach(r.t),this.h()},h(){Object(r.U)(n,"background-color",t[27].value),Object(r.e)(n,"class",i="brush-color-content "+(t[27].value===t[3].currentLineColor?"brush-color-content-selected":"")+" svelte-10iwax9"),Object(r.e)(e,"class",s=Object(r.L)((t[29],"shape-color-item"))+" svelte-10iwax9")},m(t,i){Object(r.G)(t,e,i),Object(r.c)(e,n),c&&c.m(n,null),Object(r.c)(e,o),a=Object(r.I)(e,"click",l)},p(e,o){(t=e)[27].value===t[3].currentLineColor?c?c.p(t,o):(c=mt(t),c.c(),c.m(n,null)):c&&(c.d(1),c=null),64&o[0]&&Object(r.U)(n,"background-color",t[27].value),72&o[0]&&i!==(i="brush-color-content "+(t[27].value===t[3].currentLineColor?"brush-color-content-selected":"")+" svelte-10iwax9")&&Object(r.e)(n,"class",i)},d(t){t&&Object(r.t)(e),c&&c.d(),a()}}}function yt(t){let e,n,i,o,s,a,c,l,u,h,d,p,f,g,m,v,y,b,w,_,x,O,S,j,E,T,P,C,A,k,D,I,M,R,L,N,F=t[2]===t[3].currentTool&&dt(t),B=t[4],U=[];for(let e=0;e<B.length;e+=1)U[e]=pt(ht(t,B,e));let z=t[5],X=[];for(let e=0;e<z.length;e+=1)X[e]=ft(ut(t,z,e));let Y=t[3].currentLinePoiShow&&gt(),G=t[6],V=[];for(let e=0;e<G.length;e+=1)V[e]=vt(lt(t,G,e));return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),i=Object(r.u)("span"),s=Object(r.V)(),F&&F.c(),a=Object(r.V)(),c=Object(r.u)("div"),l=Object(r.u)("div"),u=Object(r.Y)(t[1]),h=Object(r.V)(),d=Object(r.u)("div");for(let t=0;t<U.length;t+=1)U[t].c();p=Object(r.V)(),f=Object(r.u)("div"),g=Object(r.V)(),m=Object(r.u)("div"),v=Object(r.u)("div");for(let t=0;t<X.length;t+=1)X[t].c();y=Object(r.V)(),b=Object(r.u)("div"),w=Object(r.V)(),_=Object(r.u)("div"),x=Object(r.u)("div"),Y&&Y.c(),S=Object(r.V)(),j=Object(r.u)("div"),E=Object(r.Y)(""),T=Object(r.V)(),P=Object(r.u)("div"),C=Object(r.V)(),A=Object(r.u)("div");for(let t=0;t<V.length;t+=1)V[t].c();k=Object(r.V)(),D=Object(r.u)("div"),I=Object(r.Y)("shift"),this.h()},l(o){e=Object(r.j)(o,"DIV",{class:!0});var O=Object(r.h)(e);n=Object(r.j)(O,"DIV",{class:!0});var M=Object(r.h)(n);i=Object(r.j)(M,"SPAN",{class:!0}),Object(r.h)(i).forEach(r.t),M.forEach(r.t),s=Object(r.k)(O),F&&F.l(O),a=Object(r.k)(O),c=Object(r.j)(O,"DIV",{class:!0});var R=Object(r.h)(c);l=Object(r.j)(R,"DIV",{class:!0});var L=Object(r.h)(l);u=Object(r.l)(L,t[1]),L.forEach(r.t),h=Object(r.k)(R),d=Object(r.j)(R,"DIV",{class:!0});var N=Object(r.h)(d);for(let t=0;t<U.length;t+=1)U[t].l(N);N.forEach(r.t),p=Object(r.k)(R),f=Object(r.j)(R,"DIV",{class:!0}),Object(r.h)(f).forEach(r.t),g=Object(r.k)(R),m=Object(r.j)(R,"DIV",{class:!0});var B=Object(r.h)(m);v=Object(r.j)(B,"DIV",{class:!0});var z=Object(r.h)(v);for(let t=0;t<X.length;t+=1)X[t].l(z);y=Object(r.k)(z),b=Object(r.j)(z,"DIV",{class:!0,style:!0}),Object(r.h)(b).forEach(r.t),w=Object(r.k)(z),_=Object(r.j)(z,"DIV",{class:!0});var G=Object(r.h)(_);x=Object(r.j)(G,"DIV",{class:!0});var H=Object(r.h)(x);Y&&Y.l(H),H.forEach(r.t),S=Object(r.k)(G),j=Object(r.j)(G,"DIV",{});var W=Object(r.h)(j);E=Object(r.l)(W,""),W.forEach(r.t),G.forEach(r.t),z.forEach(r.t),B.forEach(r.t),T=Object(r.k)(R),P=Object(r.j)(R,"DIV",{class:!0}),Object(r.h)(P).forEach(r.t),C=Object(r.k)(R),A=Object(r.j)(R,"DIV",{class:!0});var q=Object(r.h)(A);for(let t=0;t<V.length;t+=1)V[t].l(q);q.forEach(r.t),k=Object(r.k)(R),D=Object(r.j)(R,"DIV",{class:!0});var K=Object(r.h)(D);I=Object(r.l)(K,"shift"),K.forEach(r.t),R.forEach(r.t),O.forEach(r.t),this.h()},h(){Object(r.e)(i,"class",o="icon iconfont iconfont-line "+(t[2]===t[3].currentTool?"item-icon-selected":"")+" svelte-10iwax9"),Object(r.e)(n,"class","icon-item svelte-10iwax9"),Object(r.e)(l,"class","shape-title svelte-10iwax9"),Object(r.e)(d,"class","shape-shapes svelte-10iwax9"),Object(r.e)(f,"class","shape-split-line svelte-10iwax9"),Object(r.e)(b,"class","shape-column-split svelte-10iwax9"),Object(r.U)(b,"margin-right","19px"),Object(r.e)(x,"class",O="choose-edit-control "+(t[3].currentLinePoiShow?"choose-edit-control-selected":"")+" svelte-10iwax9"),Object(r.e)(_,"class","choose-edit-poi svelte-10iwax9"),Object(r.e)(v,"class","shape-sizes svelte-10iwax9"),Object(r.e)(m,"class","shape-size-kind svelte-10iwax9"),Object(r.e)(P,"class","shape-split-line svelte-10iwax9"),Object(r.e)(A,"class","shape-colors svelte-10iwax9"),Object(r.e)(D,"class","shape-tool-tip svelte-10iwax9"),Object(r.e)(c,"class",M="line-handle-tip item-base-tip "+(t[8]?"d-f":"d-n")+" svelte-10iwax9"),Object(r.e)(e,"class",R="item-base "+(t[2]===t[3].currentTool?"item-base-selected":"")+" svelte-10iwax9")},m(o,O){Object(r.G)(o,e,O),Object(r.c)(e,n),Object(r.c)(n,i),i.innerHTML=t[0],Object(r.c)(e,s),F&&F.m(e,null),Object(r.c)(e,a),Object(r.c)(e,c),Object(r.c)(c,l),Object(r.c)(l,u),Object(r.c)(c,h),Object(r.c)(c,d);for(let t=0;t<U.length;t+=1)U[t].m(d,null);Object(r.c)(c,p),Object(r.c)(c,f),Object(r.c)(c,g),Object(r.c)(c,m),Object(r.c)(m,v);for(let t=0;t<X.length;t+=1)X[t].m(v,null);Object(r.c)(v,y),Object(r.c)(v,b),Object(r.c)(v,w),Object(r.c)(v,_),Object(r.c)(_,x),Y&&Y.m(x,null),Object(r.c)(_,S),Object(r.c)(_,j),Object(r.c)(j,E),Object(r.c)(c,T),Object(r.c)(c,P),Object(r.c)(c,C),Object(r.c)(c,A);for(let t=0;t<V.length;t+=1)V[t].m(A,null);Object(r.c)(c,k),Object(r.c)(c,D),Object(r.c)(D,I),L=!0,N=[Object(r.I)(_,"click",t[14]),Object(r.I)(e,"mouseleave",t[24]),Object(r.I)(e,"mouseenter",t[25]),Object(r.I)(e,"click",t[26])]},p(t,n){if((!L||1&n[0])&&(i.innerHTML=t[0]),(!L||12&n[0]&&o!==(o="icon iconfont iconfont-line "+(t[2]===t[3].currentTool?"item-icon-selected":"")+" svelte-10iwax9"))&&Object(r.e)(i,"class",o),t[2]===t[3].currentTool?F?F.p(t,n):(F=dt(t),F.c(),F.m(e,a)):F&&(F.d(1),F=null),(!L||2&n[0])&&Object(r.T)(u,t[1]),2072&n[0]){let e;for(B=t[4],e=0;e<B.length;e+=1){const r=ht(t,B,e);U[e]?U[e].p(r,n):(U[e]=pt(r),U[e].c(),U[e].m(d,null))}for(;e<U.length;e+=1)U[e].d(1);U.length=B.length}if(4136&n[0]){let e;for(z=t[5],e=0;e<z.length;e+=1){const r=ut(t,z,e);X[e]?X[e].p(r,n):(X[e]=ft(r),X[e].c(),X[e].m(v,y))}for(;e<X.length;e+=1)X[e].d(1);X.length=z.length}if(t[3].currentLinePoiShow?Y?Object(r.Z)(Y,1):(Y=gt(),Y.c(),Object(r.Z)(Y,1),Y.m(x,null)):Y&&(Object(r.D)(),Object(r.ab)(Y,1,1,()=>{Y=null}),Object(r.g)()),(!L||8&n[0]&&O!==(O="choose-edit-control "+(t[3].currentLinePoiShow?"choose-edit-control-selected":"")+" svelte-10iwax9"))&&Object(r.e)(x,"class",O),8392&n[0]){let e;for(G=t[6],e=0;e<G.length;e+=1){const r=lt(t,G,e);V[e]?V[e].p(r,n):(V[e]=vt(r),V[e].c(),V[e].m(A,null))}for(;e<V.length;e+=1)V[e].d(1);V.length=G.length}(!L||256&n[0]&&M!==(M="line-handle-tip item-base-tip "+(t[8]?"d-f":"d-n")+" svelte-10iwax9"))&&Object(r.e)(c,"class",M),(!L||12&n[0]&&R!==(R="item-base "+(t[2]===t[3].currentTool?"item-base-selected":"")+" svelte-10iwax9"))&&Object(r.e)(e,"class",R)},i(t){L||(Object(r.Z)(Y),L=!0)},o(t){Object(r.ab)(Y),L=!1},d(t){t&&Object(r.t)(e),F&&F.d(),Object(r.s)(U,t),Object(r.s)(X,t),Y&&Y.d(),Object(r.s)(V,t),Object(r.Q)(N)}}}function bt(t,e,n){const r=Object(i.b)();let{defaultBg:o=""}=e,{selectedBg:s=""}=e,{lable:a=""}=e,{selected:c=!1}=e,{value:l=""}=e,{iconfont:u=""}=e,{currentStatus:h={}}=e,{shapes:d=[]}=e,{colorkinds:p=[]}=e,{sizeContent:f=[]}=e,{colorContent:g=[]}=e,{iconselect:m=""}=e,v=!1,y=null;function b(t){r("message",{name:t})}function w(t){y&&(clearTimeout(y),y=null),y=setTimeout(()=>{n(8,v=t)},t?0:200)}function _(t,e){t.stopPropagation(),r("message",{name:l,childContentVal:e.value,kind:"currentLine"})}function x(t,e){t.stopPropagation(),r("message",{name:l,childContentVal:e.value,kind:"currentLineSize"})}function O(t,e){t.stopPropagation(),r("message",{name:l,childContentVal:e.value,kind:"currentLineColor"})}return t.$set=t=>{"defaultBg"in t&&n(15,o=t.defaultBg),"selectedBg"in t&&n(16,s=t.selectedBg),"lable"in t&&n(1,a=t.lable),"selected"in t&&n(17,c=t.selected),"value"in t&&n(2,l=t.value),"iconfont"in t&&n(0,u=t.iconfont),"currentStatus"in t&&n(3,h=t.currentStatus),"shapes"in t&&n(4,d=t.shapes),"colorkinds"in t&&n(18,p=t.colorkinds),"sizeContent"in t&&n(5,f=t.sizeContent),"colorContent"in t&&n(6,g=t.colorContent),"iconselect"in t&&n(7,m=t.iconselect)},t.$$.update=()=>{if(24&t.$$.dirty[0])for(let t=0;t<d.length;t++)if(d[t].value===h.currentLine){n(0,u=d[t].iconfont);break}},[u,a,l,h,d,f,g,m,v,b,w,_,x,O,function(t){t.stopPropagation(),r("message",{name:l,childContentVal:!h.currentLinePoiShow,kind:"currentLinePoiShow"})},o,s,c,p,y,r,(t,e)=>_(e,t),(t,e)=>x(e,t),(t,e)=>O(e,t),()=>w(!1),()=>w(!0),()=>b(l)]}class wt extends r.a{constructor(t){var e;super(),document.getElementById("svelte-10iwax9-style")||((e=Object(r.u)("style")).id="svelte-10iwax9-style",e.textContent='.iconfont.svelte-10iwax9.svelte-10iwax9{font-family:"iconfont" !important;font-size:22px;font-style:normal;color:#B4B9C5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-item.svelte-10iwax9.svelte-10iwax9{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.item-icon-selected.svelte-10iwax9.svelte-10iwax9{color:white!important}.item-base.svelte-10iwax9.svelte-10iwax9:hover{background-color:rgba(0, 0, 0, .4);border-radius:4px}.item-base.svelte-10iwax9:hover .item-base-tip.svelte-10iwax9{transform:translateX(48px);opacity:0.94}.item-base-tip.svelte-10iwax9.svelte-10iwax9{user-select:none;position:absolute;transform:translateX(-100px);opacity:0;transition-property:transform, opacity;transition-duration:.2s;transition-timing-function:ease-out;display:flex;top:8px;align-items:center;justify-content:center;flex-direction:column;background:rgba(46, 48, 55, 1);box-shadow:0px 2px 4px 0px rgba(0, 0, 0, 0.5);border:1px solid rgba(67, 71, 82, 1);color:#B4B9C5;font-size:14px;border-radius:2px;z-index:1}.item-base-tip.svelte-10iwax9.svelte-10iwax9::before{content:"";position:absolute;top:6px;left:-5px;padding:4px;background-color:inherit;border:inherit;border-right:0;border-bottom:0;transform:rotate(-45deg)}.item-base.svelte-10iwax9:hover .item-base-tip.svelte-10iwax9{transform:translateX(48px);opacity:0.94}.item-base.svelte-10iwax9.svelte-10iwax9{position:relative;cursor:pointer;width:38px;height:38px;margin:auto;border:4px solid rgba(46, 48, 55, 1);align-items:center}.item-base-selected.svelte-10iwax9.svelte-10iwax9{background-color:rgba(0, 0, 0, .4);border-radius:4px}.d-n.svelte-10iwax9.svelte-10iwax9{display:none}.d-f.svelte-10iwax9.svelte-10iwax9{display:flex}.brush-size-item-selected.svelte-10iwax9.svelte-10iwax9{background-color:#EF4C4F;border-radius:50%}.pen-size-child.svelte-10iwax9.svelte-10iwax9{border-radius:50%;background-color:white}.choose-edit-control.svelte-10iwax9.svelte-10iwax9{width:12px;height:12px;border-radius:2px;margin-right:6px;border:1px solid rgba(255,255,255,0.3)}.choose-edit-control-selected.svelte-10iwax9.svelte-10iwax9{background:rgba(239,76,79,1);border-radius:2px;color:white;align-items:center;justify-content:center;font-weight:900;display:flex}.choose-edit-poi.svelte-10iwax9.svelte-10iwax9{font-size:12px;font-weight:400;color:rgba(180,185,197,1);line-height:16px;display:flex;align-items:center}.shape-handle-tip.svelte-10iwax9.svelte-10iwax9{transform:translateX(40px) translateY(-60px);padding:6px 12px 12px 12px;width:414px}.shape-title.svelte-10iwax9.svelte-10iwax9{display:flex;width:100%}.shape-shapes.svelte-10iwax9.svelte-10iwax9{display:flex;width:100%;padding:12px 0px 12px 0px}.shape-size-kind.svelte-10iwax9.svelte-10iwax9{display:flex;width:100%}.shape-split-line.svelte-10iwax9.svelte-10iwax9{height:1px;width:100%;background-color:#191A1E;box-shadow:0px 1px 0px 0px rgba(255,255,255,0.1)}.shape-size-kind-item.svelte-10iwax9.svelte-10iwax9{display:flex;align-items:center;margin-right:20px}.shape-column-split.svelte-10iwax9.svelte-10iwax9{width:1px;height:16px;background-color:rgba(255, 255, 255, .2);align-self:center;display:flex;margin:0px 30px 0px 0px}.shape-tool-tip.svelte-10iwax9.svelte-10iwax9{width:100%;height:17px;font-size:12px;font-family:PingFangSC;font-weight:400;color:rgba(180, 185, 197, 1);line-height:17px}.shape-size-item.svelte-10iwax9.svelte-10iwax9{width:30px;justify-content:flex-start;display:flex;height:100%;align-items:center}.shape-sizes.svelte-10iwax9.svelte-10iwax9{display:flex;height:40px;align-items:center}.shape-colors.svelte-10iwax9.svelte-10iwax9{width:100%;height:42px;display:flex;align-items:center}.shape-item.svelte-10iwax9.svelte-10iwax9{display:flex;align-items:center;margin-right:20px}.shape-color-item.svelte-10iwax9.svelte-10iwax9{width:29.3px;display:flex;height:38px;align-items:center;justify-content:flex-start}.item-base.svelte-10iwax9:hover .line-handle-tip.svelte-10iwax9{transform:translateX(48px) translateY(-60px)}.line-handle-tip.svelte-10iwax9.svelte-10iwax9{transform:translateX(40px) translateY(-60px);padding:6px 12px 6px 12px;width:226px}.line-handle-tip.svelte-10iwax9.svelte-10iwax9::before{top:70px}.brush-color-content.svelte-10iwax9.svelte-10iwax9{width:16px;height:16px;border-radius:1px;position:relative}.brush-color-content-selected.svelte-10iwax9.svelte-10iwax9{border:1px solid rgba(255,255,255,1)}.brush-color-item-selected.svelte-10iwax9.svelte-10iwax9{width:8px;height:8px;background-position:center;background-repeat:no-repeat;background-size:contain;position:absolute;right:-4px;bottom:-4px}.color-point.svelte-10iwax9.svelte-10iwax9{position:absolute;bottom:3px;right:3px;width:6px;height:6px}',Object(r.c)(document.head,e)),Object(r.F)(this,t,bt,yt,r.R,{defaultBg:15,selectedBg:16,lable:1,selected:17,value:2,iconfont:0,currentStatus:3,shapes:4,colorkinds:18,sizeContent:5,colorContent:6,iconselect:7},[-1,-1])}}var _t=wt;function xt(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function Ot(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function St(t){let e;return{c(){e=Object(r.u)("div"),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0,style:!0}),Object(r.h)(e).forEach(r.t),this.h()},h(){Object(r.e)(e,"class","color-point svelte-jutndb"),Object(r.U)(e,"background-color",t[5].currentCoordColor)},m(t,n){Object(r.G)(t,e,n)},p(t,n){32&n&&Object(r.U)(e,"background-color",t[5].currentCoordColor)},d(t){t&&Object(r.t)(e)}}}function jt(t){let e,n,i,o,s,a;function c(...e){return t[17](t[22],...e)}return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),o=Object(r.V)(),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var i=Object(r.h)(e);n=Object(r.j)(i,"DIV",{class:!0,style:!0}),Object(r.h)(n).forEach(r.t),o=Object(r.k)(i),i.forEach(r.t),this.h()},h(){var o;Object(r.e)(n,"class",i=Object(r.L)(t[22].value===t[5].currentCoordSize?"brush-size-item-selected":"pen-size-child")+" svelte-jutndb"),Object(r.U)(n,"width",2*t[22].value+"px"),Object(r.U)(n,"height",2*t[22].value+"px"),Object(r.U)(n,"margin-right","'5px'}"),Object(r.e)(e,"class",(o=t[24],s=(0===o?"text-size-item-0":2===o?"text-size-item-1":"text-size-item-left")+" pen-size svelte-jutndb"))},m(t,i){Object(r.G)(t,e,i),Object(r.c)(e,n),Object(r.c)(e,o),a=Object(r.I)(e,"click",c)},p(e,o){t=e,36&o&&i!==(i=Object(r.L)(t[22].value===t[5].currentCoordSize?"brush-size-item-selected":"pen-size-child")+" svelte-jutndb")&&Object(r.e)(n,"class",i),4&o&&Object(r.U)(n,"width",2*t[22].value+"px"),4&o&&Object(r.U)(n,"height",2*t[22].value+"px")},d(t){t&&Object(r.t)(e),a()}}}function Et(t){let e;return{c(){e=Object(r.u)("div"),this.h()},l(t){e=Object(r.j)(t,"DIV",{style:!0,class:!0}),Object(r.h)(e).forEach(r.t),this.h()},h(){Object(r.U)(e,"background-image","url("+t[6]+")"),Object(r.e)(e,"class","brush-color-item-selected svelte-jutndb")},m(t,n){Object(r.G)(t,e,n)},p(t,n){64&n&&Object(r.U)(e,"background-image","url("+t[6]+")")},d(t){t&&Object(r.t)(e)}}}function Tt(t){let e,n,i,o,s,a,c=t[22].value===t[5].currentCoordColor&&Et(t);function l(...e){return t[18](t[22],...e)}return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),c&&c.c(),o=Object(r.V)(),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var i=Object(r.h)(e);n=Object(r.j)(i,"DIV",{style:!0,class:!0});var s=Object(r.h)(n);c&&c.l(s),s.forEach(r.t),o=Object(r.k)(i),i.forEach(r.t),this.h()},h(){Object(r.U)(n,"background-color",t[22].value),Object(r.e)(n,"class",i="brush-color-content "+(t[22].value===t[5].currentCoordColor?"brush-color-content-selected":"")+" svelte-jutndb"),Object(r.e)(e,"class",s=Object(r.L)((t[24],"brush-color-item-0"))+" svelte-jutndb")},m(t,i){Object(r.G)(t,e,i),Object(r.c)(e,n),c&&c.m(n,null),Object(r.c)(e,o),a=Object(r.I)(e,"click",l)},p(e,o){(t=e)[22].value===t[5].currentCoordColor?c?c.p(t,o):(c=Et(t),c.c(),c.m(n,null)):c&&(c.d(1),c=null),8&o&&Object(r.U)(n,"background-color",t[22].value),40&o&&i!==(i="brush-color-content "+(t[22].value===t[5].currentCoordColor?"brush-color-content-selected":"")+" svelte-jutndb")&&Object(r.e)(n,"class",i)},d(t){t&&Object(r.t)(e),c&&c.d(),a()}}}function Pt(t){let e,n,i,o,s,a,c,l,u,h,d,p,f,g,m,v,y,b,w,_,x,O=t[1]===t[5].currentTool&&St(t),S=t[2],j=[];for(let e=0;e<S.length;e+=1)j[e]=jt(Ot(t,S,e));let E=t[3],T=[];for(let e=0;e<E.length;e+=1)T[e]=Tt(xt(t,E,e));return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),i=Object(r.u)("span"),s=Object(r.V)(),O&&O.c(),a=Object(r.V)(),c=Object(r.u)("div"),l=Object(r.u)("div"),u=Object(r.Y)(t[0]),h=Object(r.V)(),d=Object(r.u)("div");for(let t=0;t<j.length;t+=1)j[t].c();p=Object(r.V)(),f=Object(r.u)("div"),g=Object(r.V)(),m=Object(r.u)("div");for(let t=0;t<T.length;t+=1)T[t].c();v=Object(r.V)(),y=Object(r.u)("div"),b=Object(r.Y)("shift"),this.h()},l(o){e=Object(r.j)(o,"DIV",{class:!0});var w=Object(r.h)(e);n=Object(r.j)(w,"DIV",{class:!0});var _=Object(r.h)(n);i=Object(r.j)(_,"SPAN",{class:!0}),Object(r.h)(i).forEach(r.t),_.forEach(r.t),s=Object(r.k)(w),O&&O.l(w),a=Object(r.k)(w),c=Object(r.j)(w,"DIV",{class:!0});var x=Object(r.h)(c);l=Object(r.j)(x,"DIV",{class:!0});var S=Object(r.h)(l);u=Object(r.l)(S,t[0]),S.forEach(r.t),h=Object(r.k)(x),d=Object(r.j)(x,"DIV",{class:!0});var E=Object(r.h)(d);for(let t=0;t<j.length;t+=1)j[t].l(E);E.forEach(r.t),p=Object(r.k)(x),f=Object(r.j)(x,"DIV",{class:!0}),Object(r.h)(f).forEach(r.t),g=Object(r.k)(x),m=Object(r.j)(x,"DIV",{class:!0});var P=Object(r.h)(m);for(let t=0;t<T.length;t+=1)T[t].l(P);P.forEach(r.t),v=Object(r.k)(x),y=Object(r.j)(x,"DIV",{class:!0});var C=Object(r.h)(y);b=Object(r.l)(C,"shift"),C.forEach(r.t),x.forEach(r.t),w.forEach(r.t),this.h()},h(){Object(r.e)(i,"class",o="icon iconfont "+(t[1]===t[5].currentTool?"item-icon-selected":"")+" svelte-jutndb"),Object(r.e)(n,"class","icon-item svelte-jutndb"),Object(r.e)(l,"class","brush-title svelte-jutndb"),Object(r.e)(d,"class","brush-sizes svelte-jutndb"),Object(r.e)(f,"class","brush-line svelte-jutndb"),Object(r.e)(m,"class","brush-colors svelte-jutndb"),Object(r.e)(y,"class","text-read-tip svelte-jutndb"),Object(r.e)(c,"class",w="coord-handle-tip item-base-tip "+(t[7]?"d-f":"d-n")+" svelte-jutndb"),Object(r.e)(e,"class",_="item-base "+(t[5].currentTool===t[1]?"item-base-selected":"")+" svelte-jutndb")},m(o,w){Object(r.G)(o,e,w),Object(r.c)(e,n),Object(r.c)(n,i),i.innerHTML=t[4],Object(r.c)(e,s),O&&O.m(e,null),Object(r.c)(e,a),Object(r.c)(e,c),Object(r.c)(c,l),Object(r.c)(l,u),Object(r.c)(c,h),Object(r.c)(c,d);for(let t=0;t<j.length;t+=1)j[t].m(d,null);Object(r.c)(c,p),Object(r.c)(c,f),Object(r.c)(c,g),Object(r.c)(c,m);for(let t=0;t<T.length;t+=1)T[t].m(m,null);Object(r.c)(c,v),Object(r.c)(c,y),Object(r.c)(y,b),x=[Object(r.I)(e,"mouseleave",t[19]),Object(r.I)(e,"mouseenter",t[20]),Object(r.I)(e,"click",t[21])]},p(t,[n]){if(16&n&&(i.innerHTML=t[4]),34&n&&o!==(o="icon iconfont "+(t[1]===t[5].currentTool?"item-icon-selected":"")+" svelte-jutndb")&&Object(r.e)(i,"class",o),t[1]===t[5].currentTool?O?O.p(t,n):(O=St(t),O.c(),O.m(e,a)):O&&(O.d(1),O=null),1&n&&Object(r.T)(u,t[0]),548&n){let e;for(S=t[2],e=0;e<S.length;e+=1){const r=Ot(t,S,e);j[e]?j[e].p(r,n):(j[e]=jt(r),j[e].c(),j[e].m(d,null))}for(;e<j.length;e+=1)j[e].d(1);j.length=S.length}if(1128&n){let e;for(E=t[3],e=0;e<E.length;e+=1){const r=xt(t,E,e);T[e]?T[e].p(r,n):(T[e]=Tt(r),T[e].c(),T[e].m(m,null))}for(;e<T.length;e+=1)T[e].d(1);T.length=E.length}128&n&&w!==(w="coord-handle-tip item-base-tip "+(t[7]?"d-f":"d-n")+" svelte-jutndb")&&Object(r.e)(c,"class",w),34&n&&_!==(_="item-base "+(t[5].currentTool===t[1]?"item-base-selected":"")+" svelte-jutndb")&&Object(r.e)(e,"class",_)},i:r.K,o:r.K,d(t){t&&Object(r.t)(e),O&&O.d(),Object(r.s)(j,t),Object(r.s)(T,t),Object(r.Q)(x)}}}function Ct(t,e,n){const r=Object(i.b)();let{defaultBg:o=""}=e,{selectedBg:s=""}=e,{lable:a=""}=e,{selected:c=!1}=e,{value:l=""}=e,{sizeContent:u=[]}=e,{colorContent:h=[]}=e,{iconfont:d=""}=e,{currentStatus:p={}}=e,{iconselect:f=""}=e,g=!1,m=null;function v(t){r("message",{name:t})}function y(t,e){t.stopPropagation(),r("message",{name:l,childContentVal:e.value,kind:"currentCoordSize"})}function b(t,e){t.stopPropagation(),r("message",{name:l,childContentVal:e.value,kind:"currentCoordColor"})}function w(t){m&&(clearTimeout(m),m=null),m=setTimeout(()=>{n(7,g=t)},t?0:200)}return t.$set=t=>{"defaultBg"in t&&n(12,o=t.defaultBg),"selectedBg"in t&&n(13,s=t.selectedBg),"lable"in t&&n(0,a=t.lable),"selected"in t&&n(14,c=t.selected),"value"in t&&n(1,l=t.value),"sizeContent"in t&&n(2,u=t.sizeContent),"colorContent"in t&&n(3,h=t.colorContent),"iconfont"in t&&n(4,d=t.iconfont),"currentStatus"in t&&n(5,p=t.currentStatus),"iconselect"in t&&n(6,f=t.iconselect)},[a,l,u,h,d,p,f,g,v,y,b,w,o,s,c,m,r,(t,e)=>y(e,t),(t,e)=>b(e,t),()=>w(!1),()=>w(!0),()=>v(l)]}class At extends r.a{constructor(t){var e;super(),document.getElementById("svelte-jutndb-style")||((e=Object(r.u)("style")).id="svelte-jutndb-style",e.textContent='.iconfont.svelte-jutndb.svelte-jutndb{font-family:"iconfont" !important;font-size:22px;font-style:normal;color:#B4B9C5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-item.svelte-jutndb.svelte-jutndb{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.item-icon-selected.svelte-jutndb.svelte-jutndb{color:white!important}.text-read-tip.svelte-jutndb.svelte-jutndb{font-size:12px;font-weight:400;color:#737883;line-height:17px;align-self:flex-start}.brush-color-item-selected.svelte-jutndb.svelte-jutndb{width:8px;height:8px;background-position:center;background-repeat:no-repeat;background-size:contain;position:absolute;right:-4px;bottom:-4px}.brush-color-content.svelte-jutndb.svelte-jutndb{width:16px;height:16px;border-radius:1px;position:relative}.brush-color-content-selected.svelte-jutndb.svelte-jutndb{border:1px solid rgba(255,255,255,1)}.brush-colors.svelte-jutndb.svelte-jutndb{width:100%;display:flex;align-items:center}.brush-line.svelte-jutndb.svelte-jutndb{width:100%;height:1px;background-color:#191A1E;box-shadow:0px 1px 0px 0px rgba(255,255,255,0.1)}.brush-sizes.svelte-jutndb.svelte-jutndb{width:100%;display:flex;height:40px;align-items:center}.brush-size-item-0.svelte-jutndb.svelte-jutndb{justify-content:flex-start}.brush-size-item-1.svelte-jutndb.svelte-jutndb{justify-content:flex-end}.brush-size-item-left.svelte-jutndb.svelte-jutndb{justify-content:center}.brush-size-item-selected.svelte-jutndb.svelte-jutndb{background-color:#EF4C4F;border-radius:50%}.pen-size-child.svelte-jutndb.svelte-jutndb{border-radius:50%;background-color:white}.pen-size.svelte-jutndb.svelte-jutndb{width:20px;height:20px;display:flex;align-items:center}.brush-color-item-0.svelte-jutndb.svelte-jutndb{width:29.3px;display:flex;height:38px;align-items:center;justify-content:flex-start}.brush-title.svelte-jutndb.svelte-jutndb{width:100%;cursor:default}.item-base-selected.svelte-jutndb.svelte-jutndb{background-color:rgba(0, 0, 0, .4);border-radius:4px}.item-base.svelte-jutndb.svelte-jutndb:hover{background-color:rgba(0, 0, 0, .4);border-radius:4px}.item-base.svelte-jutndb:hover .item-base-tip.svelte-jutndb{transform:translateX(48px);opacity:0.94}.item-base.svelte-jutndb.svelte-jutndb{position:relative;cursor:pointer;width:38px;height:38px;margin:auto;border:4px solid rgba(46, 48, 55, 1);align-items:center}.item-base-tip.svelte-jutndb.svelte-jutndb{user-select:none;position:absolute;transform:translateX(-100px);opacity:0;transition-property:transform, opacity;transition-duration:.2s;transition-timing-function:ease-out;display:flex;top:8px;align-items:center;justify-content:center;flex-direction:column;background:rgba(46, 48, 55, 1);box-shadow:0px 2px 4px 0px rgba(0, 0, 0, 0.5);border:1px solid rgba(67, 71, 82, 1);color:#B4B9C5;font-size:14px;border-radius:2px;z-index:1}.d-n.svelte-jutndb.svelte-jutndb{display:none}.d-f.svelte-jutndb.svelte-jutndb{display:flex}.color-point.svelte-jutndb.svelte-jutndb{position:absolute;bottom:3px;right:3px;width:6px;height:6px}.coord-handle-tip.svelte-jutndb.svelte-jutndb{transform:translateX(40px) translateY(-50px);width:226px;padding:6px 12px 12px 12px}',Object(r.c)(document.head,e)),Object(r.F)(this,t,Ct,Pt,r.R,{defaultBg:12,selectedBg:13,lable:0,selected:14,value:1,sizeContent:2,colorContent:3,iconfont:4,currentStatus:5,iconselect:6})}}var kt=At;function Dt(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function It(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function Mt(t){let e;return{c(){e=Object(r.u)("div"),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0,style:!0}),Object(r.h)(e).forEach(r.t),this.h()},h(){Object(r.e)(e,"class","color-point svelte-1ubzhzs"),Object(r.U)(e,"background-color",t[5].currentTextColor)},m(t,n){Object(r.G)(t,e,n)},p(t,n){32&n&&Object(r.U)(e,"background-color",t[5].currentTextColor)},d(t){t&&Object(r.t)(e)}}}function Rt(t){let e,n,i,o,s,a,c;function l(...e){return t[17](t[22],...e)}return{c(){e=Object(r.u)("div"),n=Object(r.u)("span"),s=Object(r.V)(),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var i=Object(r.h)(e);n=Object(r.j)(i,"SPAN",{style:!0,class:!0}),Object(r.h)(n).forEach(r.t),s=Object(r.k)(i),i.forEach(r.t),this.h()},h(){var s;Object(r.e)(n,"style",i="font-size: "+t[22].value/(t[24]===t[2].length-1?1:2)+"px;"+(t[22].value===t[5].currentTextSize?`color:${t[5].currentTextColor}`:"")),Object(r.e)(n,"class",o="icon iconfont "+(t[22].value===t[5].currentTextSize?"text-size-item-selected":"")+" svelte-1ubzhzs"),Object(r.e)(e,"class",(s=t[24],a=(0===s?"text-size-item-0":2===s?"text-size-item-1":"text-size-item-left")+" text-item-size svelte-1ubzhzs"))},m(i,o){Object(r.G)(i,e,o),Object(r.c)(e,n),n.innerHTML=t[4],Object(r.c)(e,s),c=Object(r.I)(e,"click",l)},p(e,s){t=e,16&s&&(n.innerHTML=t[4]),36&s&&i!==(i="font-size: "+t[22].value/(t[24]===t[2].length-1?1:2)+"px;"+(t[22].value===t[5].currentTextSize?`color:${t[5].currentTextColor}`:""))&&Object(r.e)(n,"style",i),36&s&&o!==(o="icon iconfont "+(t[22].value===t[5].currentTextSize?"text-size-item-selected":"")+" svelte-1ubzhzs")&&Object(r.e)(n,"class",o)},d(t){t&&Object(r.t)(e),c()}}}function Lt(t){let e;return{c(){e=Object(r.u)("div"),this.h()},l(t){e=Object(r.j)(t,"DIV",{style:!0,class:!0}),Object(r.h)(e).forEach(r.t),this.h()},h(){Object(r.U)(e,"background-image","url("+t[6]+")"),Object(r.e)(e,"class","brush-color-item-selected svelte-1ubzhzs")},m(t,n){Object(r.G)(t,e,n)},p(t,n){64&n&&Object(r.U)(e,"background-image","url("+t[6]+")")},d(t){t&&Object(r.t)(e)}}}function Nt(t){let e,n,i,o,s,a,c=t[22].value===t[5].currentTextColor&&Lt(t);function l(...e){return t[18](t[22],...e)}return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),c&&c.c(),o=Object(r.V)(),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var i=Object(r.h)(e);n=Object(r.j)(i,"DIV",{style:!0,class:!0});var s=Object(r.h)(n);c&&c.l(s),s.forEach(r.t),o=Object(r.k)(i),i.forEach(r.t),this.h()},h(){Object(r.U)(n,"background-color",t[22].value),Object(r.e)(n,"class",i="brush-color-content "+(t[22].value===t[5].currentTextColor?"brush-color-content-selected":"")+" svelte-1ubzhzs"),Object(r.e)(e,"class",s=Object(r.L)((t[24],"brush-color-item-0"))+" svelte-1ubzhzs")},m(t,i){Object(r.G)(t,e,i),Object(r.c)(e,n),c&&c.m(n,null),Object(r.c)(e,o),a=Object(r.I)(e,"click",l)},p(e,o){(t=e)[22].value===t[5].currentTextColor?c?c.p(t,o):(c=Lt(t),c.c(),c.m(n,null)):c&&(c.d(1),c=null),8&o&&Object(r.U)(n,"background-color",t[22].value),40&o&&i!==(i="brush-color-content "+(t[22].value===t[5].currentTextColor?"brush-color-content-selected":"")+" svelte-1ubzhzs")&&Object(r.e)(n,"class",i)},d(t){t&&Object(r.t)(e),c&&c.d(),a()}}}function Ft(t){let e,n,i,o,s,a,c,l,u,h,d,p,f,g,m,v,y,b,w,_,x,O=t[1]===t[5].currentTool&&Mt(t),S=t[2],j=[];for(let e=0;e<S.length;e+=1)j[e]=Rt(It(t,S,e));let E=t[3],T=[];for(let e=0;e<E.length;e+=1)T[e]=Nt(Dt(t,E,e));return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),i=Object(r.u)("span"),s=Object(r.V)(),O&&O.c(),a=Object(r.V)(),c=Object(r.u)("div"),l=Object(r.u)("div"),u=Object(r.Y)(t[0]),h=Object(r.V)(),d=Object(r.u)("div");for(let t=0;t<j.length;t+=1)j[t].c();p=Object(r.V)(),f=Object(r.u)("div"),g=Object(r.V)(),m=Object(r.u)("div");for(let t=0;t<T.length;t+=1)T[t].c();v=Object(r.V)(),y=Object(r.u)("div"),b=Object(r.Y)(""),this.h()},l(o){e=Object(r.j)(o,"DIV",{class:!0});var w=Object(r.h)(e);n=Object(r.j)(w,"DIV",{class:!0});var _=Object(r.h)(n);i=Object(r.j)(_,"SPAN",{class:!0}),Object(r.h)(i).forEach(r.t),_.forEach(r.t),s=Object(r.k)(w),O&&O.l(w),a=Object(r.k)(w),c=Object(r.j)(w,"DIV",{class:!0});var x=Object(r.h)(c);l=Object(r.j)(x,"DIV",{class:!0});var S=Object(r.h)(l);u=Object(r.l)(S,t[0]),S.forEach(r.t),h=Object(r.k)(x),d=Object(r.j)(x,"DIV",{class:!0});var E=Object(r.h)(d);for(let t=0;t<j.length;t+=1)j[t].l(E);E.forEach(r.t),p=Object(r.k)(x),f=Object(r.j)(x,"DIV",{class:!0}),Object(r.h)(f).forEach(r.t),g=Object(r.k)(x),m=Object(r.j)(x,"DIV",{class:!0});var P=Object(r.h)(m);for(let t=0;t<T.length;t+=1)T[t].l(P);P.forEach(r.t),v=Object(r.k)(x),y=Object(r.j)(x,"DIV",{class:!0});var C=Object(r.h)(y);b=Object(r.l)(C,""),C.forEach(r.t),x.forEach(r.t),w.forEach(r.t),this.h()},h(){Object(r.e)(i,"class",o="icon iconfont iconfont-text "+(t[1]===t[5].currentTool?"item-icon-selected":"")+" svelte-1ubzhzs"),Object(r.e)(n,"class","icon-item svelte-1ubzhzs"),Object(r.e)(l,"class","brush-title svelte-1ubzhzs"),Object(r.e)(d,"class","text-sizes svelte-1ubzhzs"),Object(r.e)(f,"class","brush-line svelte-1ubzhzs"),Object(r.e)(m,"class","brush-colors svelte-1ubzhzs"),Object(r.e)(y,"class","text-read-tip svelte-1ubzhzs"),Object(r.e)(c,"class",w="text-handle-tip item-base-tip "+(t[7]?"d-f":"d-n")+" svelte-1ubzhzs"),Object(r.e)(e,"class",_="item-base "+(t[5].currentTool===t[1]?"item-base-selected":"")+" svelte-1ubzhzs")},m(o,w){Object(r.G)(o,e,w),Object(r.c)(e,n),Object(r.c)(n,i),i.innerHTML=t[4],Object(r.c)(e,s),O&&O.m(e,null),Object(r.c)(e,a),Object(r.c)(e,c),Object(r.c)(c,l),Object(r.c)(l,u),Object(r.c)(c,h),Object(r.c)(c,d);for(let t=0;t<j.length;t+=1)j[t].m(d,null);Object(r.c)(c,p),Object(r.c)(c,f),Object(r.c)(c,g),Object(r.c)(c,m);for(let t=0;t<T.length;t+=1)T[t].m(m,null);Object(r.c)(c,v),Object(r.c)(c,y),Object(r.c)(y,b),x=[Object(r.I)(e,"mouseleave",t[19]),Object(r.I)(e,"mouseenter",t[20]),Object(r.I)(e,"click",t[21])]},p(t,[n]){if(16&n&&(i.innerHTML=t[4]),34&n&&o!==(o="icon iconfont iconfont-text "+(t[1]===t[5].currentTool?"item-icon-selected":"")+" svelte-1ubzhzs")&&Object(r.e)(i,"class",o),t[1]===t[5].currentTool?O?O.p(t,n):(O=Mt(t),O.c(),O.m(e,a)):O&&(O.d(1),O=null),1&n&&Object(r.T)(u,t[0]),564&n){let e;for(S=t[2],e=0;e<S.length;e+=1){const r=It(t,S,e);j[e]?j[e].p(r,n):(j[e]=Rt(r),j[e].c(),j[e].m(d,null))}for(;e<j.length;e+=1)j[e].d(1);j.length=S.length}if(1128&n){let e;for(E=t[3],e=0;e<E.length;e+=1){const r=Dt(t,E,e);T[e]?T[e].p(r,n):(T[e]=Nt(r),T[e].c(),T[e].m(m,null))}for(;e<T.length;e+=1)T[e].d(1);T.length=E.length}128&n&&w!==(w="text-handle-tip item-base-tip "+(t[7]?"d-f":"d-n")+" svelte-1ubzhzs")&&Object(r.e)(c,"class",w),34&n&&_!==(_="item-base "+(t[5].currentTool===t[1]?"item-base-selected":"")+" svelte-1ubzhzs")&&Object(r.e)(e,"class",_)},i:r.K,o:r.K,d(t){t&&Object(r.t)(e),O&&O.d(),Object(r.s)(j,t),Object(r.s)(T,t),Object(r.Q)(x)}}}function Bt(t,e,n){const r=Object(i.b)();let{defaultBg:o=""}=e,{selectedBg:s=""}=e,{lable:a=""}=e,{selected:c=!1}=e,{value:l=""}=e,{sizeContent:u=[]}=e,{colorContent:h=[]}=e,{iconfont:d=""}=e,{currentStatus:p={}}=e,{iconselect:f=""}=e,g=!1,m=null;function v(t){r("message",{name:t})}function y(t,e){t.stopPropagation(),r("message",{name:l,childContentVal:e.value,kind:"currentTextSize"})}function b(t,e){t.stopPropagation(),r("message",{name:l,childContentVal:e.value,kind:"currentTextColor"})}function w(t){m&&(clearTimeout(m),m=null),m=setTimeout(()=>{n(7,g=t)},t?0:200)}return t.$set=t=>{"defaultBg"in t&&n(12,o=t.defaultBg),"selectedBg"in t&&n(13,s=t.selectedBg),"lable"in t&&n(0,a=t.lable),"selected"in t&&n(14,c=t.selected),"value"in t&&n(1,l=t.value),"sizeContent"in t&&n(2,u=t.sizeContent),"colorContent"in t&&n(3,h=t.colorContent),"iconfont"in t&&n(4,d=t.iconfont),"currentStatus"in t&&n(5,p=t.currentStatus),"iconselect"in t&&n(6,f=t.iconselect)},[a,l,u,h,d,p,f,g,v,y,b,w,o,s,c,m,r,(t,e)=>y(e,t),(t,e)=>b(e,t),()=>w(!1),()=>w(!0),()=>v(l)]}class Ut extends r.a{constructor(t){var e;super(),document.getElementById("svelte-1ubzhzs-style")||((e=Object(r.u)("style")).id="svelte-1ubzhzs-style",e.textContent='.iconfont.svelte-1ubzhzs.svelte-1ubzhzs{font-family:"iconfont" !important;font-size:22px;font-style:normal;color:#B4B9C5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-item.svelte-1ubzhzs.svelte-1ubzhzs{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.item-icon-selected.svelte-1ubzhzs.svelte-1ubzhzs{color:white!important}.text-read-tip.svelte-1ubzhzs.svelte-1ubzhzs{font-size:12px;font-weight:400;color:#737883;line-height:17px;align-self:flex-start}.brush-color-item-selected.svelte-1ubzhzs.svelte-1ubzhzs{width:8px;height:8px;background-position:center;background-repeat:no-repeat;background-size:contain;position:absolute;right:-4px;bottom:-4px}.brush-color-content.svelte-1ubzhzs.svelte-1ubzhzs{width:16px;height:16px;border-radius:1px;position:relative}.brush-color-content-selected.svelte-1ubzhzs.svelte-1ubzhzs{border:1px solid rgba(255,255,255,1)}.brush-colors.svelte-1ubzhzs.svelte-1ubzhzs{width:100%;display:flex;align-items:center}.brush-line.svelte-1ubzhzs.svelte-1ubzhzs{width:100%;height:1px;background-color:#191A1E;box-shadow:0px 1px 0px 0px rgba(255,255,255,0.1)}.brush-sizes.svelte-1ubzhzs.svelte-1ubzhzs{width:100%;display:flex;height:40px;align-items:center}.brush-size-item-0.svelte-1ubzhzs.svelte-1ubzhzs{justify-content:flex-start}.brush-size-item-1.svelte-1ubzhzs.svelte-1ubzhzs{justify-content:flex-end}.brush-size-item-left.svelte-1ubzhzs.svelte-1ubzhzs{justify-content:center}.brush-size-item-selected.svelte-1ubzhzs.svelte-1ubzhzs{background-color:#EF4C4F;border-radius:50%}.pen-size-child.svelte-1ubzhzs.svelte-1ubzhzs{border-radius:50%;background-color:white}.pen-size.svelte-1ubzhzs.svelte-1ubzhzs{width:20px;height:20px;display:flex;align-items:center}.brush-color-item-0.svelte-1ubzhzs.svelte-1ubzhzs{width:29.3px;display:flex;height:38px;align-items:center;justify-content:flex-start}.brush-title.svelte-1ubzhzs.svelte-1ubzhzs{width:100%;cursor:default}.item-base-selected.svelte-1ubzhzs.svelte-1ubzhzs{background-color:rgba(0, 0, 0, .4);border-radius:4px}.item-base.svelte-1ubzhzs.svelte-1ubzhzs:hover{background-color:rgba(0, 0, 0, .4);border-radius:4px}.item-base.svelte-1ubzhzs:hover .item-base-tip.svelte-1ubzhzs{transform:translateX(48px);opacity:0.94}.item-base.svelte-1ubzhzs.svelte-1ubzhzs{position:relative;cursor:pointer;width:38px;height:38px;margin:auto;border:4px solid rgba(46, 48, 55, 1);align-items:center}.item-base-tip.svelte-1ubzhzs.svelte-1ubzhzs{user-select:none;position:absolute;transform:translateX(-100px);opacity:0;transition-property:transform, opacity;transition-duration:.2s;transition-timing-function:ease-out;display:flex;top:8px;align-items:center;justify-content:center;flex-direction:column;background:rgba(46, 48, 55, 1);box-shadow:0px 2px 4px 0px rgba(0, 0, 0, 0.5);border:1px solid rgba(67, 71, 82, 1);color:#B4B9C5;font-size:14px;border-radius:2px;z-index:1}.d-n.svelte-1ubzhzs.svelte-1ubzhzs{display:none}.d-f.svelte-1ubzhzs.svelte-1ubzhzs{display:flex}.color-point.svelte-1ubzhzs.svelte-1ubzhzs{position:absolute;bottom:3px;right:3px;width:6px;height:6px}.text-handle-tip.svelte-1ubzhzs.svelte-1ubzhzs{transform:translateX(40px) translateY(-50px);width:220px;padding:6px 12px 12px 12px}.text-sizes.svelte-1ubzhzs.svelte-1ubzhzs{display:flex;height:40px;align-items:center;justify-content:flex-start;align-self:flex-start}.text-item-size.svelte-1ubzhzs.svelte-1ubzhzs{width:20px;height:20px;display:flex;align-items:center;margin-right:18px}',Object(r.c)(document.head,e)),Object(r.F)(this,t,Bt,Ft,r.R,{defaultBg:12,selectedBg:13,lable:0,selected:14,value:1,sizeContent:2,colorContent:3,iconfont:4,currentStatus:5,iconselect:6})}}var zt=Ut;r.a;function Xt(t,e,n){const r={currentDel:null,currentTool:null,currentBrushSize:null,currentBrushColor:null,currentPolygonSize:null,currentPolygonColor:null,currentShape:null,currentShapeColor:null,currentShapeColorKind:null,currentShapeSize:null,currentLine:null,currentLineColor:null,currentLineSize:null,currentCoordSize:null,currentCoordColor:null,currentTextSize:null,currentTextColor:null};return"toolsmanager"!==t.detail.name&&(r.currentTool=t.detail.name),function(t,e){const{kind:n,childContentVal:r}=e;void 0!==n&&(t[n]=r)}(r,t.detail),r}const{window:Yt}=r.C;function Gt(t,e,n){const i=t.slice();return i[23]=e[n].comp,i[24]=Object(r.M)(e[n],["comp"]),i}function Vt(t){let e;return{c(){e=Object(r.u)("div"),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0}),Object(r.h)(e).forEach(r.t),this.h()},h(){Object(r.e)(e,"class","root svelte-16m7cbx")},m(n,i){Object(r.G)(n,e,i),t[22](e)},p:r.K,i:r.K,o:r.K,d(n){n&&Object(r.t)(e),t[22](null)}}}function Ht(t){let e,n,i,o,s,a,c=1===t[3]&&Wt(t),l=t[8].filter(t[20]),u=[];for(let e=0;e<l.length;e+=1)u[e]=qt(Gt(t,l,e));const h=t=>Object(r.ab)(u[t],1,1,()=>{u[t]=null});return{c(){e=Object(r.u)("div"),c&&c.c(),n=Object(r.V)(),i=Object(r.u)("div");for(let t=0;t<u.length;t+=1)u[t].c();this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var o=Object(r.h)(e);c&&c.l(o),n=Object(r.k)(o),i=Object(r.j)(o,"DIV",{class:!0,style:!0});var s=Object(r.h)(i);for(let t=0;t<u.length;t+=1)u[t].l(s);s.forEach(r.t),o.forEach(r.t),this.h()},h(){Object(r.e)(i,"class","tool-root svelte-16m7cbx"),Object(r.e)(i,"style",o=t[5]?"pointer-events:none;opacity:0.4;":""),Object(r.e)(e,"class",s="root "+("closed"===t[0]?"tool-toggle-close":"tool-toggle-open")+" "+(0===t[3]&&"zm-cloud-tool-bar-h-view")+" svelte-16m7cbx")},m(o,s){Object(r.G)(o,e,s),c&&c.m(e,null),Object(r.c)(e,n),Object(r.c)(e,i);for(let t=0;t<u.length;t+=1)u[t].m(i,null);t[21](e),a=!0},p(t,d){if(1===t[3]?c?c.p(t,d):(c=Wt(t),c.c(),c.m(e,n)):c&&(c.d(1),c=null),786&d){let e;for(l=t[8].filter(t[20]),e=0;e<l.length;e+=1){const n=Gt(t,l,e);u[e]?(u[e].p(n,d),Object(r.Z)(u[e],1)):(u[e]=qt(n),u[e].c(),Object(r.Z)(u[e],1),u[e].m(i,null))}for(Object(r.D)(),e=l.length;e<u.length;e+=1)h(e);Object(r.g)()}(!a||32&d&&o!==(o=t[5]?"pointer-events:none;opacity:0.4;":""))&&Object(r.e)(i,"style",o),(!a||9&d&&s!==(s="root "+("closed"===t[0]?"tool-toggle-close":"tool-toggle-open")+" "+(0===t[3]&&"zm-cloud-tool-bar-h-view")+" svelte-16m7cbx"))&&Object(r.e)(e,"class",s)},i(t){if(!a){for(let t=0;t<l.length;t+=1)Object(r.Z)(u[t]);a=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)Object(r.ab)(u[t]);a=!1},d(n){n&&Object(r.t)(e),c&&c.d(),Object(r.s)(u,n),t[21](null)}}}function Wt(t){let e,n,i,o,s;return{c(){e=Object(r.u)("div"),n=Object(r.u)("span"),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var i=Object(r.h)(e);n=Object(r.j)(i,"SPAN",{class:!0,style:!0}),Object(r.h)(n).forEach(r.t),i.forEach(r.t),this.h()},h(){Object(r.e)(n,"class",i="icon iconfont "+("closed"===t[0]?"rotate_icon_closed":"rotate_icon_open")+" svelte-16m7cbx"),Object(r.U)(n,"font-size","10px"),Object(r.e)(e,"class",o="tool-toggle "+("closed"===t[0]?"tool-toggle-icon":"")+"  svelte-16m7cbx")},m(i,o){Object(r.G)(i,e,o),Object(r.c)(e,n),n.innerHTML="&#xe715;&#xe715;",s=Object(r.I)(e,"click",t[10])},p(t,s){1&s&&i!==(i="icon iconfont "+("closed"===t[0]?"rotate_icon_closed":"rotate_icon_open")+" svelte-16m7cbx")&&Object(r.e)(n,"class",i),1&s&&o!==(o="tool-toggle "+("closed"===t[0]?"tool-toggle-icon":"")+"  svelte-16m7cbx")&&Object(r.e)(e,"class",o)},d(t){t&&Object(r.t)(e),s()}}}function qt(t){let e,n;const i=[t[24],{currentStatus:JSON.parse(t[1])},{hiddenitems:t[4]}];var o=t[23];function s(t){let e={};for(let t=0;t<i.length;t+=1)e=Object(r.d)(e,i[t]);return{props:e}}if(o){var a=new o(s());a.$on("message",t[9])}return{c(){a&&Object(r.o)(a.$$.fragment),e=Object(r.v)()},l(t){a&&Object(r.i)(a.$$.fragment,t),e=Object(r.v)()},m(t,i){a&&Object(r.J)(a,t,i),Object(r.G)(t,e,i),n=!0},p(t,n){const c=274&n?Object(r.A)(i,[272&n&&Object(r.z)(t[24]),2&n&&{currentStatus:JSON.parse(t[1])},16&n&&{hiddenitems:t[4]}]):{};if(o!==(o=t[23])){if(a){Object(r.D)();const t=a;Object(r.ab)(t.$$.fragment,1,0,()=>{Object(r.r)(t,1)}),Object(r.g)()}o?((a=new o(s())).$on("message",t[9]),Object(r.o)(a.$$.fragment),Object(r.Z)(a.$$.fragment,1),Object(r.J)(a,e.parentNode,e)):a=null}else o&&a.$set(c)},i(t){n||(a&&Object(r.Z)(a.$$.fragment,t),n=!0)},o(t){a&&Object(r.ab)(a.$$.fragment,t),n=!1},d(t){t&&Object(r.t)(e),a&&Object(r.r)(a,t)}}}function Kt(t){let e,n,i,o,s;const a=[Ht,Vt],c=[];function l(t,e){return"teacher"===t[2]?0:"student"===t[2]?1:-1}return~(e=l(t))&&(n=c[e]=a[e](t)),{c(){n&&n.c(),i=Object(r.v)()},l(t){n&&n.l(t),i=Object(r.v)()},m(n,a){~e&&c[e].m(n,a),Object(r.G)(n,i,a),o=!0,s=Object(r.I)(Yt,"keydown",t[7])},p(t,[o]){let s=e;e=l(t),e===s?~e&&c[e].p(t,o):(n&&(Object(r.D)(),Object(r.ab)(c[s],1,1,()=>{c[s]=null}),Object(r.g)()),~e?(n=c[e],n||(n=c[e]=a[e](t),n.c()),Object(r.Z)(n,1),n.m(i.parentNode,i)):n=null)},i(t){o||(Object(r.Z)(n),o=!0)},o(t){Object(r.ab)(n),o=!1},d(t){~e&&c[e].d(t),t&&Object(r.t)(i),s()}}}const $t="https://web-data.zmlearn.com/image/x8Y8fynvuNgaJxNR6ckocg/icon_select.svg";function Jt(t,e,n){console.log("iconselect iconselect",$t);const o=Object(i.b)();let{rolename:s=""}=e,{currentsize:a=2}=e,{currentcolor:l="#EF4C4F"}=e,{currenttool:u="brush"}=e,{currentdel:h="del-selected"}=e,{toggle:d="open"}=e,{layout:p=1}=e,{currentstatus:f=JSON.stringify({currentBrushSize:2,currentBrushColor:"#EF4C4F",currentTool:"brush",currentDel:"del-eraserrectangle",currentPolygonSize:2,currentPolygonColor:"#EF4C4F",currentPolygonPoiShow:!0,currentShape:"s_ellipse_edit",currentShapeColor:"#EF4C4F",currentShapeColorKind:0,currentShapePoiShow:!0,currentShapeSize:2,currentLine:"line_edit",currentLineColor:"#EF4C4F",currentLineSize:2,currentLinePoiShow:!0,currentCoordColor:"#EF4C4F",currentCoordSize:2,currentTextSize:12,currentTextColor:"#EF4C4F",currentStuSwitchOpened:["lock-screen"]})}=e;let m=null;const v=[{value:"#EF4C4F"},{value:"#FF9F5D"},{value:"#FFDA5D"},{value:"#3DD769"},{value:"#44D7B6"},{value:"#56BEFF"},{value:"#BE56FF"},{value:"#FF5D9E"},{value:"#000000"},{value:"#FFFFFF"}];let{hiddenitems:b=""}=e,{toolsdisabled:w=!1}=e,{getShapeFromName:_=(t=>{let e="";for(var n=0;n<x.length;n++){const i=x[n].shapes||x[n].childContent;if(i)for(var r=0;r<i.length;r++)if(i[r].value===t){e=x[n].value;break}}return e})}=e,x=[{lable:"",value:"move",iconfont:"&#xe712;",comp:c},{lable:"",value:"delete",iconfont:"&#xe708;",comp:g,childContent:[{lable:"",value:"del-selected",iconfont:"&#xe708;",childtip:"delete"},{lable:"",value:"del-eraserrectangle",iconfont:"&#xe713;",childtip:"alt"},{lable:"",value:"del-eraser",iconfont:"&#xe716;"},{lable:"",value:"del-page",iconfont:"&#xe71a;"}]},{comp:y},{lable:"",value:"brush",iconfont:"&#xe70d;",comp:P,iconselect:$t,sizeContent:[{value:6},{value:4},{value:2}],colorContent:v},{lable:"",value:"polygon_edit",iconfont:"&#xe70f;",comp:Y,iconselect:$t,sizeContent:[{value:6},{value:4},{value:2}],colorContent:v},{lable:"",value:"shape",iconfont:"&#xe70f;",comp:ct,iconselect:$t,shapes:[{name:"",value:"s_ellipse_edit",iconfont:"&#xe704;"},{name:"",value:"rectangle_edit",iconfont:"&#xe714;"},{name:"",value:"s_triangle_edit",iconfont:"&#xe710;"},{name:"",value:"circle_edit",iconfont:"&#xe705;"},{name:"",value:"ellipse_edit",iconfont:"&#xe70b;"}],colorkinds:[{name:"",value:0,iconfont:"&#xe714;",bgcolor:""},{name:"",value:1,iconfont:"&#xe714;",bgcolor:"#B4B9C5"}],sizeContent:[{value:6},{value:4},{value:2}],colorContent:v},{lable:"",value:"line",iconfont:"&#xe707;",comp:_t,iconselect:$t,shapes:[{name:"",value:"line_edit",iconfont:"&#xe707;"},{name:"",value:"linearrow_edit",iconfont:"&#xe706;"},{name:"",value:"linedash_edit",iconfont:"&#xe718;"}],sizeContent:[{value:6},{value:4},{value:2}],colorContent:v},{lable:"",value:"coord_sys",iconfont:"&#xe71c;",comp:kt,iconselect:$t,sizeContent:[{value:6},{value:4},{value:2}],colorContent:v},{lable:"",value:"text_edit",iconfont:"&#xe71d;",comp:zt,iconselect:$t,sizeContent:[{value:40},{value:32},{value:12}],colorContent:v}];Object(i.a)((t,e)=>{const n=JSON.parse(f);console.log("afterUpdate",f),o("message",{name:n.currentTool,data:n})}),Object(i.d)(t=>{});return t.$set=t=>{"rolename"in t&&n(2,s=t.rolename),"currentsize"in t&&n(11,a=t.currentsize),"currentcolor"in t&&n(12,l=t.currentcolor),"currenttool"in t&&n(13,u=t.currenttool),"currentdel"in t&&n(14,h=t.currentdel),"toggle"in t&&n(0,d=t.toggle),"layout"in t&&n(3,p=t.layout),"currentstatus"in t&&n(1,f=t.currentstatus),"hiddenitems"in t&&n(4,b=t.hiddenitems),"toolsdisabled"in t&&n(5,w=t.toolsdisabled),"getShapeFromName"in t&&n(17,_=t.getShapeFromName)},[d,f,s,p,b,w,m,function(t){if((46===t.keyCode||"Delete"===t.key||8===t.keyCode&&window.navigator&&window.navigator.appVersion&&window.navigator.appVersion.includes("Mac OS"))&&!b.includes("del-selected")){const t=JSON.parse(f);o("message",{name:t.currentTool,data:t,kind:"action",actionName:"del-selected"})}},x,function(t){if("teacher"===s){const i=Xt(t);var e=JSON.parse(f);if("delete"===i.currentTool&&["del-selected","del-page"].includes(i.currentDel))return void o("message",{name:e.currentTool,data:e,kind:"action",actionName:i.currentDel});for(var r in i)void 0!==i[r]&&null!==i[r]&&(e[r]=i[r]);n(1,f=JSON.stringify(e))}},function(){n(0,d="open"===d?"closed":"open"),o("message",{data:{isSend:"closed"===d},kind:"layout",actionName:"tool_n_alltool"})},a,l,u,h,function(){return f},function(t){n(1,f=t)},_,o,v,t=>!b.split(",").includes(t.value),function(t){r.f[t?"unshift":"push"](()=>{n(6,m=t)})},function(t){r.f[t?"unshift":"push"](()=>{n(6,m=t)})}]}class Zt extends r.a{constructor(t){var e;super(),document.getElementById("svelte-16m7cbx-style")||((e=Object(r.u)("style")).id="svelte-16m7cbx-style",e.textContent='.root.svelte-16m7cbx.svelte-16m7cbx{width:50px;background-color:rgba(46, 48, 55, 1);position:relative;display:flex;align-items:center;flex-direction:column;border-radius:0px 0px 4px 0px;box-shadow:0px 0px 6px 0px rgba(0,0,0,1)}.root.svelte-16m7cbx:hover .tool-toggle.svelte-16m7cbx{display:flex}.tool-root.svelte-16m7cbx.svelte-16m7cbx{width:100%}.iconfont.svelte-16m7cbx.svelte-16m7cbx{font-family:"iconfont" !important;font-size:22px;font-style:normal;color:#B4B9C5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.tool-toggle.svelte-16m7cbx.svelte-16m7cbx{position:relative;align-items:center;justify-content:center;width:50px;height:20px;background:rgba(0,0,0,0.05);box-shadow:0px 1px 0px 0px rgba(255,255,255,0.05);border-bottom:1px solid rgba(255,255,255,0.050);border-radius:0px 4px 0px 0px;align-items:center;cursor:pointer;user-select:none;transition:all .5s ease;display:flex}.tool-toggle-icon.svelte-16m7cbx.svelte-16m7cbx{transform:translateX(50px);background:rgba(46,48,55,1);width:28px;align-self:flex-start;border-radius:0px 4px 4px 0px;box-shadow:0px 0px 6px 0px rgba(0,0,0,1)}.tool-toggle-close.svelte-16m7cbx.svelte-16m7cbx{transform:translateX(-50px);transition:all .5s ease}.tool-toggle-open.svelte-16m7cbx.svelte-16m7cbx{transform:translateX(0px);transition:all .5s ease}.rotate_icon_closed.svelte-16m7cbx.svelte-16m7cbx{transform:rotate(180deg);transition:all .5s ease}.rotate_icon_open.svelte-16m7cbx.svelte-16m7cbx{transform:rotate(0deg);transition:all .5s ease}.zm-cloud-tool-bar-h-view.svelte-16m7cbx.svelte-16m7cbx{width:fit-content}.zm-cloud-tool-bar-h-view .tool-root{flex-direction:row;display:flex}.zm-cloud-tool-bar-h-view  .item-base-tip::before{display:none}.zm-cloud-tool-bar-h-view  .mouse-move-tip{transform:translateY(-43px)!important}.zm-cloud-tool-bar-h-view  .delete-handle-tip{transform:translateY(-276px)!important}.zm-cloud-tool-bar-h-view  .brush-handle-tip{transform:translateY(-130px)!important}.zm-cloud-tool-bar-h-view  .polygon-handle-tip{transform:translateY(-130px)!important}.zm-cloud-tool-bar-h-view  .shape-handle-tip{transform:translateY(-201px)!important}.zm-cloud-tool-bar-h-view  .line-handle-tip{transform:translateY(-195px)!important}.zm-cloud-tool-bar-h-view  .coord-handle-tip{transform:translateY(-148px)!important}.zm-cloud-tool-bar-h-view  .text-handle-tip{transform:translateY(-148px)!important}',Object(r.c)(document.head,e)),Object(r.F)(this,t,Jt,Kt,r.R,{rolename:2,currentsize:11,currentcolor:12,currenttool:13,currentdel:14,toggle:0,layout:3,currentstatus:1,getCurrentstatus:15,setCurrentstatus:16,hiddenitems:4,toolsdisabled:5,getShapeFromName:17})}get getCurrentstatus(){return this.$$.ctx[15]}get setCurrentstatus(){return this.$$.ctx[16]}}e.a=Zt},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(17);r.a;function s(t){let e,n,i;return{c(){e=Object(r.u)("div"),n=Object(r.u)("audio"),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var i=Object(r.h)(e);n=Object(r.j)(i,"AUDIO",{class:!0,controls:!0,src:!0}),Object(r.h)(n).forEach(r.t),i.forEach(r.t),this.h()},h(){Object(r.e)(n,"class","audio-item svelte-15ki5cg"),n.controls="true",n.src!==(i=t[0])&&Object(r.e)(n,"src",i),Object(r.e)(e,"class","root svelte-15ki5cg")},m(t,i){Object(r.G)(t,e,i),Object(r.c)(e,n)},p(t,[e]){1&e&&n.src!==(i=t[0])&&Object(r.e)(n,"src",i)},i:r.K,o:r.K,d(t){t&&Object(r.t)(e)}}}function a(t,e,n){let{content:r=""}=e;return t.$set=t=>{"content"in t&&n(0,r=t.content)},[r]}class c extends r.a{constructor(t){var e;super(),document.getElementById("svelte-15ki5cg-style")||((e=Object(r.u)("style")).id="svelte-15ki5cg-style",e.textContent=".root.svelte-15ki5cg{width:100%}.audio-item.svelte-15ki5cg{width:100%}",Object(r.c)(document.head,e)),Object(r.F)(this,t,a,s,r.R,{content:0})}}var l=c;function u(t){let e,n,i,o;var s=t[1];function a(t){return{props:{compData:t[0]}}}if(s){var c=new s(a(t));c.$on("callback",t[3])}return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),c&&Object(r.o)(c.$$.fragment),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var i=Object(r.h)(e);n=Object(r.j)(i,"DIV",{class:!0});var o=Object(r.h)(n);c&&Object(r.i)(c.$$.fragment,o),o.forEach(r.t),i.forEach(r.t),this.h()},h(){Object(r.e)(n,"class",i=Object(r.L)(t[2]||"content")+" svelte-18dejwc"),Object(r.e)(e,"class","root svelte-18dejwc")},m(t,i){Object(r.G)(t,e,i),Object(r.c)(e,n),c&&Object(r.J)(c,n,null),o=!0},p(t,[e]){const l={};if(1&e&&(l.compData=t[0]),s!==(s=t[1])){if(c){Object(r.D)();const t=c;Object(r.ab)(t.$$.fragment,1,0,()=>{Object(r.r)(t,1)}),Object(r.g)()}s?((c=new s(a(t))).$on("callback",t[3]),Object(r.o)(c.$$.fragment),Object(r.Z)(c.$$.fragment,1),Object(r.J)(c,n,null)):c=null}else s&&c.$set(l);(!o||4&e&&i!==(i=Object(r.L)(t[2]||"content")+" svelte-18dejwc"))&&Object(r.e)(n,"class",i)},i(t){o||(c&&Object(r.Z)(c.$$.fragment,t),o=!0)},o(t){c&&Object(r.ab)(c.$$.fragment,t),o=!1},d(t){t&&Object(r.t)(e),c&&Object(r.r)(c)}}}function h(t,e,n){const r=Object(i.b)();let{compData:o={}}=e,{comp:s=null}=e,{cls:a=""}=e;return t.$set=t=>{"compData"in t&&n(0,o=t.compData),"comp"in t&&n(1,s=t.comp),"cls"in t&&n(2,a=t.cls)},[o,s,a,function(t){r("callback",t)}]}class d extends r.a{constructor(t){var e;super(),document.getElementById("svelte-18dejwc-style")||((e=Object(r.u)("style")).id="svelte-18dejwc-style",e.textContent=".root.svelte-18dejwc{position:absolute;width:100%;height:100%;z-index:999;top:0;background:rgba(0, 0, 0, 0.4)}.image-real-content.svelte-18dejwc{height:100%}.image-real-size.svelte-18dejwc{height:100%}.content.svelte-18dejwc{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);height:100%}.rb.svelte-18dejwc{position:absolute;bottom:46px;right:6px}",Object(r.c)(document.head,e)),Object(r.F)(this,t,h,u,r.R,{compData:0,comp:1,cls:2})}}var p=d;function f(t){let e,n,i,o;return{c(){e=Object(r.u)("div"),n=Object(r.u)("img"),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var i=Object(r.h)(e);n=Object(r.j)(i,"IMG",{class:!0,alt:!0,src:!0}),i.forEach(r.t),this.h()},h(){Object(r.e)(n,"class","image-real-size svelte-garxa7"),Object(r.e)(n,"alt",""),n.src!==(i=t[0].content)&&Object(r.e)(n,"src",i),Object(r.e)(e,"class","image-real-content svelte-garxa7")},m(i,s){Object(r.G)(i,e,s),Object(r.c)(e,n),o=Object(r.I)(n,"click",t[1])},p(t,[e]){1&e&&n.src!==(i=t[0].content)&&Object(r.e)(n,"src",i)},i:r.K,o:r.K,d(t){t&&Object(r.t)(e),o()}}}function g(t,e,n){const r=Object(i.b)();let{compData:o={}}=e;return t.$set=t=>{"compData"in t&&n(0,o=t.compData)},[o,function(){r("callback",{kind:"cancel"})}]}class m extends r.a{constructor(t){var e;super(),document.getElementById("svelte-garxa7-style")||((e=Object(r.u)("style")).id="svelte-garxa7-style",e.textContent=".image-real-content.svelte-garxa7{height:100%}.image-real-size.svelte-garxa7{height:100%}",Object(r.c)(document.head,e)),Object(r.F)(this,t,g,f,r.R,{compData:0})}}var v=m;const{document:y}=r.C;function b(t){let e,n,i;return{c(){e=Object(r.u)("img"),this.h()},l(t){e=Object(r.j)(t,"IMG",{alt:!0,class:!0,src:!0}),this.h()},h(){Object(r.e)(e,"alt",""),Object(r.e)(e,"class","image-item svelte-10m1zkj"),e.src!==(n=t[0])&&Object(r.e)(e,"src",n)},m(n,o){Object(r.G)(n,e,o),i=Object(r.I)(e,"dblclick",t[1])},p(t,[i]){1&i&&e.src!==(n=t[0])&&Object(r.e)(e,"src",n)},i:r.K,o:r.K,d(t){t&&Object(r.t)(e),i()}}}function w(t,e,n){let{content:r=""}=e,{source:i=""}=e;return t.$set=t=>{"content"in t&&n(0,r=t.content),"source"in t&&n(2,i=t.source)},[r,function(t){const e=new p({target:document.querySelector("body"),props:{comp:v,compData:{content:i}}});e.$on("callback",t=>{const{kind:n}=t;e.$destroy(),document.querySelector("chat-modal")&&document.querySelector("chat-modal").remove()})},i]}class _ extends r.a{constructor(t){var e;super(),y.getElementById("svelte-10m1zkj-style")||((e=Object(r.u)("style")).id="svelte-10m1zkj-style",e.textContent=".image-item.svelte-10m1zkj{width:auto;max-width:100%}",Object(r.c)(y.head,e)),Object(r.F)(this,t,w,b,r.R,{content:0,source:2})}}var x=_;function O(t){let e,n,i,o,s,a,c,l,u,h,d,p,f,g,m,v,y,b,w=(t[0].userName||"").substring(0,1)+"",_=t[0].userName+"";const x=[T,E,j],O=[];function S(t,e){return 1&e&&(f=!!["voiceMessage","hQVoiceMessage"].includes(t[0].objectName)),f?0:"imgMessage"===t[0].objectName?1:2}g=S(t,-1),m=O[g]=x[g](t);let C="1"===t[0].extra&&P(t);return{c(){e=Object(r.u)("div"),n=Object(r.Y)(w),i=Object(r.V)(),o=Object(r.u)("div"),s=Object(r.u)("div"),a=Object(r.V)(),c=Object(r.u)("div"),l=Object(r.u)("span"),u=Object(r.Y)(_),h=Object(r.Y)(""),p=Object(r.V)(),m.c(),v=Object(r.V)(),C&&C.c(),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var d=Object(r.h)(e);n=Object(r.l)(d,w),d.forEach(r.t),i=Object(r.k)(t),o=Object(r.j)(t,"DIV",{class:!0});var f=Object(r.h)(o);s=Object(r.j)(f,"DIV",{class:!0}),Object(r.h)(s).forEach(r.t),a=Object(r.k)(f),c=Object(r.j)(f,"DIV",{class:!0});var g=Object(r.h)(c);l=Object(r.j)(g,"SPAN",{class:!0});var y=Object(r.h)(l);u=Object(r.l)(y,_),h=Object(r.l)(y,""),y.forEach(r.t),p=Object(r.k)(g),m.l(g),v=Object(r.k)(g),C&&C.l(g),g.forEach(r.t),f.forEach(r.t),this.h()},h(){Object(r.e)(e,"class","chat-person-icon svelte-1wz8eql"),Object(r.e)(s,"class","chat-person-info svelte-1wz8eql"),Object(r.e)(l,"class",d="chat-item-name "+(t[1]==t[0].senderId&&"chat-item-name-myself")+" svelte-1wz8eql"),Object(r.e)(c,"class","chat-item-content svelte-1wz8eql"),Object(r.e)(o,"class",y="chat-content-wrap "+(t[0].isNotSeen?"isNotSeen":"")+" svelte-1wz8eql")},m(t,d){Object(r.G)(t,e,d),Object(r.c)(e,n),Object(r.G)(t,i,d),Object(r.G)(t,o,d),Object(r.c)(o,s),Object(r.c)(o,a),Object(r.c)(o,c),Object(r.c)(c,l),Object(r.c)(l,u),Object(r.c)(l,h),Object(r.c)(c,p),O[g].m(c,null),Object(r.c)(c,v),C&&C.m(c,null),b=!0},p(t,e){(!b||1&e)&&w!==(w=(t[0].userName||"").substring(0,1)+"")&&Object(r.T)(n,w),(!b||1&e)&&_!==(_=t[0].userName+"")&&Object(r.T)(u,_),(!b||3&e&&d!==(d="chat-item-name "+(t[1]==t[0].senderId&&"chat-item-name-myself")+" svelte-1wz8eql"))&&Object(r.e)(l,"class",d);let i=g;g=S(t,e),g===i?O[g].p(t,e):(Object(r.D)(),Object(r.ab)(O[i],1,1,()=>{O[i]=null}),Object(r.g)(),m=O[g],m||(m=O[g]=x[g](t),m.c()),Object(r.Z)(m,1),m.m(c,v)),"1"===t[0].extra?C||(C=P(t),C.c(),C.m(c,null)):C&&(C.d(1),C=null),(!b||1&e&&y!==(y="chat-content-wrap "+(t[0].isNotSeen?"isNotSeen":"")+" svelte-1wz8eql"))&&Object(r.e)(o,"class",y)},i(t){b||(Object(r.Z)(m),b=!0)},o(t){Object(r.ab)(m),b=!1},d(t){t&&Object(r.t)(e),t&&Object(r.t)(i),t&&Object(r.t)(o),O[g].d(),C&&C.d()}}}function S(t){let e,n,i=t[0].content+"";return{c(){e=Object(r.u)("div"),n=Object(r.Y)(i),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var o=Object(r.h)(e);n=Object(r.l)(o,i),o.forEach(r.t),this.h()},h(){Object(r.e)(e,"class","system-info svelte-1wz8eql")},m(t,i){Object(r.G)(t,e,i),Object(r.c)(e,n)},p(t,e){1&e&&i!==(i=t[0].content+"")&&Object(r.T)(n,i)},i:r.K,o:r.K,d(t){t&&Object(r.t)(e)}}}function j(t){let e,n=t[0].content+"";return{c(){e=Object(r.Y)(n)},l(t){e=Object(r.l)(t,n)},m(t,n){Object(r.G)(t,e,n)},p(t,i){1&i&&n!==(n=t[0].content+"")&&Object(r.T)(e,n)},i:r.K,o:r.K,d(t){t&&Object(r.t)(e)}}}function E(t){let e;const n=new x({props:{content:t[0].fileUrl,source:t[0].source}});return{c(){Object(r.o)(n.$$.fragment)},l(t){Object(r.i)(n.$$.fragment,t)},m(t,i){Object(r.J)(n,t,i),e=!0},p(t,e){const r={};1&e&&(r.content=t[0].fileUrl),1&e&&(r.source=t[0].source),n.$set(r)},i(t){e||(Object(r.Z)(n.$$.fragment,t),e=!0)},o(t){Object(r.ab)(n.$$.fragment,t),e=!1},d(t){Object(r.r)(n,t)}}}function T(t){let e;const n=new l({props:{content:t[0].fileUrl}});return{c(){Object(r.o)(n.$$.fragment)},l(t){Object(r.i)(n.$$.fragment,t)},m(t,i){Object(r.J)(n,t,i),e=!0},p(t,e){const r={};1&e&&(r.content=t[0].fileUrl),n.$set(r)},i(t){e||(Object(r.Z)(n.$$.fragment,t),e=!0)},o(t){Object(r.ab)(n.$$.fragment,t),e=!1},d(t){Object(r.r)(n,t)}}}function P(t){let e;return{c(){e=Object(r.u)("div"),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0}),Object(r.h)(e).forEach(r.t),this.h()},h(){Object(r.e)(e,"class","ask-kind-content svelte-1wz8eql")},m(t,n){Object(r.G)(t,e,n)},d(t){t&&Object(r.t)(e)}}}function C(t){let e,n,i,o;const s=[S,O],a=[];function c(t,e){return"system"===t[0].kind?0:1}return n=c(t),i=a[n]=s[n](t),{c(){e=Object(r.u)("div"),i.c(),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var n=Object(r.h)(e);i.l(n),n.forEach(r.t),this.h()},h(){Object(r.e)(e,"class","chat-item svelte-1wz8eql")},m(t,i){Object(r.G)(t,e,i),a[n].m(e,null),o=!0},p(t,[o]){let l=n;n=c(t),n===l?a[n].p(t,o):(Object(r.D)(),Object(r.ab)(a[l],1,1,()=>{a[l]=null}),Object(r.g)(),i=a[n],i||(i=a[n]=s[n](t),i.c()),Object(r.Z)(i,1),i.m(e,null))},i(t){o||(Object(r.Z)(i),o=!0)},o(t){Object(r.ab)(i),o=!1},d(t){t&&Object(r.t)(e),a[n].d()}}}function A(t,e,n){let{chatMsg:r={}}=e,{userId:i}=e,{chatUsersInfo:o={}}=e;return t.$set=t=>{"chatMsg"in t&&n(0,r=t.chatMsg),"userId"in t&&n(1,i=t.userId),"chatUsersInfo"in t&&n(2,o=t.chatUsersInfo)},[r,i,o]}class k extends r.a{constructor(t){var e;super(),document.getElementById("svelte-1wz8eql-style")||((e=Object(r.u)("style")).id="svelte-1wz8eql-style",e.textContent=".chat-item.svelte-1wz8eql{word-break:break-all;display:flex;margin:10px 5px 10px 5px;flex-shrink:0}.system-info.svelte-1wz8eql{font-weight:400;color:rgba(204,204,204,1);text-align:center;width:100%}.chat-person-icon.svelte-1wz8eql{width:32px;font-weight:500;min-width:32px;display:flex;align-items:center;justify-content:center;color:white;height:32px;border-radius:50%;background:rgba(123,136,160,1);margin-right:7px;align-self:center}.chat-item-time.svelte-1wz8eql{display:flex;color:#bdbebf;margin-left:5px}.chat-item-name-myself.svelte-1wz8eql{color:rgba(239,76,79,1)}.chat-content-wrap.svelte-1wz8eql{flex:auto;display:flex;min-height:46px}.chat-person-info.svelte-1wz8eql{color:#8e97a1;display:flex}.chat-item-content.svelte-1wz8eql{font-weight:400;color:#333333}.ask-kind-content.svelte-1wz8eql{width:18px;height:18px;background-image:url(https://web-data.zmlearn.com/image/eLMPeTXhoQqPWVnQRx2wpr/%E5%BD%A2%E7%8A%B6%E7%BB%93%E5%90%88@2x.png);background-repeat:no-repeat;background-position:center;background-size:contain;display:inline-block}",Object(r.c)(document.head,e)),Object(r.F)(this,t,A,C,r.R,{chatMsg:0,userId:1,chatUsersInfo:2})}}var D=k;function I(t){let e,n,i,o,s,a,c,l,u,h,d,p=(t[1]==t[0].senderId?"":t[0].userName)+"";const f=[N,L,R],g=[];function m(t,e){return 1&e&&(c=!!["voiceMessage","hQVoiceMessage"].includes(t[0].objectName)),c?0:"imgMessage"===t[0].objectName?1:2}return l=m(t,-1),u=g[l]=f[l](t),{c(){e=Object(r.u)("div"),n=Object(r.Y)(p),o=Object(r.V)(),s=Object(r.u)("div"),a=Object(r.u)("div"),u.c(),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var i=Object(r.h)(e);n=Object(r.l)(i,p),i.forEach(r.t),o=Object(r.k)(t),s=Object(r.j)(t,"DIV",{class:!0});var c=Object(r.h)(s);a=Object(r.j)(c,"DIV",{class:!0});var l=Object(r.h)(a);u.l(l),l.forEach(r.t),c.forEach(r.t),this.h()},h(){Object(r.e)(e,"class",i="chat-item-name "+(t[1]==t[0].senderId&&"chat-item-myself")+" svelte-15tognf"),Object(r.e)(a,"class","chat-item-content svelte-15tognf"),Object(r.e)(s,"class",h="chat-content-wrap "+(t[0].isNotSeen?"isNotSeen":"")+" "+(t[1]==t[0].senderId&&"chat-item-myself")+" svelte-15tognf")},m(t,i){Object(r.G)(t,e,i),Object(r.c)(e,n),Object(r.G)(t,o,i),Object(r.G)(t,s,i),Object(r.c)(s,a),g[l].m(a,null),d=!0},p(t,o){(!d||3&o)&&p!==(p=(t[1]==t[0].senderId?"":t[0].userName)+"")&&Object(r.T)(n,p),(!d||3&o&&i!==(i="chat-item-name "+(t[1]==t[0].senderId&&"chat-item-myself")+" svelte-15tognf"))&&Object(r.e)(e,"class",i);let c=l;l=m(t,o),l===c?g[l].p(t,o):(Object(r.D)(),Object(r.ab)(g[c],1,1,()=>{g[c]=null}),Object(r.g)(),u=g[l],u||(u=g[l]=f[l](t),u.c()),Object(r.Z)(u,1),u.m(a,null)),(!d||3&o&&h!==(h="chat-content-wrap "+(t[0].isNotSeen?"isNotSeen":"")+" "+(t[1]==t[0].senderId&&"chat-item-myself")+" svelte-15tognf"))&&Object(r.e)(s,"class",h)},i(t){d||(Object(r.Z)(u),d=!0)},o(t){Object(r.ab)(u),d=!1},d(t){t&&Object(r.t)(e),t&&Object(r.t)(o),t&&Object(r.t)(s),g[l].d()}}}function M(t){let e,n,i=t[0].content+"";return{c(){e=Object(r.u)("div"),n=Object(r.Y)(i),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var o=Object(r.h)(e);n=Object(r.l)(o,i),o.forEach(r.t),this.h()},h(){Object(r.e)(e,"class","system-info svelte-15tognf")},m(t,i){Object(r.G)(t,e,i),Object(r.c)(e,n)},p(t,e){1&e&&i!==(i=t[0].content+"")&&Object(r.T)(n,i)},i:r.K,o:r.K,d(t){t&&Object(r.t)(e)}}}function R(t){let e,n=t[0].content+"";return{c(){e=Object(r.Y)(n)},l(t){e=Object(r.l)(t,n)},m(t,n){Object(r.G)(t,e,n)},p(t,i){1&i&&n!==(n=t[0].content+"")&&Object(r.T)(e,n)},i:r.K,o:r.K,d(t){t&&Object(r.t)(e)}}}function L(t){let e;const n=new x({props:{content:t[0].fileUrl,source:t[0].source}});return{c(){Object(r.o)(n.$$.fragment)},l(t){Object(r.i)(n.$$.fragment,t)},m(t,i){Object(r.J)(n,t,i),e=!0},p(t,e){const r={};1&e&&(r.content=t[0].fileUrl),1&e&&(r.source=t[0].source),n.$set(r)},i(t){e||(Object(r.Z)(n.$$.fragment,t),e=!0)},o(t){Object(r.ab)(n.$$.fragment,t),e=!1},d(t){Object(r.r)(n,t)}}}function N(t){let e;const n=new l({props:{content:t[0].fileUrl}});return{c(){Object(r.o)(n.$$.fragment)},l(t){Object(r.i)(n.$$.fragment,t)},m(t,i){Object(r.J)(n,t,i),e=!0},p(t,e){const r={};1&e&&(r.content=t[0].fileUrl),n.$set(r)},i(t){e||(Object(r.Z)(n.$$.fragment,t),e=!0)},o(t){Object(r.ab)(n.$$.fragment,t),e=!1},d(t){Object(r.r)(n,t)}}}function F(t){let e,n,i,o;const s=[M,I],a=[];function c(t,e){return"system"===t[0].kind?0:1}return n=c(t),i=a[n]=s[n](t),{c(){e=Object(r.u)("div"),i.c(),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var n=Object(r.h)(e);i.l(n),n.forEach(r.t),this.h()},h(){Object(r.e)(e,"class","chat-item svelte-15tognf")},m(t,i){Object(r.G)(t,e,i),a[n].m(e,null),o=!0},p(t,[o]){let l=n;n=c(t),n===l?a[n].p(t,o):(Object(r.D)(),Object(r.ab)(a[l],1,1,()=>{a[l]=null}),Object(r.g)(),i=a[n],i||(i=a[n]=s[n](t),i.c()),Object(r.Z)(i,1),i.m(e,null))},i(t){o||(Object(r.Z)(i),o=!0)},o(t){Object(r.ab)(i),o=!1},d(t){t&&Object(r.t)(e),a[n].d()}}}function B(t,e,n){let{chatMsg:r={}}=e,{userId:i}=e,{chatUsersInfo:o={}}=e;return t.$set=t=>{"chatMsg"in t&&n(0,r=t.chatMsg),"userId"in t&&n(1,i=t.userId),"chatUsersInfo"in t&&n(2,o=t.chatUsersInfo)},[r,i,o]}class U extends r.a{constructor(t){var e;super(),document.getElementById("svelte-15tognf-style")||((e=Object(r.u)("style")).id="svelte-15tognf-style",e.textContent='.chat-item.svelte-15tognf.svelte-15tognf{word-break:break-all;display:flex;margin:5px 5px 5px 5px;flex-shrink:0;font-size:14px;font-weight:400;flex-direction:column}.system-info.svelte-15tognf.svelte-15tognf{font-weight:400;color:rgba(204,204,204,1);text-align:center;width:100%}.chat-item-name.svelte-15tognf.svelte-15tognf{display:flex;color:rgba(174,180,203,1)}.chat-item-myself.svelte-15tognf.svelte-15tognf{justify-content:flex-end}.chat-content-wrap.svelte-15tognf.svelte-15tognf{flex:auto;display:flex}.chat-item-content.svelte-15tognf.svelte-15tognf{font-weight:400;position:relative;color:rgba(231,233,249,1);background:rgba(57,61,74,1);border-radius:5px;padding:11px 8px 7px 8px}.chat-item-content.svelte-15tognf.svelte-15tognf::before{content:"";position:absolute;top:-2px;left:2px;padding:4px;background-color:inherit;border:inherit;border-right:0;border-bottom:0;transform:rotate(-45deg)}.chat-item-myself.svelte-15tognf .chat-item-content.svelte-15tognf::before{right:2px;left:inherit}',Object(r.c)(document.head,e)),Object(r.F)(this,t,B,F,r.R,{chatMsg:0,userId:1,chatUsersInfo:2})}}var z=U;r.a;function X(t){let e,n,i,o,s,a,c,l,u,h,d,p,f,g,m=0===t[0]?"":"";return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),o=Object(r.V)(),s=Object(r.u)("div"),a=Object(r.u)("input"),h=Object(r.V)(),d=Object(r.u)("div"),p=Object(r.Y)(m),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var i=Object(r.h)(e);n=Object(r.j)(i,"DIV",{class:!0}),Object(r.h)(n).forEach(r.t),o=Object(r.k)(i),s=Object(r.j)(i,"DIV",{class:!0});var c=Object(r.h)(s);a=Object(r.j)(c,"INPUT",{placeholder:!0,class:!0,type:!0}),c.forEach(r.t),h=Object(r.k)(i),d=Object(r.j)(i,"DIV",{class:!0});var l=Object(r.h)(d);p=Object(r.l)(l,m),l.forEach(r.t),i.forEach(r.t),this.h()},h(){Object(r.e)(n,"class",i="msgType "+(0===t[0]?"talk":"ask")+" svelte-nawox9"),Object(r.e)(a,"placeholder",c=Y(t[1],t[0])),Object(r.e)(a,"class",l="inputContentChild "+(t[1]&&"disable-send-msg-content")+" svelte-nawox9"),Object(r.e)(a,"type","text"),Object(r.e)(s,"class",u="inputContent "+(t[1]&&"disable-send-msg")+" svelte-nawox9"),Object(r.e)(d,"class",f="sendMsg "+(t[0]?"sendMsg-ask":"")+" "+(t[7]?"":"noMsg")+" "+(t[1]?"disable-send-msg":"")+" svelte-nawox9"),Object(r.e)(e,"class","msgAction svelte-nawox9")},m(i,c){Object(r.G)(i,e,c),Object(r.c)(e,n),Object(r.c)(e,o),Object(r.c)(e,s),Object(r.c)(s,a),t[9](a),Object(r.c)(e,h),Object(r.c)(e,d),Object(r.c)(d,p),g=[Object(r.I)(n,"click",t[3]),Object(r.I)(a,"input",t[8]),Object(r.I)(a,"blur",t[5]),Object(r.I)(a,"keydown",t[2]),Object(r.I)(d,"mousedown",G),Object(r.I)(d,"click",t[10])]},p(t,[e]){1&e&&i!==(i="msgType "+(0===t[0]?"talk":"ask")+" svelte-nawox9")&&Object(r.e)(n,"class",i),3&e&&c!==(c=Y(t[1],t[0]))&&Object(r.e)(a,"placeholder",c),2&e&&l!==(l="inputContentChild "+(t[1]&&"disable-send-msg-content")+" svelte-nawox9")&&Object(r.e)(a,"class",l),2&e&&u!==(u="inputContent "+(t[1]&&"disable-send-msg")+" svelte-nawox9")&&Object(r.e)(s,"class",u),1&e&&m!==(m=0===t[0]?"":"")&&Object(r.T)(p,m),131&e&&f!==(f="sendMsg "+(t[0]?"sendMsg-ask":"")+" "+(t[7]?"":"noMsg")+" "+(t[1]?"disable-send-msg":"")+" svelte-nawox9")&&Object(r.e)(d,"class",f)},i:r.K,o:r.K,d(n){n&&Object(r.t)(e),t[9](null),Object(r.Q)(g)}}}function Y(t,e){return t?"":0===e?"":""}const G=t=>t.preventDefault();function V(t,e,n){let i,{msgType:o=0}=e,{isDisableMsg:s=!1}=e,{inputKeyDown:a}=e,{changeMsgType:c}=e,{sendMsgContent:l}=e,{blurFc:u=(()=>{})}=e,h=!1;return t.$set=t=>{"msgType"in t&&n(0,o=t.msgType),"isDisableMsg"in t&&n(1,s=t.isDisableMsg),"inputKeyDown"in t&&n(2,a=t.inputKeyDown),"changeMsgType"in t&&n(3,c=t.changeMsgType),"sendMsgContent"in t&&n(4,l=t.sendMsgContent),"blurFc"in t&&n(5,u=t.blurFc)},[o,s,a,c,l,u,i,h,function(t){console.log("inputChange",t.target),n(7,h=!!t.target.value)},function(t){r.f[t?"unshift":"push"](()=>{n(6,i=t)})},t=>l(i)]}class H extends r.a{constructor(t){var e;super(),document.getElementById("svelte-nawox9-style")||((e=Object(r.u)("style")).id="svelte-nawox9-style",e.textContent=".msgAction.svelte-nawox9{min-height:50px;display:flex;box-shadow:0px 1px 0px 0px rgba(231,231,231,1);align-items:center;padding:0px 20px 0px 20px}.msgType.svelte-nawox9{width:24px;height:24px;margin-right:10px;background-position:center;background-repeat:no-repeat;background-size:contain}.talk.svelte-nawox9{background-image:url(https://web-data.zmlearn.com/image/Ej6sRtBnbas8Zz3YXW6iL/msg_talk_stu.png)}.ask.svelte-nawox9{background-image:url(https://web-data.zmlearn.com/image/j6vyM2iRqz1Tq1qHSpGCnN/msg_ask_stu.png)}.inputContent.svelte-nawox9{display:flex;flex:auto;overflow:hidden;height:34px;border-radius:17px;border:1px solid rgba(231,231,231,1);margin-right:10px}.inputContentChild.svelte-nawox9{background:rgba(247,247,247,1);border-radius:17px;border:1px solid rgba(231,231,231,1);width:100%;color:#CCCCCC}.inputContentChild.svelte-nawox9:focus{color:#333333}.disable-send-msg.svelte-nawox9{pointer-events:none;background-color:rgba(214,215,218,1)!important}.noMsg.svelte-nawox9{background-color:rgba(214,215,218,1)!important}.sendMsg.svelte-nawox9{background-color:#EF4C4F;color:white;min-width:70px;min-height:34px;border-radius:25px;display:flex;align-items:center;justify-content:center}.sendMsg-ask.svelte-nawox9{background-color:#64ACFF}",Object(r.c)(document.head,e)),Object(r.F)(this,t,V,X,r.R,{msgType:0,isDisableMsg:1,inputKeyDown:2,changeMsgType:3,sendMsgContent:4,blurFc:5})}}var W=H;const{document:q}=r.C;function K(t,e,n){const r=t.slice();return r[54]=e[n],r}function $(t){let e;const n=new z({props:{userId:t[13],chatMsg:t[54]}});return{c(){Object(r.o)(n.$$.fragment)},l(t){Object(r.i)(n.$$.fragment,t)},m(t,i){Object(r.J)(n,t,i),e=!0},p(t,e){const r={};8192&e[0]&&(r.userId=t[13]),4099&e[0]&&(r.chatMsg=t[54]),n.$set(r)},i(t){e||(Object(r.Z)(n.$$.fragment,t),e=!0)},o(t){Object(r.ab)(n.$$.fragment,t),e=!1},d(t){Object(r.r)(n,t)}}}function J(t){let e;const n=new D({props:{userId:t[13],chatMsg:t[54]}});return{c(){Object(r.o)(n.$$.fragment)},l(t){Object(r.i)(n.$$.fragment,t)},m(t,i){Object(r.J)(n,t,i),e=!0},p(t,e){const r={};8192&e[0]&&(r.userId=t[13]),4099&e[0]&&(r.chatMsg=t[54]),n.$set(r)},i(t){e||(Object(r.Z)(n.$$.fragment,t),e=!0)},o(t){Object(r.ab)(n.$$.fragment,t),e=!1},d(t){Object(r.r)(n,t)}}}function Z(t,e){let n,i,o,s,a;const c=[J,$],l=[];function u(t,e){return"student"===t[5]?0:1}return i=u(e),o=l[i]=c[i](e),{key:t,first:null,c(){n=Object(r.v)(),o.c(),s=Object(r.v)(),this.h()},l(t){n=Object(r.v)(),o.l(t),s=Object(r.v)(),this.h()},h(){this.first=n},m(t,e){Object(r.G)(t,n,e),l[i].m(t,e),Object(r.G)(t,s,e),a=!0},p(t,e){let n=i;i=u(t),i===n?l[i].p(t,e):(Object(r.D)(),Object(r.ab)(l[n],1,1,()=>{l[n]=null}),Object(r.g)(),o=l[i],o||(o=l[i]=c[i](t),o.c()),Object(r.Z)(o,1),o.m(s.parentNode,s))},i(t){a||(Object(r.Z)(o),a=!0)},o(t){Object(r.ab)(o),a=!1},d(t){t&&Object(r.t)(n),l[i].d(t),t&&Object(r.t)(s)}}}function Q(t){let e,n,i,o,s,a=100*t[14]+"";return{c(){e=Object(r.u)("div"),n=Object(r.Y)(""),i=Object(r.Y)(a),o=Object(r.Y)("%"),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var s=Object(r.h)(e);n=Object(r.l)(s,""),i=Object(r.l)(s,a),o=Object(r.l)(s,"%"),s.forEach(r.t),this.h()},h(){Object(r.e)(e,"class","uploadingmsg svelte-a729ql")},m(a,c){Object(r.G)(a,e,c),Object(r.c)(e,n),Object(r.c)(e,i),Object(r.c)(e,o),s=Object(r.I)(e,"click",t[15])},p(t,e){16384&e[0]&&a!==(a=100*t[14]+"")&&Object(r.T)(i,a)},d(t){t&&Object(r.t)(e),s()}}}function tt(t){let e,n,i,o,s,a,c,l=[],u=new Map,h=et(t[0],t[1],t[12]);const d=t=>t[54].id;for(let e=0;e<h.length;e+=1){let n=K(t,h,e),r=d(n);u.set(r,l[e]=Z(r,n))}let p=t[14]<1&&Q(t);const f=new W({props:{msgType:t[2],blurFc:t[6],isDisableMsg:t[3],inputKeyDown:t[7],changeMsgType:t[10],sendMsgContent:t[8]}});return{c(){e=Object(r.u)("div"),n=Object(r.u)("div");for(let t=0;t<l.length;t+=1)l[t].c();i=Object(r.V)(),p&&p.c(),o=Object(r.V)(),Object(r.o)(f.$$.fragment),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var s=Object(r.h)(e);n=Object(r.j)(s,"DIV",{class:!0});var a=Object(r.h)(n);for(let t=0;t<l.length;t+=1)l[t].l(a);a.forEach(r.t),i=Object(r.k)(s),p&&p.l(s),o=Object(r.k)(s),Object(r.i)(f.$$.fragment,s),s.forEach(r.t),this.h()},h(){Object(r.e)(n,"class","chat-content svelte-a729ql"),Object(r.e)(e,"class",s="root "+(!t[4]&&"hidden")+" svelte-a729ql")},m(s,u){Object(r.G)(s,e,u),Object(r.c)(e,n);for(let t=0;t<l.length;t+=1)l[t].m(n,null);t[53](n),Object(r.c)(e,i),p&&p.m(e,null),Object(r.c)(e,o),Object(r.J)(f,e,null),a=!0,c=Object(r.I)(n,"scroll",t[9])},p(t,i){const c=et(t[0],t[1],t[12]);Object(r.D)(),l=Object(r.bb)(l,i,d,1,t,c,u,n,r.O,Z,null,K),Object(r.g)(),t[14]<1?p?p.p(t,i):(p=Q(t),p.c(),p.m(e,o)):p&&(p.d(1),p=null);const h={};4&i[0]&&(h.msgType=t[2]),64&i[0]&&(h.blurFc=t[6]),8&i[0]&&(h.isDisableMsg=t[3]),f.$set(h),(!a||16&i[0]&&s!==(s="root "+(!t[4]&&"hidden")+" svelte-a729ql"))&&Object(r.e)(e,"class",s)},i(t){if(!a){for(let t=0;t<h.length;t+=1)Object(r.Z)(l[t]);Object(r.Z)(f.$$.fragment,t),a=!0}},o(t){for(let t=0;t<l.length;t+=1)Object(r.ab)(l[t]);Object(r.ab)(f.$$.fragment,t),a=!1},d(n){n&&Object(r.t)(e);for(let t=0;t<l.length;t+=1)l[t].d();t[53](null),p&&p.d(),Object(r.r)(f),c()}}}function et(t,e,n){const r=t.filter(e);return r.slice(Math.max(0,r.length-20*n),r.length)}function nt(t,e,n){const s=Object(i.b)();let a,c,{chatMsgs:l=[]}=e,{filterFunc:u=(()=>!0)}=e,h=null,d=[],p=null,f=1,{inputKind:g=0}=e,{selected:m=!0}=e,v=[],y=!1;var b,w,_,x;let O,S,j=1,{msgType:E=0}=e,{isDisableMsg:T=!1}=e,{role:P="student"}=e,{blurFc:C=(()=>{})}=e,A=[],k=null;function D(){navigator.mediaDevices.getUserMedia({audio:!0}).then(t=>{let e=null;h=new MediaRecorder(t),h.ondataavailable=t=>{if(d.push(t.data),"inactive"==h.state){let t=new Blob(d,{type:"audio/x-mpeg-3"});if(h=null,0===t.size)return;L({type:"hQVoiceMessage",model:{remoteUrl:new File([t],`${Date.now()}.mp3`,{type:"audio/x-mpeg-3",lastModified:Date.now()}),duration:Math.round((performance.now()-e)/1e3)},uploadOssField:"remoteUrl"})}},h.start(),e||(e=performance.now())}).catch(t=>console.log(t))}function I(){n(0,l),a.scrollTop>1e4&&n(12,f=1)}function M(t){console.log("addChatMsg",t),l.push(t),o.ZmCacheStack.exec(I,200)}function R(){n(11,a.scrollTop=1e4,a)}function L(t){if(!b)return void s("postMsg",t);const{type:e,model:r,uploadOssField:i}=t;if(i)b.getOssToken({appId:1,userId:x,groupId:w,bizId:1,fileName:r[i].name}).then(t=>{const{data:o}=t,{accessKeyId:s,accessKeySecret:a,securityToken:c,folderPath:l}=o;b.ossUpload({accessKeyId:s,accessKeySecret:a,securityToken:c,file:r[i],filePath:`${l}`,percentCb:t=>{n(14,j=t),console.log("percentCb",t)}}).then(t=>{r[i]=l,b.emitChatData({groupId:w,senderId:`${x}`,userPortrait:S,userName:O,sendMsg:r,msgType:e}).then(t=>{console.log("emitGroupData sdsd",t)})})});else{const t={groupId:w,senderId:`${x}`,userPortrait:S,userName:O,sendMsg:r};b.emitChatData(t).then(t=>{console.log("emitGroupData sdsd",t)}).catch(()=>{})}}function N(t){console.log("sendValCommon",t.innerText,t.value);const e=t.value;e?e.length>500?s("message",{type:"msgLimit",value:"500"}):(L({type:"txtMessage",model:{content:e,extra:`${E}`}}),t.value=""):s("message",{type:"msgLimit",value:""})}function F(t){p&&clearTimeout(p),h&&(h.stop(),h.stream.getTracks().forEach(t=>{t.stop()}))}return Object(i.d)(()=>{}),Object(i.a)(()=>{}),t.$set=t=>{"chatMsgs"in t&&n(0,l=t.chatMsgs),"filterFunc"in t&&n(1,u=t.filterFunc),"inputKind"in t&&n(16,g=t.inputKind),"selected"in t&&n(4,m=t.selected),"msgType"in t&&n(2,E=t.msgType),"isDisableMsg"in t&&n(3,T=t.isDisableMsg),"role"in t&&n(5,P=t.role),"blurFc"in t&&n(6,C=t.blurFc)},[l,u,E,T,m,P,C,function(t){13===t.keyCode&&(t.preventDefault(),N(t.target))},function(t){N(t)},function(){const{scrollTop:t,offsetHeight:e,scrollHeight:r}=a;0===t&&e<r&&(c&&(clearTimeout(c),c=null),c=setTimeout(()=>{console.log("contentScroll",l.length,20*f),l.length-20*f>0&&(n(12,f+=1),l.length-20*f>0&&n(11,a.scrollTop=1,a))},20))},function(){n(2,E=0===E?1:0),s("message",{type:"msgType",value:E})},a,f,x,j,function(){n(14,j=1)},g,function(t){k=t},function(t){n(1,u=t)},function({iservice:t,groupid:e,bizid:r,userid:i,userName:c,userPortrait:l}){b=t,w=e,_=r,n(13,x=i),O=c,S=l,console.log("iService",b),b.init().then(t=>{console.log("initRoomService sdsd",w,t)}),b.JoinChatRoom({userName:c}),b.registerEvent({eventId:1123,appid:b.appId,cb:t=>{const{data:e}=t;let n;if(!e.messageModel||!["txtMessage","ImgMessage","VoiceMessage"].includes(e.messageModel.objectName))return;let r=b.getUrlPathName(e.messageModel.objectName);const i=Object.assign({id:e.messageModel.seqId,time:e.messageModel.sentTime,senderId:e.messageModel.senderId,objectName:e.messageModel.objectName,userName:e.userName,userPortrait:e.userPortrait},e.messageModel[e.messageModel.objectName]);n=r?this.getOssFileRead({appId:1,userId:x,groupId:w,bizId:_,path:e.messageModel[e.messageModel.objectName][r],process:"imageUri"===r?"style/beacon_im_style":null}).then(t=>{const{preview:e,source:n}=t;return i.fileUrl=e,i.source=n,i}):new Promise(t=>{t(i)}),n.then(t=>{null!==k&&(k+=1,s("message",{type:"hiddenMsgs",value:k}));const{scrollTop:e,offsetHeight:n,scrollHeight:r}=a;(e+n===r||t.senderId==x)&&n>0?(M(t),o.ZmCacheStack.exec(R,200)):(t.isNotSeen=!0,A.push(t),s("message",{type:"newMsgNotSeen",value:A}),M(t))}).catch(()=>{})}})},M,function(t=[]){t.forEach(t=>l.unshift(t)),o.ZmCacheStack.exec(I,200)},function(t){v=[...v,...t]},R,function(){return a.scrollTop},function(t){n(11,a.scrollTop=t,a)},function(){const t=a.querySelector(".isNotSeen");t&&(n(11,a.scrollTop=t.offsetTop,a),s("message",{type:"newMsgNotSeen",value:!1}),A.forEach(t=>delete t.isNotSeen),o.ZmCacheStack.exec(I,200),A=[])},N,function(){n(3,T=!T),s("message",{type:"isDisableMsg",value:T})},function(){return E},function(){return T},h,d,p,v,c,y,b,w,_,O,S,A,k,s,[],function(t){const{detail:e}=t,{type:n,data:r}=e;"uploadpic"===n?(console.log("sdads",URL.createObjectURL(r)),L({type:"imgMessage",model:{imageUri:r},uploadOssField:"imageUri"})):"chooseUser"===n&&(y=!1,console.log("sdads chooseUser",r))},D,I,L,function(){n(16,g=0===g?1:0)},function(t){d=[],h=null,D(),p=setTimeout(()=>{F()},3e4)},F,function(t){r.f[t?"unshift":"push"](()=>{n(11,a=t)})}]}class rt extends r.a{constructor(t){var e;super(),q.getElementById("svelte-a729ql-style")||((e=Object(r.u)("style")).id="svelte-a729ql-style",e.textContent=".root.svelte-a729ql{width:100%;height:100%;display:flex;flex-direction:column;position:relative}.chat-content.svelte-a729ql{position:relative;display:flex;flex:auto;flex-direction:column;overflow:auto}.hidden.svelte-a729ql{display:none!important}.uploadingmsg.svelte-a729ql{position:absolute;top:50%;left:50%;background:#8e97a1;width:50%;height:30px;align-items:center;justify-content:center;display:flex;transform:translateX(-50%) translateY(-50%)}",Object(r.c)(q.head,e)),Object(r.F)(this,t,nt,tt,r.R,{chatMsgs:0,filterFunc:1,inputKind:16,selected:4,msgType:2,isDisableMsg:3,role:5,blurFc:6,setIsHidden:17,setFilterFunc:18,initService:19,addChatMsg:20,insertChatMsg:21,addChatUsers:22,scrollBottom:23,getScrollTop:24,setScrollTop:25,scrollToUnRead:26,inputKeyDown:7,sendValCommon:27,sendMsgContent:8,contentScroll:9,changeMsgType:10,toggleSendMsgAction:28,getMsgType:29,getIsDisableMsg:30},[-1,-1])}get setIsHidden(){return this.$$.ctx[17]}get setFilterFunc(){return this.$$.ctx[18]}get initService(){return this.$$.ctx[19]}get addChatMsg(){return this.$$.ctx[20]}get insertChatMsg(){return this.$$.ctx[21]}get addChatUsers(){return this.$$.ctx[22]}get scrollBottom(){return this.$$.ctx[23]}get getScrollTop(){return this.$$.ctx[24]}get setScrollTop(){return this.$$.ctx[25]}get scrollToUnRead(){return this.$$.ctx[26]}get inputKeyDown(){return this.$$.ctx[7]}get sendValCommon(){return this.$$.ctx[27]}get sendMsgContent(){return this.$$.ctx[8]}get contentScroll(){return this.$$.ctx[9]}get changeMsgType(){return this.$$.ctx[10]}get toggleSendMsgAction(){return this.$$.ctx[28]}get getMsgType(){return this.$$.ctx[29]}get getIsDisableMsg(){return this.$$.ctx[30]}}e.a=rt},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(17);let s,a,c={};function l(){return s}function u(t,e){console.log("scrollCanvas",e);const n=t.querySelector("div");(n.parentNode||n.parentElement).scrollTop=e,s.canvas.stage.container().style.transform="translateY("+e+"px)",s.canvas.stage.y(-e),s.canvas.stage.draw()}function h(t,e,n){c[t]||(c[t]={}),c[t][e]=n}function d(t,e){return c[t]?c[t][e]:null}function p(t){let e;return{c(){e=Object(r.u)("div"),this.h()},l(t){e=Object(r.j)(t,"DIV",{"data-docid":!0,style:!0}),Object(r.h)(e).forEach(r.t),this.h()},h(){Object(r.e)(e,"data-docid",t[0]),Object(r.U)(e,"display","none")},m(t,n){Object(r.G)(t,e,n)},p(t,[n]){1&n&&Object(r.e)(e,"data-docid",t[0])},i:r.K,o:r.K,d(t){t&&Object(r.t)(e)}}}function f(t,e,n){const r=Object(i.b)();let{curent_doc_id:o}=e;return Object(i.a)(()=>{console.log("docIdChange afterUpdate",o),o&&r("message",{type:"docChange",data:{curent_doc_id:o}})}),t.$set=t=>{"curent_doc_id"in t&&n(0,o=t.curent_doc_id)},[o]}class g extends r.a{constructor(t){super(),Object(r.F)(this,t,f,p,r.R,{curent_doc_id:0})}}var m=g;function v(t){let e,n,i,o,s,a;const c=new m({props:{curent_doc_id:t[0]}});return c.$on("message",t[7]),{c(){e=Object(r.u)("div"),o=Object(r.V)(),Object(r.o)(c.$$.fragment),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0,"data-layerid":!0}),Object(r.h)(e).forEach(r.t),o=Object(r.k)(t),Object(r.i)(c.$$.fragment,t),this.h()},h(){Object(r.e)(e,"class",n="root "+(t[2]?"hidden":"")+" "+t[3]+" "+("draftboard"===t[0]?"draftboard":"")+" "+(t[4]?"":"disabled")+" svelte-1wbbjvk"),Object(r.e)(e,"data-layerid",i=`${t[0]}.${t[1]}`)},m(n,i){Object(r.G)(n,e,i),t[18](e),Object(r.G)(n,o,i),Object(r.J)(c,n,i),s=!0,a=[Object(r.I)(window,"resize",t[8]),Object(r.I)(e,"mousewheel",t[6])]},p(t,[o]){(!s||29&o&&n!==(n="root "+(t[2]?"hidden":"")+" "+t[3]+" "+("draftboard"===t[0]?"draftboard":"")+" "+(t[4]?"":"disabled")+" svelte-1wbbjvk"))&&Object(r.e)(e,"class",n),(!s||3&o&&i!==(i=`${t[0]}.${t[1]}`))&&Object(r.e)(e,"data-layerid",i);const a={};1&o&&(a.curent_doc_id=t[0]),c.$set(a)},i(t){s||(Object(r.Z)(c.$$.fragment,t),s=!0)},o(t){Object(r.ab)(c.$$.fragment,t),s=!1},d(n){n&&Object(r.t)(e),t[18](null),n&&Object(r.t)(o),Object(r.r)(c,n),Object(r.Q)(a)}}}function y(t,e,c){let h;const p=Object(i.b)();let{curent_doc_id:f}=e,{curent_page:g}=e,{is_loading:m=!0}=e,{cursor_cls:v}=e,{isClassStarted:y}=e;function b(){console.log("handleScrollTop",performance.now());const t=l(),e=b.scrollData;u(h,e);const n=e/t.canvas.scaletoserver;p("message",{type:"scrollTop",data:{server_data:n,scrollData:e}})}function w(){const t=l();console.log("whiteboard afterUpdate",g,f,t),t&&void 0!==f&&void 0!==g&&(t.canvas.showLayerById(`${f}.${g}`),p("message",{type:"layerChange",data:{curent_page:g,curent_doc_id:f}}))}function _(){console.log("handleResize"),j()}function x(t){console.log("zm_cloud_whiteboard",h.offsetHeight,h.offsetWidth);const e=t(h,E,t=>{console.log("size",t)},{disabledResize:!0,hasImgLayer:!0,disableScaleStage:!0,rightMouseUpCb:()=>{console.log("rightMouseUpCb")},rightMouseDownCb:()=>{console.log("rightMouseDownCb")},drawingProcessCb:t=>{console.log("data",t),p("message",{type:"drawingProcessCb",data:t})},selectShapeCb:t=>{console.log("data",t)}});e.canvas.canvasaction.setLocalStyle({stroke:"#EF4C4F",strokeWidth:2}),s=e,_()}function O(){!function(t){const e=t.querySelector("div"),n=e.parentNode||e.parentElement,r=n.parentNode||n.parentElement,i=r.clientHeight-(a?a.clientHeight:0),o=r.clientWidth,s=9*o/16;s<i?(n.style.width=`${o}px`,n.style.height=`${s}px`,a&&(a.style.width=`${o}px`)):(n.style.width=`${16*i/9}px`,n.style.height=`${i}px`,a&&(a.style.width=`${16*i/9}px`))}(h),S()}function S(){const t=l();t.canvas.resizeDetail();const e=d(`${f}.${g}`,"scrollData");u(h,t.canvas.scaletoserver*(e||0))}function j(){O(),o.ZmCacheStack.exec(S,200)}function E(t){console.log("dataCb1",t),p("message",{type:"dataCb",data:t})}return Object(i.d)(()=>{const t=n(116);console.log("rep",t),x(t.zmSketchPad)}),Object(i.a)(()=>{console.log("whiteboard afterUpdate zmWhiteBoardWc"),o.ZmCacheStack.exec(w,200)}),t.$set=t=>{"curent_doc_id"in t&&c(0,f=t.curent_doc_id),"curent_page"in t&&c(1,g=t.curent_page),"is_loading"in t&&c(2,m=t.is_loading),"cursor_cls"in t&&c(3,v=t.cursor_cls),"isClassStarted"in t&&c(4,y=t.isClassStarted)},[f,g,m,v,y,h,function(t){const e=t.wheelDelta<0?50:-50;if(console.log("mousewheel",e),h.scrollHeight>h.clientHeight){let t=h.scrollTop+e;t=Math.max(0,t),t=Math.min(h.scrollHeight-h.clientHeight,t),t!==h.scrollTop&&(b.scrollData=t,o.ZmCacheStack.exec(b,20))}},function(t){const{detail:e}=t;console.log("whiteboard handleMessage",e),p("message",e)},_,function(){return h},b,p,w,x,O,S,j,E,function(t){r.f[t?"unshift":"push"](()=>{c(5,h=t)})}]}class b extends r.a{constructor(t){var e;super(),document.getElementById("svelte-1wbbjvk-style")||((e=Object(r.u)("style")).id="svelte-1wbbjvk-style",e.textContent=".root.svelte-1wbbjvk{display:flex;width:100%;height:100%;overflow-y:hidden}.draftboard.svelte-1wbbjvk{background-color:#223D2E}.hidden.svelte-1wbbjvk{visibility:hidden}.disabled.svelte-1wbbjvk{pointer-events:none}.cursor-polygon_edit.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/gNqnVBNELjqGZ7f7Q2FYm3/icon_duobianxin.svg') 5 5,auto\n    }.cursor-s_ellipse_edit-0.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/vhwrtUd5Hh7EHT4qJBmySf/icon_kongxinyuan.svg') 12 12,auto\n    }.cursor-s_ellipse_edit-1.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/ekdMpW79yMpj5xFfoAR79E/icon_shixinyuan.svg') 12 12,auto\n    }.cursor-s_triangle_edit-0.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/rhMHCiEibsuDVVegwJgyTh/icon_kongxinjiao.svg') 12 12,auto\n    }.cursor-s_triangle_edit-1.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/4P6ckvXFg88XNTAsiYbH2d/icon_shixinjiao.svg') 12 12,auto\n    }.cursor-rectangle_edit-0.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/7gE6FZmb4dAJAKNMPv3JzX/icon_kongxinfang.svg') 12 12,auto\n    }.cursor-rectangle_edit-1.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/9XTsTpskzo6JQJDZLbEUPg/icon_shixinfang.svg') 12 12,auto\n    }.cursor-coord_sys.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/qo4EFNEywAx2ZZ1Z4AwmZT/icon_zuobiao.svg') 16 16,auto\n    }.cursor-circle_edit.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/wEXtQtEYxnSS5mg8ihUXD2/icon_yuanxinyuan.svg') 5 10,auto\n    }.cursor-ellipse_edit.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/m8q9Q1ZiVtJK7eWkUHK6w4/icon_tuoyuan.svg') 5 10,auto\n    }.cursor-select_shape.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/dc3Ro8nbXxH4WyJaqCd4Xw/icon_move.svg') 5 5,auto\n    }.cursor-text_edit.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/kbSnhpp4mBSJKK3cQGBD1v/icon_word.svg') 5 5,auto\n    }.cursor-line_edit.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/6T3rCckCwWfeAFrxe3SxRe/icon_tuxin.svg') 12 12,auto\n    }.cursor-linearrow_edit.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/6T3rCckCwWfeAFrxe3SxRe/icon_tuxin.svg') 12 12,auto\n    }.cursor-linedash_edit.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/6T3rCckCwWfeAFrxe3SxRe/icon_tuxin.svg') 12 12,auto\n    }.cursor-pen-EF4C4F.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/byqwiZQEncyaTgfPAUCK4/icon_pen_red.svg') 4 22,auto\n    }.cursor-pen-FFDA5D.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/nBvx3fDARsHaNTgH9uZWov/icon_pen_yellow.svg') 4 22,auto\n   }.cursor-pen-56BEFF.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/xwwC4uJDwGdFbYdN6B7xCT/icon_pen_blue.svg') 4 22,auto\n   }.cursor-pen-FF9F5D.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/aAjcd36Arn2eusCEwmFxnE/icon_pen_orange.svg') 4 22,auto\n   }.cursor-pen-44D7B6.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/ptBr8qdYBn9PoSMu2xEaB7/icon_pen_cyan.svg') 4 22,auto\n   }.cursor-pen-BE56FF.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/3McpBdnCn4EvWKo8d2ggK7/icon_pen_violet.svg') 4 22,auto\n   }.cursor-pen-3DD769.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/keK4Hako445CQFpuC5Fm16/icon_pen_green.svg') 4 22,auto\n    }.cursor-pen-000000.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/nXWW6wh3dZEyiyupKf7CQ7/icon_pen_black.svg') 4 22,auto\n   }.cursor-pen-FFFFFF.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/baVsXnDBvdyzivE4cG4Qy3/icon_pen_white.svg') 4 22,auto\n   }.cursor-pen-FF5D9E.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/mMc9isbZnvXGDtry6o5MFy/icon_pen_pink.svg') 4 22,auto\n   }.cursor-eraser.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/eA3YjbaqZXGnHLN7sUquxc/cursor-eraser.png') 10 32,auto\n   }.cursor-eraserrectangle.svelte-1wbbjvk{cursor:url('https://web-data.zmlearn.com/image/r42oHNMi6jKgicCuCT27MM/cursor-cross.png') 18 18,auto\n   }",Object(r.c)(document.head,e)),Object(r.F)(this,t,y,v,r.R,{curent_doc_id:0,curent_page:1,is_loading:2,cursor_cls:3,isClassStarted:4,getWhitedom:9})}get getWhitedom(){return this.$$.ctx[9]}}var w=b;r.a;function _(t,e,n){const r=t.slice();return r[7]=e[n],r}function x(t,e){let n,i,o,s,a=e[7].name+"";function c(...t){return e[5](e[7],...t)}return{key:t,first:null,c(){n=Object(r.u)("div"),i=Object(r.Y)(a),this.h()},l(t){n=Object(r.j)(t,"DIV",{class:!0});var e=Object(r.h)(n);i=Object(r.l)(e,a),e.forEach(r.t),this.h()},h(){Object(r.e)(n,"class",o="doc_item "+(S(e[0],e[1]).docId===e[7].docId&&"doc_item_selected")+" svelte-7ifofp"),this.first=n},m(t,e){Object(r.G)(t,n,e),Object(r.c)(n,i),s=Object(r.I)(n,"click",c)},p(t,s){e=t,1&s&&a!==(a=e[7].name+"")&&Object(r.T)(i,a),3&s&&o!==(o="doc_item "+(S(e[0],e[1]).docId===e[7].docId&&"doc_item_selected")+" svelte-7ifofp")&&Object(r.e)(n,"class",o)},d(t){t&&Object(r.t)(n),s()}}}function O(t){let e,n=[],i=new Map,o=t[0];const s=t=>t[7].docId;for(let e=0;e<o.length;e+=1){let r=_(t,o,e),a=s(r);i.set(a,n[e]=x(a,r))}return{c(){e=Object(r.u)("div");for(let t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var i=Object(r.h)(e);for(let t=0;t<n.length;t+=1)n[t].l(i);i.forEach(r.t),this.h()},h(){Object(r.e)(e,"class","docs_nav svelte-7ifofp")},m(i,o){Object(r.G)(i,e,o);for(let t=0;t<n.length;t+=1)n[t].m(e,null);t[6](e)},p(t,[o]){const a=t[0];n=Object(r.bb)(n,o,s,1,t,a,i,e,r.q,x,null,_)},i:r.K,o:r.K,d(i){i&&Object(r.t)(e);for(let t=0;t<n.length;t+=1)n[t].d();t[6](null)}}}function S(t,e){if(!t)return{};for(var n=0;n<t.length;n++)if(t[n].docId===e)return t[n];return{name:""}}function j(t,e,n){const o=Object(i.b)();let s,{docsInfos:c}=e,{curent_doc_id:l}=e;function u(t){o("message",{type:"docNavChange",data:t})}Object(i.d)(()=>{a=s});return t.$set=t=>{"docsInfos"in t&&n(0,c=t.docsInfos),"curent_doc_id"in t&&n(1,l=t.curent_doc_id)},[c,l,s,u,o,t=>u(t),function(t){r.f[t?"unshift":"push"](()=>{n(2,s=t)})}]}class E extends r.a{constructor(t){var e;super(),document.getElementById("svelte-7ifofp-style")||((e=Object(r.u)("style")).id="svelte-7ifofp-style",e.textContent=".docs_nav.svelte-7ifofp.svelte-7ifofp{width:100%;height:24px;display:flex;flex-direction:row}.docs_nav.svelte-7ifofp:hover .doc_list.svelte-7ifofp{display:flex}.doc_item.svelte-7ifofp.svelte-7ifofp{width:auto;min-width:72px;max-width:124px;background:rgba(54,56,67,1);border-radius:6px 6px 0px 0px;font-size:12px;font-weight:400;color:rgba(255,255,255,1);line-height:24px;text-align:center;cursor:pointer;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-right:8px;padding:0px 8px 0px 8px}.doc_item_selected.svelte-7ifofp.svelte-7ifofp{background:rgba(101,105,128,1)}",Object(r.c)(document.head,e)),Object(r.F)(this,t,j,O,r.R,{docsInfos:0,curent_doc_id:1})}}var T=E;function P(t){let e,n,i,o,s,a,c,l,u,h;return{c(){e=Object(r.u)("div"),n=Object(r.u)("div"),i=Object(r.u)("div"),o=Object(r.V)(),s=Object(r.u)("div"),a=Object(r.V)(),c=Object(r.u)("div"),l=Object(r.V)(),u=Object(r.u)("div"),h=Object(r.Y)(t[4]),this.h()},l(d){e=Object(r.j)(d,"DIV",{class:!0});var p=Object(r.h)(e);n=Object(r.j)(p,"DIV",{class:!0});var f=Object(r.h)(n);i=Object(r.j)(f,"DIV",{class:!0}),Object(r.h)(i).forEach(r.t),o=Object(r.k)(f),s=Object(r.j)(f,"DIV",{class:!0}),Object(r.h)(s).forEach(r.t),a=Object(r.k)(f),c=Object(r.j)(f,"DIV",{class:!0}),Object(r.h)(c).forEach(r.t),l=Object(r.k)(f),u=Object(r.j)(f,"DIV",{class:!0});var g=Object(r.h)(u);h=Object(r.l)(g,t[4]),g.forEach(r.t),f.forEach(r.t),p.forEach(r.t),this.h()},h(){Object(r.e)(i,"class","loader-ring svelte-16b2rea"),Object(r.e)(s,"class","loader-ring-light svelte-16b2rea"),Object(r.e)(c,"class","loader-ring-track svelte-16b2rea"),Object(r.e)(u,"class","loading-text svelte-16b2rea"),Object(r.e)(n,"class","loading"),Object(r.e)(e,"class","loadingWhiteboard svelte-16b2rea")},m(t,d){Object(r.G)(t,e,d),Object(r.c)(e,n),Object(r.c)(n,i),Object(r.c)(n,o),Object(r.c)(n,s),Object(r.c)(n,a),Object(r.c)(n,c),Object(r.c)(n,l),Object(r.c)(n,u),Object(r.c)(u,h)},p(t,e){16&e&&Object(r.T)(h,t[4])},d(t){t&&Object(r.t)(e)}}}function C(t){let e,n,i,o;const s=new T({props:{docsInfos:t[5],curent_doc_id:t[0]}});s.$on("message",t[9]);let a={is_loading:t[3],cursor_cls:t[1],curent_doc_id:t[0],curent_page:t[2],room_key:t[6],isClassStarted:t[7]};const c=new w({props:a});t[30](c),c.$on("message",t[9]);let l=t[3]&&P(t);return{c(){e=Object(r.u)("div"),Object(r.o)(s.$$.fragment),n=Object(r.V)(),Object(r.o)(c.$$.fragment),i=Object(r.V)(),l&&l.c(),this.h()},l(t){e=Object(r.j)(t,"DIV",{class:!0});var o=Object(r.h)(e);Object(r.i)(s.$$.fragment,o),n=Object(r.k)(o),Object(r.i)(c.$$.fragment,o),i=Object(r.k)(o),l&&l.l(o),o.forEach(r.t),this.h()},h(){Object(r.e)(e,"class","root svelte-16b2rea")},m(t,a){Object(r.G)(t,e,a),Object(r.J)(s,e,null),Object(r.c)(e,n),Object(r.J)(c,e,null),Object(r.c)(e,i),l&&l.m(e,null),o=!0},p(t,[n]){const r={};32&n&&(r.docsInfos=t[5]),1&n&&(r.curent_doc_id=t[0]),s.$set(r);const i={};8&n&&(i.is_loading=t[3]),2&n&&(i.cursor_cls=t[1]),1&n&&(i.curent_doc_id=t[0]),4&n&&(i.curent_page=t[2]),64&n&&(i.room_key=t[6]),128&n&&(i.isClassStarted=t[7]),c.$set(i),t[3]?l?l.p(t,n):(l=P(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i(t){o||(Object(r.Z)(s.$$.fragment,t),Object(r.Z)(c.$$.fragment,t),o=!0)},o(t){Object(r.ab)(s.$$.fragment,t),Object(r.ab)(c.$$.fragment,t),o=!1},d(n){n&&Object(r.t)(e),Object(r.r)(s),t[30](null),Object(r.r)(c),l&&l.d()}}}function A(){return l()}function k(t,e,n){const o=Object(i.b)();let{curent_doc_id:s}=e,{cursor_cls:a="cursor-pen-EF4C4F"}=e,{curent_page:c}=e,{docsInfos:p=[]}=e,{room_key:f}=e,{is_loading:g=!0}=e,{processmsg:m="..."}=e,{ismaster:v}=e,{docUrlBase:y="https://image.zmlearn.com/markerlessonoffice"}=e,{role:b="TEA"}=e,w=!1;var _=null;let x;const O=["brush","middleData","eraser","eraserRectangle","polygonEdit","circleEdit","sTriangleEdit","sEllipseEditMessage","textEdit","rectangleEdit","ellipseEdit","editDelete","editDeletePage","editRegular","lineEdit","coordSys"];function S(t){n(2,c=t),E().curent_page=c}function j(){const t=E(),e=l();if("ppt"===t.docType){const n=e.canvas.stage.width(),r=9*n/16;let i=1;t.ratio<1.2&&(i=n/t.ratio/r),i!==e.canvas.heightScale&&e.canvas.scaleHeight(i),e.canvas.rotate(0,`${y}/${t.lesHash}/slide-${t.docContents[c-1]}.png`,`${s}.${c}`)}else e.canvas.scaleHeight(1),e.canvas.imagelayer.destroyChildren(),e.canvas.imagelayer.batchDraw()}function E(){for(var t=0;t<p.length;t++)if(p[t].docId===s)return p[t];return{}}function T(t){n(3,g=t)}function P(t){n(4,m=t)}function C(t){const e=[];let n=0;const r=l();for(var i=0;i<t.pageData.length;i++)O.includes(t.pageData[i].event)?e.push(t.pageData[i]):"!scroll-slide"===t.pageData[i].event&&(n=t.pageData[i].scrollSlide.move);t.pageData=e;const o=r.canvas.scaletoserver*n,a=_.whiteBoardPageMessageDecode(t),{id:d,data:p}=a;h(d,"scrollData",n),r.canvas.pushDataToLayer(p,d),d===`${s}.${c}`&&u(x.getWhitedom(),o)}function k(t){return E().docContents?E().docContents.length:100}return Object(i.d)(()=>{}),Object(i.a)(()=>{console.log("zmWhiteBoardafterUpdate",s,c);const t=k(s);o("message",{kind:"pageinfo",data:{curent_page:c,pages:t}})}),t.$set=t=>{"curent_doc_id"in t&&n(0,s=t.curent_doc_id),"cursor_cls"in t&&n(1,a=t.cursor_cls),"curent_page"in t&&n(2,c=t.curent_page),"docsInfos"in t&&n(5,p=t.docsInfos),"room_key"in t&&n(6,f=t.room_key),"is_loading"in t&&n(3,g=t.is_loading),"processmsg"in t&&n(4,m=t.processmsg),"ismaster"in t&&n(10,v=t.ismaster),"docUrlBase"in t&&n(11,y=t.docUrlBase),"role"in t&&n(12,b=t.role)},[s,a,c,g,m,p,f,w,x,function(t){const{detail:e}=t;console.log("classroomcb",e,_);const{type:r,data:i}=e;switch(r){case"dataCb":if(!_||!w)return;_.whiteBoardEncode(i);break;case"layerChange":if(j(),!_||!w)return;const t=l(),e=d(`${s}.${c}`,"scrollData");if(u(x.getWhitedom(),t.canvas.scaletoserver*(e||0)),v&&_.whiteboardSwitchSlide({page:c}),t&&t.canvas.cacheDataInstance.layerCachData[`${s}.${c}`]&&t.canvas.cacheDataInstance.layerCachData[`${s}.${c}`].length>0)return;_.classRoomGetWhiteBoarPagedData({pptId:s,page:c});break;case"docChange":if(!_||!w)return;v&&_.whiteboardLoadSlide({docId:s,page:c});break;case"docNavChange":n(2,c=i.curent_page),n(0,s=i.docId);break;case"nextPage":n(2,c+=1),E().curent_page=c,console.log("curent_page,",c);break;case"prePage":n(2,c-=1),E().curent_page=c;break;case"scrollTop":if(!_||!w)return;const r=i.server_data;v&&_.whiteboardScrollSlide({move:r}),h(`${s}.${c}`,"scrollData",r);break;case"drawingProcessCb":o("message",{kind:"drawingProcessCb",data:i})}},v,y,b,function(t){n(1,a=t)},function(){return s},function(){S(c+1)},function(){S(c-1)},S,T,A,P,function(){T(!0),_.classCreateRoomMessage({})},function(t){_=t,P("..."),_.init().then(()=>{console.log("initClassRoomService",_.roomKey),P("..."),T(!1)}),_.registerEvent({eventId:10000030,appid:_.appId,cb:t=>{const{data:e,pptIds:r,loadPPTInfo:i}=t.data;r&&(p.forEach(t=>{r[t.docId]&&(t.curent_page=r[t.docId])}),e.pptId&&p.some(t=>t.docId===e.pptId)?n(0,s=e.pptId):p.length>1&&n(0,s=p[1].docId),r[s]&&n(2,c=r[s])),C(e)}}),_.registerEvent({eventId:50010020,appid:_.appId,cb:t=>{const{data:e,pptIds:n,loadPPTInfo:r}=t;C(e)}}),_.registerEvent({eventId:50020080,appid:_.appId,cb:t=>{const{responseMessage:e}=t.data;e&&102===e.code?o("message",{kind:"error",data:e.msg}):(P("..."),_.classroomJoinRoomMessage({position:b}))}}),_.registerEvent({eventId:50020010,appid:_.appId,cb:t=>{console.log("",t.data);const{responseMessage:e}=t.data;e&&300!==e.code?o("message",{kind:"error",data:e.msg}):(console.log("",t.data),P("..."),_.classRoomPromotionSpeakerMessage(),v||(T(!1),n(7,w=!0)))}}),_.registerEvent({eventId:50020030,appid:_.appId,cb:t=>{v&&(console.log("",t.data),P("..."),_.classRoomLessonStartMessage())}}),_.registerEvent({eventId:50020060,appid:_.appId,cb:t=>{console.log("",t.data);const{responseMessage:e}=t.data;e&&802===e.code?o("message",{kind:"error",data:e.msg}):(n(7,w=!0),P(""),T(!1),_.whiteboardLoadSlide({docId:s,page:c}),_.whiteboardSwitchSlide({page:c}))}}),_.registerEvent({eventId:10000010,appid:_.appId,cb:t=>{console.log("",t.data);const{event:e}=t.data,n=l();if(O.includes(e)){const e=_.whiteBoardMessageDecode(t.data);console.log("",e),n.canvas.pushDataToLayer(e)}else if("!scroll-slide"===e){let e=0;e=t.data.scrollSlide.move;const r=n.canvas.scaletoserver*e;u(x.getWhitedom(),r),h(s,"scrollData",e)}else"!switch-slide"===e&&S(t.data.switchSlide.page)}}),console.log("cServcice",_)},_,o,O,j,E,C,k,function(t){r.f[t?"unshift":"push"](()=>{n(8,x=t)})}]}class D extends r.a{constructor(t){var e;super(),document.getElementById("svelte-16b2rea-style")||((e=Object(r.u)("style")).id="svelte-16b2rea-style",e.textContent=".root.svelte-16b2rea{width:100%;height:100%;display:flex;position:relative;align-items:center;overflow:hidden;justify-content:center;flex-direction:column}.loadingWhiteboard.svelte-16b2rea{display:flex;position:absolute;flex:auto;background:black;align-items:center;justify-content:center;z-index:2;left:50%;top:50%;transform:translateX(-50%) translateY(-50%)}.loader-ring.svelte-16b2rea{position:absolute;top:50%;left:50%;margin:-120px 0 0 -120px;width:240px;height:240px}.loader-ring-light.svelte-16b2rea{width:240px;height:240px;-moz-border-radius:240px;-webkit-border-radius:240px;border-radius:240px;-moz-box-shadow:0 4px 0 #00abf2 inset;-webkit-box-shadow:0 4px 0 #00abf2 inset;box-shadow:0 4px 0 #00abf2 inset;animation:svelte-16b2rea-rotate-360 2s linear infinite}.loader-ring-track.svelte-16b2rea{position:absolute;top:0;left:0;width:240px;height:240px;-moz-border-radius:240px;-webkit-border-radius:240px;border-radius:240px;-moz-box-shadow:0 0 10px 4px rgba(0, 0, 0, 0.3) inset;-webkit-box-shadow:0 0 10px 4px rgba(0, 0, 0, 0.3) inset;box-shadow:0 0 10px 4px rgba(0, 0, 0, 0.3) inset}.loading-text.svelte-16b2rea{color:#00abf2;text-align:center;margin-top:10px}@keyframes svelte-16b2rea-rotate-360{from{-moz-transform:rotate(0);-ms-transform:rotate(0);-webkit-transform:rotate(0);transform:rotate(0)}to{-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)}}",Object(r.c)(document.head,e)),Object(r.F)(this,t,k,C,r.R,{curent_doc_id:0,cursor_cls:1,curent_page:2,docsInfos:5,room_key:6,is_loading:3,processmsg:4,ismaster:10,docUrlBase:11,role:12,setCursorCls:13,getCurentDocId:14,nextPage:15,prevPage:16,setPage:17,setIsLoading:18,getZmSketch:19,setProcessmsg:20,joinRoom:21,initService:22})}get setCursorCls(){return this.$$.ctx[13]}get getCurentDocId(){return this.$$.ctx[14]}get nextPage(){return this.$$.ctx[15]}get prevPage(){return this.$$.ctx[16]}get setPage(){return this.$$.ctx[17]}get setIsLoading(){return this.$$.ctx[18]}get getZmSketch(){return A}get setProcessmsg(){return this.$$.ctx[20]}get joinRoom(){return this.$$.ctx[21]}get initService(){return this.$$.ctx[22]}}e.a=D},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(5),a=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],c=function(){function t(t){this.canvas=t,this._context=t._canvas.getContext("2d"),s.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}return t.prototype.fillShape=function(t){t.getFillEnabled()&&this._fill(t)},t.prototype._fill=function(t){},t.prototype.strokeShape=function(t){t.getStrokeEnabled()&&this._stroke(t)},t.prototype._stroke=function(t){},t.prototype.fillStrokeShape=function(t){t.getFillEnabled()&&this._fill(t),t.getStrokeEnabled()&&this._stroke(t)},t.prototype.getTrace=function(t){var e,n,r,i,s=this.traceArr,a=s.length,c="";for(e=0;e<a;e++)(r=(n=s[e]).method)?(i=n.args,c+=r,t?c+="()":o.Util._isArray(i[0])?c+="(["+i.join(",")+"])":c+="("+i.join(",")+")"):(c+=n.property,t||(c+="="+n.val)),c+=";";return c},t.prototype.clearTrace=function(){this.traceArr=[]},t.prototype._trace=function(t){var e=this.traceArr;e.push(t),e.length>=100&&e.shift()},t.prototype.reset=function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},t.prototype.getCanvas=function(){return this.canvas},t.prototype.clear=function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)},t.prototype._applyLineCap=function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},t.prototype._applyOpacity=function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},t.prototype._applyLineJoin=function(t){var e=t.getLineJoin();e&&this.setAttr("lineJoin",e)},t.prototype.setAttr=function(t,e){this._context[t]=e},t.prototype.arc=function(t,e,n,r,i,o){this._context.arc(t,e,n,r,i,o)},t.prototype.arcTo=function(t,e,n,r,i){this._context.arcTo(t,e,n,r,i)},t.prototype.beginPath=function(){this._context.beginPath()},t.prototype.bezierCurveTo=function(t,e,n,r,i,o){this._context.bezierCurveTo(t,e,n,r,i,o)},t.prototype.clearRect=function(t,e,n,r){this._context.clearRect(t,e,n,r)},t.prototype.clip=function(){this._context.clip()},t.prototype.closePath=function(){this._context.closePath()},t.prototype.createImageData=function(t,e){var n=arguments;return 2===n.length?this._context.createImageData(t,e):1===n.length?this._context.createImageData(t):void 0},t.prototype.createLinearGradient=function(t,e,n,r){return this._context.createLinearGradient(t,e,n,r)},t.prototype.createPattern=function(t,e){return this._context.createPattern(t,e)},t.prototype.createRadialGradient=function(t,e,n,r,i,o){return this._context.createRadialGradient(t,e,n,r,i,o)},t.prototype.drawImage=function(t,e,n,r,i,o,s,a,c){var l=arguments,u=this._context;3===l.length?u.drawImage(t,e,n):5===l.length?u.drawImage(t,e,n,r,i):9===l.length&&u.drawImage(t,e,n,r,i,o,s,a,c)},t.prototype.ellipse=function(t,e,n,r,i,o,s,a){this._context.ellipse(t,e,n,r,i,o,s,a)},t.prototype.isPointInPath=function(t,e){return this._context.isPointInPath(t,e)},t.prototype.fill=function(){this._context.fill()},t.prototype.fillRect=function(t,e,n,r){this._context.fillRect(t,e,n,r)},t.prototype.strokeRect=function(t,e,n,r){this._context.strokeRect(t,e,n,r)},t.prototype.fillText=function(t,e,n){this._context.fillText(t,e,n)},t.prototype.measureText=function(t){return this._context.measureText(t)},t.prototype.getImageData=function(t,e,n,r){return this._context.getImageData(t,e,n,r)},t.prototype.lineTo=function(t,e){this._context.lineTo(t,e)},t.prototype.moveTo=function(t,e){this._context.moveTo(t,e)},t.prototype.rect=function(t,e,n,r){this._context.rect(t,e,n,r)},t.prototype.putImageData=function(t,e,n){this._context.putImageData(t,e,n)},t.prototype.quadraticCurveTo=function(t,e,n,r){this._context.quadraticCurveTo(t,e,n,r)},t.prototype.restore=function(){this._context.restore()},t.prototype.rotate=function(t){this._context.rotate(t)},t.prototype.save=function(){this._context.save()},t.prototype.scale=function(t,e){this._context.scale(t,e)},t.prototype.setLineDash=function(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)},t.prototype.getLineDash=function(){return this._context.getLineDash()},t.prototype.setTransform=function(t,e,n,r,i,o){this._context.setTransform(t,e,n,r,i,o)},t.prototype.stroke=function(){this._context.stroke()},t.prototype.strokeText=function(t,e,n,r){this._context.strokeText(t,e,n,r)},t.prototype.transform=function(t,e,n,r,i,o){this._context.transform(t,e,n,r,i,o)},t.prototype.translate=function(t,e){this._context.translate(t,e)},t.prototype._enableTrace=function(){var t,e,n=this,r=a.length,i=o.Util._simplifyArray,s=this.setAttr,c=function(t){var r,o=n[t];n[t]=function(){return e=i(Array.prototype.slice.call(arguments,0)),r=o.apply(n,arguments),n._trace({method:t,args:e}),r}};for(t=0;t<r;t++)c(a[t]);n.setAttr=function(){s.apply(n,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),n._trace({property:t,val:e})}},t.prototype._applyGlobalCompositeOperation=function(t){var e=t.getGlobalCompositeOperation();"source-over"!==e&&this.setAttr("globalCompositeOperation",e)},t}();e.Context=c,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(t){Object.defineProperty(c.prototype,t,{get:function(){return this._context[t]},set:function(e){this._context[t]=e}})}));var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._fillColor=function(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)},e.prototype._fillPattern=function(t){var e=t.getFillPatternX(),n=t.getFillPatternY(),r=s.Konva.getAngle(t.getFillPatternRotation()),i=t.getFillPatternOffsetX(),o=t.getFillPatternOffsetY(),a=t.getFillPatternScaleX(),c=t.getFillPatternScaleY();(e||n)&&this.translate(e||0,n||0),r&&this.rotate(r),(a||c)&&this.scale(a,c),(i||o)&&this.translate(-1*i,-1*o),this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)},e.prototype._fillLinearGradient=function(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fillRadialGradient=function(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fill=function(t){var e=t.fill(),n=t.getFillPriority();if(e&&"color"===n)this._fillColor(t);else{var r=t.getFillPatternImage();if(r&&"pattern"===n)this._fillPattern(t);else{var i=t.getFillLinearGradientColorStops();if(i&&"linear-gradient"===n)this._fillLinearGradient(t);else{var o=t.getFillRadialGradientColorStops();o&&"radial-gradient"===n?this._fillRadialGradient(t):e?this._fillColor(t):r?this._fillPattern(t):i?this._fillLinearGradient(t):o&&this._fillRadialGradient(t)}}}},e.prototype._strokeLinearGradient=function(t){var e=t.getStrokeLinearGradientStartPoint(),n=t.getStrokeLinearGradientEndPoint(),r=t.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(e.x,e.y,n.x,n.y);if(r){for(var o=0;o<r.length;o+=2)i.addColorStop(r[o],r[o+1]);this.setAttr("strokeStyle",i)}},e.prototype._stroke=function(t){var e=t.dash(),n=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!n){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),n||this.restore()}},e.prototype._applyShadow=function(t){var e=o.Util,n=e.get(t.getShadowRGBA(),"black"),r=e.get(t.getShadowBlur(),5),i=e.get(t.getShadowOffset(),{x:0,y:0}),s=t.getAbsoluteScale(),a=this.canvas.getPixelRatio(),c=s.x*a,l=s.y*a;this.setAttr("shadowColor",n),this.setAttr("shadowBlur",r*Math.min(Math.abs(c),Math.abs(l))),this.setAttr("shadowOffsetX",i.x*c),this.setAttr("shadowOffsetY",i.y*l)},e}(c);e.SceneContext=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._fill=function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},e.prototype._stroke=function(t){if(t.hasHitStroke()){var e=t.getStrokeScaleEnabled();if(!e){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(t);var r=t.hitStrokeWidth(),i="auto"===r?t.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}},e}(c);e.HitContext=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),i=new Map,o=void 0!==r.Konva._global.PointerEvent;function s(t){return{evt:t,pointerId:t.pointerId}}function a(t,e){var n=i.get(t);if(n){var r=n.getStage();r&&r.content,i.delete(t),o&&n._fire("lostpointercapture",s(new PointerEvent("lostpointercapture")))}}e.getCapturedShape=function(t){return i.get(t)},e.createEvent=s,e.hasPointerCapture=function(t,e){return i.get(t)===e},e.setPointerCapture=function(t,e){a(t),e.getStage()&&(i.set(t,e),o&&e._fire("gotpointercapture",s(new PointerEvent("gotpointercapture"))))},e.releaseCapture=a},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(27),a=n(9),c=n(4),l=n(33),u=function(t){function e(e){var n=t.call(this,e)||this;return n.canvas=new l.SceneCanvas,n._waitingForDraw=!1,n.on("visibleChange",n._checkVisibility),n._checkVisibility(),n.on("imageSmoothingEnabledChange",n._checkSmooth),n._checkSmooth(),n}return i(e,t),e.prototype.createPNGStream=function(){return this.canvas._canvas.createPNGStream()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.getHitCanvas=function(){return this.hitCanvas},e.prototype.getContext=function(){return this.getCanvas().getContext()},e.prototype.clear=function(t){return this.getContext().clear(t),this},e.prototype.setZIndex=function(e){t.prototype.setZIndex.call(this,e);var n=this.getStage();return n&&(n.content.removeChild(this.getCanvas()._canvas),e<n.getChildren().length-1?n.content.insertBefore(this.getCanvas()._canvas,n.getChildren()[e+1].getCanvas()._canvas):n.content.appendChild(this.getCanvas()._canvas)),this},e.prototype.moveToTop=function(){a.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),!0},e.prototype.moveUp=function(){if(!a.Node.prototype.moveUp.call(this))return!1;var t=this.getStage();return!!t&&(t.content.removeChild(this.getCanvas()._canvas),this.index<t.getChildren().length-1?t.content.insertBefore(this.getCanvas()._canvas,t.getChildren()[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas),!0)},e.prototype.moveDown=function(){if(a.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}return!0}return!1},e.prototype.moveToBottom=function(){if(a.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}return!0}return!1},e.prototype.getLayer=function(){return this},e.prototype.hitGraphEnabled=function(){return!0},e.prototype.remove=function(){var t=this.getCanvas()._canvas;return a.Node.prototype.remove.call(this),t&&t.parentNode&&o.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},e.prototype.getStage=function(){return this.parent},e.prototype.setSize=function(t){var e=t.width,n=t.height;return this.canvas.setSize(e,n),this},e.prototype._toKonvaCanvas=function(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),a.Node.prototype._toKonvaCanvas.call(this,t)},e.prototype._checkVisibility=function(){var t=this.visible();this.canvas._canvas.style.display=t?"block":"none"},e.prototype._checkSmooth=function(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()},e.prototype.getWidth=function(){if(this.parent)return this.parent.width()},e.prototype.setWidth=function(){o.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},e.prototype.getHeight=function(){if(this.parent)return this.parent.height()},e.prototype.setHeight=function(){o.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},e.prototype.getIntersection=function(t,e){return null},e.prototype.batchDraw=function(){var t=this;return this._waitingForDraw||(this._waitingForDraw=!0,o.Util.requestAnimFrame((function(){t.draw(),t._waitingForDraw=!1}))),this},e.prototype._applyTransform=function(t,e,n){var r=t.getAbsoluteTransform(n).getMatrix();e.transform(r[0],r[1],r[2],r[3],r[4],r[5])},e}(s.Container);e.BaseLayer=u,u.prototype.nodeType="BaseLayer",c.Factory.addGetterSetter(u,"imageSmoothingEnabled",!0),c.Factory.addGetterSetter(u,"clearBeforeDraw",!0),o.Collection.mapMethods(u)},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(e,"__esModule",{value:!0});var s=n(7),a=n(4),c=n(12),l=n(6),u=n(5),h=function(t){function e(e){var n=t.call(this,e)||this;return n.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")})),n}return i(e,t),e.prototype._sceneFunc=function(t){var e,n,r,i=this.points(),o=i.length,s=this.tension(),a=this.closed(),c=this.bezier();if(o){if(t.beginPath(),t.moveTo(i[0],i[1]),0!==s&&o>4){for(n=(e=this.getTensionPoints()).length,r=a?0:4,a||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);r<n-2;)t.bezierCurveTo(e[r++],e[r++],e[r++],e[r++],e[r++],e[r++]);a||t.quadraticCurveTo(e[n-2],e[n-1],i[o-2],i[o-1])}else if(c)for(r=2;r<o;)t.bezierCurveTo(i[r++],i[r++],i[r++],i[r++],i[r++],i[r++]);else for(r=2;r<o;r+=2)t.lineTo(i[r],i[r+1]);a?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},e.prototype.getTensionPoints=function(){return this._getCache("tensionPoints",this._getTensionPoints)},e.prototype._getTensionPoints=function(){return this.closed()?this._getTensionPointsClosed():s.Util._expandPoints(this.points(),this.tension())},e.prototype._getTensionPointsClosed=function(){var t=this.points(),e=t.length,n=this.tension(),r=s.Util._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),i=s.Util._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),o=s.Util._expandPoints(t,n);return[r[2],r[3]].concat(o).concat([i[0],i[1],t[e-2],t[e-1],i[2],i[3],r[0],r[1],t[0],t[1]])},e.prototype.getWidth=function(){return this.getSelfRect().width},e.prototype.getHeight=function(){return this.getSelfRect().height},e.prototype.getSelfRect=function(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};for(var e,n,r=(t=0!==this.tension()?o([t[0],t[1]],this._getTensionPoints(),[t[t.length-2],t[t.length-1]]):this.points())[0],i=t[0],s=t[1],a=t[1],c=0;c<t.length/2;c++)e=t[2*c],n=t[2*c+1],r=Math.min(r,e),i=Math.max(i,e),s=Math.min(s,n),a=Math.max(a,n);return{x:Math.round(r),y:Math.round(s),width:Math.round(i-r),height:Math.round(a-s)}},e}(c.Shape);e.Line=h,h.prototype.className="Line",h.prototype._attrsAffectingSize=["points","bezier","tension"],u._registerNode(h),a.Factory.addGetterSetter(h,"closed",!1),a.Factory.addGetterSetter(h,"bezier",!1),a.Factory.addGetterSetter(h,"tension",0,l.getNumberValidator()),a.Factory.addGetterSetter(h,"points",[],l.getNumberArrayValidator()),s.Collection.mapMethods(h)},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(4),a=n(12),c=n(5),l=function(t){function e(n){var r=t.call(this,n)||this;r.dataArray=[],r.pathLength=0,r.dataArray=e.parsePathData(r.data()),r.pathLength=0;for(var i=0;i<r.dataArray.length;++i)r.pathLength+=r.dataArray[i].pathLength;return r.on("dataChange.konva",(function(){this.dataArray=e.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength})),r}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.dataArray;t.beginPath();for(var n=0;n<e.length;n++){var r=e[n].command,i=e[n].points;switch(r){case"L":t.lineTo(i[0],i[1]);break;case"M":t.moveTo(i[0],i[1]);break;case"C":t.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case"Q":t.quadraticCurveTo(i[0],i[1],i[2],i[3]);break;case"A":var o=i[0],s=i[1],a=i[2],c=i[3],l=i[4],u=i[5],h=i[6],d=i[7],p=a>c?a:c,f=a>c?1:a/c,g=a>c?c/a:1;t.translate(o,s),t.rotate(h),t.scale(f,g),t.arc(0,0,p,l,l+u,1-d),t.scale(1/f,1/g),t.rotate(-h),t.translate(-o,-s);break;case"z":t.closePath()}}t.fillStrokeShape(this)},e.prototype.getSelfRect=function(){var t=[];this.dataArray.forEach((function(e){t="A"===e.command?t.concat([e.points[0]-e.points[2],e.points[1]-e.points[3],e.points[0]+e.points[2],e.points[1]+e.points[3]]):t.concat(e.points)}));for(var e,n,r=t[0],i=t[0],o=t[1],s=t[1],a=0;a<t.length/2;a++)e=t[2*a],n=t[2*a+1],isNaN(e)||(r=Math.min(r,e),i=Math.max(i,e)),isNaN(n)||(o=Math.min(o,n),s=Math.max(s,n));return{x:Math.round(r),y:Math.round(o),width:Math.round(i-r),height:Math.round(s-o)}},e.prototype.getLength=function(){return this.pathLength},e.prototype.getPointAtLength=function(t){var n,r=0,i=this.dataArray.length;if(!i)return null;for(;r<i&&t>this.dataArray[r].pathLength;)t-=this.dataArray[r].pathLength,++r;if(r===i)return{x:(n=this.dataArray[r-1].points.slice(-2))[0],y:n[1]};if(t<.01)return{x:(n=this.dataArray[r].points.slice(0,2))[0],y:n[1]};var o=this.dataArray[r],s=o.points;switch(o.command){case"L":return e.getPointOnLine(t,o.start.x,o.start.y,s[0],s[1]);case"C":return e.getPointOnCubicBezier(t/o.pathLength,o.start.x,o.start.y,s[0],s[1],s[2],s[3],s[4],s[5]);case"Q":return e.getPointOnQuadraticBezier(t/o.pathLength,o.start.x,o.start.y,s[0],s[1],s[2],s[3]);case"A":var a=s[0],c=s[1],l=s[2],u=s[3],h=s[4],d=s[5],p=s[6];return h+=d*t/o.pathLength,e.getPointOnEllipticalArc(a,c,l,u,h,p)}return null},e.getLineLength=function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))},e.getPointOnLine=function(t,e,n,r,i,o,s){void 0===o&&(o=e),void 0===s&&(s=n);var a=(i-n)/(r-e+1e-8),c=Math.sqrt(t*t/(1+a*a));r<e&&(c*=-1);var l,u=a*c;if(r===e)l={x:o,y:s+u};else if((s-n)/(o-e+1e-8)===a)l={x:o+c,y:s+u};else{var h,d,p=this.getLineLength(e,n,r,i);if(p<1e-8)return;var f=(o-e)*(r-e)+(s-n)*(i-n);h=e+(f/=p*p)*(r-e),d=n+f*(i-n);var g=this.getLineLength(o,s,h,d),m=Math.sqrt(t*t-g*g);c=Math.sqrt(m*m/(1+a*a)),r<e&&(c*=-1),l={x:h+c,y:d+(u=a*c)}}return l},e.getPointOnCubicBezier=function(t,e,n,r,i,o,s,a,c){function l(t){return t*t*t}function u(t){return 3*t*t*(1-t)}function h(t){return 3*t*(1-t)*(1-t)}function d(t){return(1-t)*(1-t)*(1-t)}return{x:a*l(t)+o*u(t)+r*h(t)+e*d(t),y:c*l(t)+s*u(t)+i*h(t)+n*d(t)}},e.getPointOnQuadraticBezier=function(t,e,n,r,i,o,s){function a(t){return t*t}function c(t){return 2*t*(1-t)}function l(t){return(1-t)*(1-t)}return{x:o*a(t)+r*c(t)+e*l(t),y:s*a(t)+i*c(t)+n*l(t)}},e.getPointOnEllipticalArc=function(t,e,n,r,i,o){var s=Math.cos(o),a=Math.sin(o),c=n*Math.cos(i),l=r*Math.sin(i);return{x:t+(c*s-l*a),y:e+(c*a+l*s)}},e.parsePathData=function(t){if(!t)return[];var e=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var r=0;r<n.length;r++)e=e.replace(new RegExp(n[r],"g"),"|"+n[r]);var i,o=e.split("|"),s=[],a=[],c=0,l=0,u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(r=1;r<o.length;r++){var h=o[r],d=h.charAt(0);for(h=h.slice(1),a.length=0;i=u.exec(h);)a.push(i[0]);for(var p=[],f=0,g=a.length;f<g;f++){var m=parseFloat(a[f]);isNaN(m)?p.push(0):p.push(m)}for(;p.length>0&&!isNaN(p[0]);){var v,y,b,w,_,x,O,S,j,E,T=null,P=[],C=c,A=l;switch(d){case"l":c+=p.shift(),l+=p.shift(),T="L",P.push(c,l);break;case"L":c=p.shift(),l=p.shift(),P.push(c,l);break;case"m":var k=p.shift(),D=p.shift();if(c+=k,l+=D,T="M",s.length>2&&"z"===s[s.length-1].command)for(var I=s.length-2;I>=0;I--)if("M"===s[I].command){c=s[I].points[0]+k,l=s[I].points[1]+D;break}P.push(c,l),d="l";break;case"M":c=p.shift(),l=p.shift(),T="M",P.push(c,l),d="L";break;case"h":c+=p.shift(),T="L",P.push(c,l);break;case"H":c=p.shift(),T="L",P.push(c,l);break;case"v":l+=p.shift(),T="L",P.push(c,l);break;case"V":l=p.shift(),T="L",P.push(c,l);break;case"C":P.push(p.shift(),p.shift(),p.shift(),p.shift()),c=p.shift(),l=p.shift(),P.push(c,l);break;case"c":P.push(c+p.shift(),l+p.shift(),c+p.shift(),l+p.shift()),c+=p.shift(),l+=p.shift(),T="C",P.push(c,l);break;case"S":y=c,b=l,"C"===(v=s[s.length-1]).command&&(y=c+(c-v.points[2]),b=l+(l-v.points[3])),P.push(y,b,p.shift(),p.shift()),c=p.shift(),l=p.shift(),T="C",P.push(c,l);break;case"s":y=c,b=l,"C"===(v=s[s.length-1]).command&&(y=c+(c-v.points[2]),b=l+(l-v.points[3])),P.push(y,b,c+p.shift(),l+p.shift()),c+=p.shift(),l+=p.shift(),T="C",P.push(c,l);break;case"Q":P.push(p.shift(),p.shift()),c=p.shift(),l=p.shift(),P.push(c,l);break;case"q":P.push(c+p.shift(),l+p.shift()),c+=p.shift(),l+=p.shift(),T="Q",P.push(c,l);break;case"T":y=c,b=l,"Q"===(v=s[s.length-1]).command&&(y=c+(c-v.points[0]),b=l+(l-v.points[1])),c=p.shift(),l=p.shift(),T="Q",P.push(y,b,c,l);break;case"t":y=c,b=l,"Q"===(v=s[s.length-1]).command&&(y=c+(c-v.points[0]),b=l+(l-v.points[1])),c+=p.shift(),l+=p.shift(),T="Q",P.push(y,b,c,l);break;case"A":w=p.shift(),_=p.shift(),x=p.shift(),O=p.shift(),S=p.shift(),j=c,E=l,c=p.shift(),l=p.shift(),T="A",P=this.convertEndpointToCenterParameterization(j,E,c,l,O,S,w,_,x);break;case"a":w=p.shift(),_=p.shift(),x=p.shift(),O=p.shift(),S=p.shift(),j=c,E=l,c+=p.shift(),l+=p.shift(),T="A",P=this.convertEndpointToCenterParameterization(j,E,c,l,O,S,w,_,x)}s.push({command:T||d,points:P,start:{x:C,y:A},pathLength:this.calcLength(C,A,T||d,P)})}"z"!==d&&"Z"!==d||s.push({command:"z",points:[],start:void 0,pathLength:0})}return s},e.calcLength=function(t,n,r,i){var o,s,a,c,l=e;switch(r){case"L":return l.getLineLength(t,n,i[0],i[1]);case"C":for(o=0,s=l.getPointOnCubicBezier(0,t,n,i[0],i[1],i[2],i[3],i[4],i[5]),c=.01;c<=1;c+=.01)a=l.getPointOnCubicBezier(c,t,n,i[0],i[1],i[2],i[3],i[4],i[5]),o+=l.getLineLength(s.x,s.y,a.x,a.y),s=a;return o;case"Q":for(o=0,s=l.getPointOnQuadraticBezier(0,t,n,i[0],i[1],i[2],i[3]),c=.01;c<=1;c+=.01)a=l.getPointOnQuadraticBezier(c,t,n,i[0],i[1],i[2],i[3]),o+=l.getLineLength(s.x,s.y,a.x,a.y),s=a;return o;case"A":o=0;var u=i[4],h=i[5],d=i[4]+h,p=Math.PI/180;if(Math.abs(u-d)<p&&(p=Math.abs(u-d)),s=l.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),h<0)for(c=u-p;c>d;c-=p)a=l.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),o+=l.getLineLength(s.x,s.y,a.x,a.y),s=a;else for(c=u+p;c<d;c+=p)a=l.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),o+=l.getLineLength(s.x,s.y,a.x,a.y),s=a;return a=l.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),o+=l.getLineLength(s.x,s.y,a.x,a.y)}return 0},e.convertEndpointToCenterParameterization=function(t,e,n,r,i,o,s,a,c){var l=c*(Math.PI/180),u=Math.cos(l)*(t-n)/2+Math.sin(l)*(e-r)/2,h=-1*Math.sin(l)*(t-n)/2+Math.cos(l)*(e-r)/2,d=u*u/(s*s)+h*h/(a*a);d>1&&(s*=Math.sqrt(d),a*=Math.sqrt(d));var p=Math.sqrt((s*s*(a*a)-s*s*(h*h)-a*a*(u*u))/(s*s*(h*h)+a*a*(u*u)));i===o&&(p*=-1),isNaN(p)&&(p=0);var f=p*s*h/a,g=p*-a*u/s,m=(t+n)/2+Math.cos(l)*f-Math.sin(l)*g,v=(e+r)/2+Math.sin(l)*f+Math.cos(l)*g,y=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},b=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(y(t)*y(e))},w=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(b(t,e))},_=w([1,0],[(u-f)/s,(h-g)/a]),x=[(u-f)/s,(h-g)/a],O=[(-1*u-f)/s,(-1*h-g)/a],S=w(x,O);return b(x,O)<=-1&&(S=Math.PI),b(x,O)>=1&&(S=0),0===o&&S>0&&(S-=2*Math.PI),1===o&&S<0&&(S+=2*Math.PI),[m,v,s,a,_,S,l,o]},e}(a.Shape);e.Path=l,l.prototype.className="Path",l.prototype._attrsAffectingSize=["data"],c._registerNode(l),s.Factory.addGetterSetter(l,"data"),o.Collection.mapMethods(l)},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(4),a=n(12),c=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.cornerRadius(),n=this.width(),r=this.height();if(t.beginPath(),e){var i=0,o=0,s=0,a=0;"number"==typeof e?i=o=s=a=Math.min(e,n/2,r/2):(i=Math.min(e[0],n/2,r/2),o=Math.min(e[1],n/2,r/2),a=Math.min(e[2],n/2,r/2),s=Math.min(e[3],n/2,r/2)),t.moveTo(i,0),t.lineTo(n-o,0),t.arc(n-o,o,o,3*Math.PI/2,0,!1),t.lineTo(n,r-a),t.arc(n-a,r-a,a,0,Math.PI/2,!1),t.lineTo(s,r),t.arc(s,r-s,s,Math.PI/2,Math.PI,!1),t.lineTo(0,i),t.arc(i,i,i,Math.PI,3*Math.PI/2,!1)}else t.rect(0,0,n,r);t.closePath(),t.fillStrokeShape(this)},e}(a.Shape);e.Rect=l,l.prototype.className="Rect",c._registerNode(l),s.Factory.addGetterSetter(l,"cornerRadius",0),o.Collection.mapMethods(l)},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=n(7),a=n(4),c=n(12),l=n(5),u=n(6),h=n(5),d=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],p=d.length;function f(){return o||(o=s.Util.createCanvasElement().getContext("2d"))}String.prototype.trimRight;var g=function(t){function e(e){var n=t.call(this,function(t){return(t=t||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}(e))||this;n._partialTextX=0,n._partialTextY=0;for(var r=0;r<p;r++)n.on(d[r]+"Change.konva",n._setTextData);return n._setTextData(),n}return i(e,t),e.prototype._sceneFunc=function(t){var e,n=this.padding(),r=this.fontSize(),i=this.lineHeight()*r,o=this.textArr,s=o.length,a=this.verticalAlign(),c=0,l=this.align(),u=this.getWidth(),h=this.letterSpacing(),d=this.fill(),p=this.textDecoration(),f=-1!==p.indexOf("underline"),g=-1!==p.indexOf("line-through"),m=0,v=(m=i/2,0),y=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign","left"),"middle"===a?c=(this.getHeight()-s*i-2*n)/2:"bottom"===a&&(c=this.getHeight()-s*i-2*n),t.translate(n,c+n),e=0;e<s;e++){v=0,y=0;var b,w,_,x=o[e],O=x.text,S=x.width,j=e!==s-1;if(t.save(),"right"===l?v+=u-S-2*n:"center"===l&&(v+=(u-S-2*n)/2),f&&(t.save(),t.beginPath(),t.moveTo(v,m+y+Math.round(r/2)),w=0===(b=O.split(" ").length-1),_="justify"===l&&j&&!w?u-2*n:S,t.lineTo(v+Math.round(_),m+y+Math.round(r/2)),t.lineWidth=r/15,t.strokeStyle=d,t.stroke(),t.restore()),g&&(t.save(),t.beginPath(),t.moveTo(v,m+y),w=0===(b=O.split(" ").length-1),_="justify"===l&&j&&!w?u-2*n:S,t.lineTo(v+Math.round(_),m+y),t.lineWidth=r/15,t.strokeStyle=d,t.stroke(),t.restore()),0!==h||"justify"===l){b=O.split(" ").length-1;for(var E=0;E<O.length;E++){var T=O[E];" "===T&&e!==s-1&&"justify"===l&&(v+=Math.floor((u-2*n-S)/b)),this._partialTextX=v,this._partialTextY=m+y,this._partialText=T,t.fillStrokeShape(this),v+=Math.round(this.measureSize(T).width)+h}}else this._partialTextX=v,this._partialTextY=m+y,this._partialText=O,t.fillStrokeShape(this);t.restore(),s>1&&(m+=i)}},e.prototype._hitFunc=function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},e.prototype.setText=function(t){var e=s.Util._isString(t)?t:null==t?"":t+"";return this._setAttr("text",e),this},e.prototype.getWidth=function(){return"auto"===this.attrs.width||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width},e.prototype.getHeight=function(){return"auto"===this.attrs.height||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return s.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.measureSize=function(t){var e,n=f(),r=this.fontSize();return n.save(),n.font=this._getContextFont(),e=n.measureText(t),n.restore(),{width:e.width,height:r}},e.prototype._getContextFont=function(){return l.Konva.UA.isIE?this.fontStyle()+" "+this.fontSize()+"px "+this.fontFamily():this.fontStyle()+" "+this.fontVariant()+" "+this.fontSize()+"px "+this.fontFamily()},e.prototype._addTextLine=function(t){"justify"===this.align()&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})},e.prototype._getTextWidth=function(t){var e=this.letterSpacing(),n=t.length;return f().measureText(t).width+(n?e*(n-1):0)},e.prototype._setTextData=function(){var t=this.text().split("\n"),e=+this.fontSize(),n=0,r=this.lineHeight()*e,i=this.attrs.width,o=this.attrs.height,s="auto"!==i&&void 0!==i,a="auto"!==o&&void 0!==o,c=this.padding(),l=i-2*c,u=o-2*c,h=0,d=this.wrap(),p="none"!==d,g="char"!==d&&p,m=this.ellipsis()&&!p;this.textArr=[],f().font=this._getContextFont();for(var v=m?this._getTextWidth(""):0,y=0,b=t.length;y<b;++y){var w=t[y],_=this._getTextWidth(w);if(s&&_>l)for(;w.length>0;){for(var x=0,O=w.length,S="",j=0;x<O;){var E=x+O>>>1,T=w.slice(0,E+1),P=this._getTextWidth(T)+v;P<=l?(x=E+1,S=T+(m?"":""),j=P):O=E}if(!S)break;if(g){var C,A=w[S.length];(C=(" "===A||"-"===A)&&j<=l?S.length:Math.max(S.lastIndexOf(" "),S.lastIndexOf("-"))+1)>0&&(x=C,S=S.slice(0,x),j=this._getTextWidth(S))}if(S=S.trimRight(),this._addTextLine(S),n=Math.max(n,j),h+=r,!p||a&&h+r>u)break;if((w=(w=w.slice(x)).trimLeft()).length>0&&(_=this._getTextWidth(w))<=l){this._addTextLine(w),h+=r,n=Math.max(n,_);break}}else this._addTextLine(w),h+=r,n=Math.max(n,_);if(a&&h+r>u)break}this.textHeight=e,this.textWidth=n},e.prototype.getStrokeScaleEnabled=function(){return!0},e}(c.Shape);e.Text=g,g.prototype._fillFunc=function(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},g.prototype._strokeFunc=function(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},g.prototype.className="Text",g.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight"],h._registerNode(g),a.Factory.overWriteSetter(g,"width",u.getNumberOrAutoValidator()),a.Factory.overWriteSetter(g,"height",u.getNumberOrAutoValidator()),a.Factory.addGetterSetter(g,"fontFamily","Arial"),a.Factory.addGetterSetter(g,"fontSize",12,u.getNumberValidator()),a.Factory.addGetterSetter(g,"fontStyle","normal"),a.Factory.addGetterSetter(g,"fontVariant","normal"),a.Factory.addGetterSetter(g,"padding",0,u.getNumberValidator()),a.Factory.addGetterSetter(g,"align","left"),a.Factory.addGetterSetter(g,"verticalAlign","top"),a.Factory.addGetterSetter(g,"lineHeight",1,u.getNumberValidator()),a.Factory.addGetterSetter(g,"wrap","word"),a.Factory.addGetterSetter(g,"ellipsis",!1),a.Factory.addGetterSetter(g,"letterSpacing",0,u.getNumberValidator()),a.Factory.addGetterSetter(g,"text","",u.getStringValidator()),a.Factory.addGetterSetter(g,"textDecoration",""),s.Collection.mapMethods(g)},function(t,e,n){"use strict";e.__esModule=!0,e.LineEdit=void 0;var r=n(8),i=n(11),o=n(15);e.LineEdit=function(t){function e(n,r,s,a,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,s,a,c));return l.shape=new Konva.Group({draggable:!1,name:"editshape"}),l.tr=(0,o.makeTransformer)(),l.tr.on("mousedown touchstart",(function(t){console.log("tr mousedown"),l.stage.canvasaction.isSelectMode()&&(t.cancelBubble=!0)})),l.templayer.add(l.shape),l.line=new Konva.Line(r),l.tempAchor=(0,o.makeEditPoi)(r),o.makeMoveHover.bind(l)(l.tempAchor),l.tempAchor.on("dragmove",(function(t){t.cancelBubble=!0;var e=t.target,n=e.parent,r=e.getAttr("pIndex");l.middlePoints[r]=e.x(),l.middlePoints[r+1]=e.y(),n.children[r+2].x(e.x()+i.EDIT_LABLE_DXY.dx),n.children[r+2].y(e.y()+i.EDIT_LABLE_DXY.dy),console.log("tempAchor dragmove",r),l.fireEdit(n,!0),l.reCal(n.findOne("Line"))})),l.tempAchor.on("dragend",(function(t){t.cancelBubble=!0;var e=t.target,n=e.getAttr("pIndex");l.stage.canvasaction.localClientId++;var r=e.x(),s=e.y(),a=[r*l.stage.scale().x,s*l.stage.scale().x,l.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.parent.id(),2,n/2],!0];l.stage.canvasaction.sendMessageToOutSider(a),l.stage.canvasaction.pushCatchData(a)})),l.shape.add(l.tempAchor),l.achorTextCode=(0,o.getCharLabel)(),l.achorText=(0,o.makeTextPoi)(r,l.achorTextCode),l.shape.add(l.achorText),l.shape.add(l.line),l.firstAchor=null,l.isTempAchor=!0,l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){return null},e.prototype.moveAchorText=function(t,e){e.points(),t.find("Text")},e.prototype.fitAchorText=function(t,e){},e.prototype.centerDataTemp=function(t){return null},e.prototype.endDataTemp=function(t){return[[0,0,this.clientid,this.toolname,[this.style.strokeWidth,0,this.style.stroke,0],[],[this.uid,this.middlePoints.concat(),this.isTempAchor?1:0]]]},e.prototype.pushPoint=function(t){var e=this.middlePoints.length;if(4===e)this.middlePoints[2]=t.x/this.stage.scale().x,this.middlePoints[3]=t.y/this.stage.scale().x,this.isShift&&(Math.abs(this.middlePoints[2]-this.middlePoints[0])<Math.abs(this.middlePoints[3]-this.middlePoints[1])?(this.middlePoints[2]=this.middlePoints[0],this.middlePoints[3]=t.y/this.stage.scale().x):(this.middlePoints[2]=t.x/this.stage.scale().x,this.middlePoints[3]=this.middlePoints[1])),this.shape.children[this.shape.children.length-1].x(this.middlePoints[2]+i.EDIT_LABLE_DXY.dx),this.shape.children[this.shape.children.length-1].y(this.middlePoints[3]+i.EDIT_LABLE_DXY.dy),this.shape.children[this.shape.children.length-2].x(this.middlePoints[2]),this.shape.children[this.shape.children.length-2].y(this.middlePoints[3]),this.reCal(this.line);else{this.middlePoints.push(t.x/this.stage.scale().x),this.middlePoints.push(t.y/this.stage.scale().x);var n=this.tempAchor.clone({pIndex:e});n.x(this.middlePoints[e]),n.y(this.middlePoints[e+1]);var r=this.achorText.clone({pIndex:e,visible:this.isTempAchor});r.x(this.middlePoints[e]+i.EDIT_LABLE_DXY.dx),r.y(this.middlePoints[e+1]+i.EDIT_LABLE_DXY.dy),r.text(this.achorTextCode),this.achorTextCode=(0,o.makeCharLabel)(),this.shape.add(n),this.shape.add(r),0===e?this.tempAchor.setAttr("status","fixed"):2===e&&(this.tempAchor.setAttr("status","end"),this.reCal(this.line))}},e.prototype.reCal=function(t){t.points(this.middlePoints)},e.prototype.draw=function(){"replayData"!==this.showtype&&this.templayer.batchDraw()},e.prototype.endDraw=function(){var t=this;this.tempAchor.remove(),this.achorText.remove();var e=this.shape.clone();this.isTempAchor||e.find(".editpoi").forEach((function(t){return t.hide()})),this.shape.remove(),this.shape.destroy(),this.showlayer.add(e),e.me=this,e.id(this.uid),"replayData"===this.showtype||e.draw(),e.on("click",(function(n){if(console.log("clicked"),t.stage.canvasaction.isSelectMode()){var r=t.isSelected;t.stage.canvasaction.removeSelectShape(),t.isSelected=r,t.isSelected?t.unfireEdit(e):(console.log("fireEdit"),t.fireEdit(e));var i=t.stage.canvasaction.options;i&&i.selectShapeCb&&i.selectShapeCb()}n.cancelBubble=!0})),e.on("mousedown touchstart",(function(e){console.log("mousedown",t.stage.canvasaction.isSelectMode()),t.stage.canvasaction.isSelectMode()&&(e.cancelBubble=!0)})),e.on("dragmove",(function(){console.log("dragmove")})),e.on("dragend",(function(){if(console.log("dragend"),t.isSelected){t.stage.canvasaction.localClientId++;var n=e.x(),r=e.y(),s=[n*t.stage.scale().x,r*t.stage.scale().x,t.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.id(),0],!0];t.stage.canvasaction.sendMessageToOutSider(s),t.stage.canvasaction.pushCatchData(s)}})),e.on("transform",(function(){console.log("transform")})),e.on("transformend",(function(){console.log("transform end"),t.stage.canvasaction.localClientId++;var n=e.x(),r=e.y(),s=e.scaleX(),a=e.scaleY(),c=[n*t.stage.scale().x,r*t.stage.scale().x,t.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.id(),1,s,a],!0];t.stage.canvasaction.sendMessageToOutSider(c),t.stage.canvasaction.pushCatchData(c)}))},e.prototype.fireEdit=function(t,e){var n=this;this.isSelected=!0,t.draggable(!0),e||(this.stage.container().style.cursor="move"),this.tr&&this.tr.remove(),this.showlayer.add(this.tr),this.tr.attachTo(t),t.off("mouseenter"),t.off("mouseleave"),t.on("mouseenter",(function(){n.stage.container().style.cursor="move"})),t.on("mouseleave",(function(){n.stage.container().style.cursor=""})),t.find("Circle").forEach((function(t,e){t.draggable(!0)})),this.showlayer.batchDraw()},e.prototype.unfireEdit=function(t){this.isSelected=!1,t.draggable(!1),this.tr&&this.tr.remove(),t.off("mouseenter"),t.off("mouseleave"),this.stage.container().style.cursor="",t.find("Circle").forEach((function(t){t.draggable(!1)})),this.showlayer.batchDraw()},e.prototype.changeByPoint=function(t,e,n){var r=t.find("Circle"),o=t.find("Text"),s=t.findOne("Line");this.middlePoints[2*n]=e[0],this.middlePoints[2*n+1]=e[1],r&&r[n]&&(r[n].x(e[0]),r[n].y(e[1]),o[n].x(e[0]+i.EDIT_LABLE_DXY.dx),o[n].y(e[1]+i.EDIT_LABLE_DXY.dy),this.reCal(s))},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.LineArrowEdit=void 0;var r=n(8),i=n(11),o=n(15);e.LineArrowEdit=function(t){function e(n,r,s,a,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,s,a,c));return l.shape=new Konva.Group({draggable:!1,name:"editshape"}),l.tr=(0,o.makeTransformer)(),l.tr.on("mousedown touchstart",(function(t){console.log("tr mousedown"),l.stage.canvasaction.isSelectMode()&&(t.cancelBubble=!0)})),l.templayer.add(l.shape),l.line=new Konva.Arrow(Object.assign({},{pointerLength:20,pointerWidth:10,fill:r.stroke},r)),l.tempAchor=(0,o.makeEditPoi)(r),l.tempAchor.on("dragmove",(function(t){t.cancelBubble=!0;var e=t.target,n=e.parent,r=e.getAttr("pIndex");l.middlePoints[r]=e.x(),l.middlePoints[r+1]=e.y(),n.children[r+2].x(e.x()+i.EDIT_LABLE_DXY.dx),n.children[r+2].y(e.y()+i.EDIT_LABLE_DXY.dy),console.log("tempAchor dragmove",r),l.fireEdit(n,!0),l.reCal(n.findOne("Arrow"))})),o.makeMoveHover.bind(l)(l.tempAchor),l.tempAchor.on("dragend",(function(t){t.cancelBubble=!0;var e=t.target,n=e.getAttr("pIndex");l.stage.canvasaction.localClientId++;var r=e.x(),s=e.y(),a=[r*l.stage.scale().x,s*l.stage.scale().x,l.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.parent.id(),2,n/2],!0];l.stage.canvasaction.sendMessageToOutSider(a),l.stage.canvasaction.pushCatchData(a)})),l.shape.add(l.tempAchor),l.achorTextCode=(0,o.getCharLabel)(),l.achorText=(0,o.makeTextPoi)(r,l.achorTextCode),l.shape.add(l.achorText),l.shape.add(l.line),l.firstAchor=null,l.isTempAchor=!0,l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){return null},e.prototype.moveAchorText=function(t,e){},e.prototype.fitAchorText=function(t,e){},e.prototype.centerDataTemp=function(t){return null},e.prototype.endDataTemp=function(t){return[[0,0,this.clientid,this.toolname,[this.style.strokeWidth,0,this.style.stroke,0],[],[this.uid,this.middlePoints.concat(),this.isTempAchor?1:0]]]},e.prototype.pushPoint=function(t){var e=this.middlePoints.length;if(4===e)this.middlePoints[2]=t.x/this.stage.scale().x,this.middlePoints[3]=t.y/this.stage.scale().x,this.isShift&&(Math.abs(this.middlePoints[2]-this.middlePoints[0])<Math.abs(this.middlePoints[3]-this.middlePoints[1])?(this.middlePoints[2]=this.middlePoints[0],this.middlePoints[3]=t.y/this.stage.scale().x):(this.middlePoints[2]=t.x/this.stage.scale().x,this.middlePoints[3]=this.middlePoints[1])),this.shape.children[this.shape.children.length-1].x(this.middlePoints[2]+i.EDIT_LABLE_DXY.dx),this.shape.children[this.shape.children.length-1].y(this.middlePoints[3]+i.EDIT_LABLE_DXY.dy),this.shape.children[this.shape.children.length-2].x(this.middlePoints[2]),this.shape.children[this.shape.children.length-2].y(this.middlePoints[3]),this.reCal(this.line);else{this.middlePoints.push(t.x/this.stage.scale().x),this.middlePoints.push(t.y/this.stage.scale().x);var n=this.tempAchor.clone({pIndex:e});n.x(this.middlePoints[e]),n.y(this.middlePoints[e+1]);var r=this.achorText.clone({pIndex:e,visible:this.isTempAchor});r.x(this.middlePoints[e]+i.EDIT_LABLE_DXY.dx),r.y(this.middlePoints[e+1]+i.EDIT_LABLE_DXY.dy),r.text(this.achorTextCode),this.achorTextCode=(0,o.makeCharLabel)(),this.shape.add(n),this.shape.add(r),0===e?this.tempAchor.setAttr("status","fixed"):2===e&&(this.tempAchor.setAttr("status","end"),this.reCal(this.line))}},e.prototype.reCal=function(t){t.points(this.middlePoints)},e.prototype.draw=function(){"replayData"!==this.showtype&&this.templayer.batchDraw()},e.prototype.endDraw=function(){var t=this;this.tempAchor.remove(),this.achorText.remove();var e=this.shape.clone();this.isTempAchor||e.find(".editpoi").forEach((function(t){return t.hide()})),this.shape.remove(),this.shape.destroy(),this.showlayer.add(e),e.me=this,e.id(this.uid),"replayData"===this.showtype||e.draw(),e.on("click",(function(n){if(console.log("clicked"),t.stage.canvasaction.isSelectMode()){var r=t.isSelected;t.stage.canvasaction.removeSelectShape(),t.isSelected=r,t.isSelected?t.unfireEdit(e):(console.log("fireEdit"),t.fireEdit(e));var i=t.stage.canvasaction.options;i&&i.selectShapeCb&&i.selectShapeCb()}n.cancelBubble=!0})),e.on("mousedown touchstart",(function(e){console.log("mousedown",t.stage.canvasaction.isSelectMode()),t.stage.canvasaction.isSelectMode()&&(e.cancelBubble=!0)})),e.on("dragmove",(function(){console.log("dragmove")})),e.on("dragend",(function(){if(console.log("dragend"),t.isSelected){t.stage.canvasaction.localClientId++;var n=e.x(),r=e.y(),s=[n*t.stage.scale().x,r*t.stage.scale().x,t.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.id(),0],!0];t.stage.canvasaction.sendMessageToOutSider(s),t.stage.canvasaction.pushCatchData(s)}})),e.on("transform",(function(){console.log("transform")})),e.on("transformend",(function(){console.log("transform end"),t.stage.canvasaction.localClientId++;var n=e.x(),r=e.y(),s=e.scaleX(),a=e.scaleY(),c=[n*t.stage.scale().x,r*t.stage.scale().x,t.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.id(),1,s,a],!0];t.stage.canvasaction.sendMessageToOutSider(c),t.stage.canvasaction.pushCatchData(c)}))},e.prototype.fireEdit=function(t,e){var n=this;this.isSelected=!0,t.draggable(!0),e||(this.stage.container().style.cursor="move"),this.tr&&this.tr.remove(),this.showlayer.add(this.tr),this.tr.attachTo(t),t.off("mouseenter"),t.off("mouseleave"),t.on("mouseenter",(function(){n.stage.container().style.cursor="move"})),t.on("mouseleave",(function(){n.stage.container().style.cursor=""})),t.find("Circle").forEach((function(t,e){t.draggable(!0)})),this.showlayer.batchDraw()},e.prototype.unfireEdit=function(t){this.isSelected=!1,t.draggable(!1),this.tr&&this.tr.remove(),t.off("mouseenter"),t.off("mouseleave"),this.stage.container().style.cursor="",t.find("Circle").forEach((function(t){t.draggable(!1)})),this.showlayer.batchDraw()},e.prototype.changeByPoint=function(t,e,n){var r=t.find("Circle"),o=t.find("Text"),s=t.findOne("Arrow");this.middlePoints[2*n]=e[0],this.middlePoints[2*n+1]=e[1],r&&r[n]&&(r[n].x(e[0]),r[n].y(e[1]),o[n].x(e[0]+i.EDIT_LABLE_DXY.dx),o[n].y(e[1]+i.EDIT_LABLE_DXY.dy),this.reCal(s))},e}(r.Shape)},function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,i=t.indexOf("["),o=t.indexOf("]");-1!=i&&-1!=o&&(t=t.substring(0,i)+t.substring(i,o).replace(/:/g,";")+t.substring(o,t.length));for(var s=n.exec(t||""),a={},c=14;c--;)a[r[c]]=s[c]||"";return-1!=i&&-1!=o&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(e){t.exports=function(t){return n&&e.isBuffer(t)||r&&(t instanceof ArrayBuffer||function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}(t))};var n="function"==typeof e&&"function"==typeof e.isBuffer,r="function"==typeof ArrayBuffer}).call(this,n(62).Buffer)},function(t,e,n){var r=n(206),i=n(96),o=n(97),s=n(61),a=n(98),c=n(99),l=n(39)("socket.io-client:manager"),u=n(95),h=n(223),d=Object.prototype.hasOwnProperty;function p(t,e){if(!(this instanceof p))return new p(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=p,p.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)d.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},p.prototype.updateSocketIds=function(){for(var t in this.nsps)d.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},p.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},o(p.prototype),p.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},p.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},p.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(t,e){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=a(n,"open",(function(){i.onopen(),t&&t()})),s=a(n,"error",(function(e){if(l("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var c=this._timeout;l("connect attempt will timeout after %d",c);var u=setTimeout((function(){l("connect attempt timed out after %d",c),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",c)}),c);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(o),this.subs.push(s),this},p.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(a(t,"data",c(this,"ondata"))),this.subs.push(a(t,"ping",c(this,"onping"))),this.subs.push(a(t,"pong",c(this,"onpong"))),this.subs.push(a(t,"error",c(this,"onerror"))),this.subs.push(a(t,"close",c(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",c(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(t){this.decoder.add(t)},p.prototype.ondecoded=function(t){this.emit("packet",t)},p.prototype.onerror=function(t){l("error",t),this.emitAll("error",t)},p.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new i(this,t,e),this.nsps[t]=n;var r=this;n.on("connecting",o),n.on("connect",(function(){n.id=r.generateId(t)})),this.autoConnect&&o()}function o(){~u(r.connecting,n)||r.connecting.push(n)}return n},p.prototype.destroy=function(t){var e=u(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},p.prototype.packet=function(t){l("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,(function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()})))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},p.prototype.cleanup=function(){l("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(t){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();l("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout((function(){t.skipReconnect||(l("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open((function(e){e?(l("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(l("reconnect success"),t.onreconnect())})))}),e);this.subs.push({destroy:function(){clearTimeout(n)}})}},p.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,n){var r=n(63),i=n(209),o=n(219),s=n(220);e.polling=function(t){var e=!1,n=!1,s=!1!==t.jsonp;if("undefined"!=typeof location){var a="https:"===location.protocol,c=location.port;c||(c=a?443:80),e=t.hostname!==location.hostname||c!==t.port,n=t.secure!==a}if(t.xdomain=e,t.xscheme=n,"open"in new r(t)&&!t.forceJSONP)return new i(t);if(!s)throw new Error("JSONP disabled");return new o(t)},e.websocket=s},function(t,e,n){var r=n(64),i=n(41),o=n(28),s=n(42),a=n(94),c=n(43)("engine.io-client:polling");t.exports=u;var l=null!=new(n(63))({xdomain:!1}).responseType;function u(t){var e=t&&t.forceBase64;l&&!e||(this.supportsBinary=!1),r.call(this,t)}s(u,r),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(t){var e=this;function n(){c("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){c("pre-pause polling complete"),--r||n()}))),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){c("pre-pause writing complete"),--r||n()})))}else n()},u.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(t){var e=this;c("polling got data %s",t);o.decodePayload(t,this.socket.binaryType,(function(t,n,r){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){var t=this;function e(){c("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},u.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};o.encodePayload(t,this.supportsBinary,(function(t){e.doWrite(t,n)}))},u.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=a()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},function(t,e,n){(function(e){var r=n(211),i=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);t.exports=function t(n){if(!n||"object"!=typeof n)return!1;if(r(n)){for(var i=0,a=n.length;i<a;i++)if(t(n[i]))return!0;return!1}if("function"==typeof e&&e.isBuffer&&e.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||o&&n instanceof Blob||s&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return t(n.toJSON(),!0);for(var c in n)if(Object.prototype.hasOwnProperty.call(n,c)&&t(n[c]))return!0;return!1}}).call(this,n(62).Buffer)},function(t,e,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},s=0,a=0;function c(t){var e="";do{e=i[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function l(){var t=c(+new Date);return t!==r?(s=0,r=t):t+"."+c(s++)}for(;a<64;a++)o[i[a]]=a;l.encode=c,l.decode=function(t){var e=0;for(a=0;a<t.length;a++)e=64*e+o[t.charAt(a)];return e},t.exports=l},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(61),i=n(97),o=n(222),s=n(98),a=n(99),c=n(39)("socket.io-client:socket"),l=n(41),u=n(93);t.exports=p;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=i.prototype.emit;function p(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",a(this,"onopen")),s(t,"packet",a(this,"onpacket")),s(t,"close",a(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},p.prototype.send=function(){var t=o(arguments);return t.unshift("message"),this.emit.apply(this,t),this},p.prototype.emit=function(t){if(h.hasOwnProperty(t))return d.apply(this,arguments),this;var e=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:u(e))?r.BINARY_EVENT:r.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},p.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},p.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?l.encode(this.query):this.query;c("sending connect packet with query %s",t),this.packet({type:r.CONNECT,query:t})}else this.packet({type:r.CONNECT})},p.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},p.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===r.ERROR&&"/"===t.nsp;if(e||n)switch(t.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(t);break;case r.ACK:case r.BINARY_ACK:this.onack(t);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",t.data)}},p.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?d.apply(this,e):this.receiveBuffer.push(e)},p.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);c("sending ack %j",i),e.packet({type:u(i)?r.BINARY_ACK:r.ACK,id:t,data:i})}}},p.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(c("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):c("bad ack %s",t.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)d.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(t){return this.flags.compress=t,this},p.prototype.binary=function(t){return this.flags.binary=t,this}},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){t.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}},function(t,e,n){"use strict";e.__esModule=!0,e.PB_ROOT=void 0;var r=n(225),i=n(243),o=n(244),s=n(245);e.PB_ROOT={midRoot:r.root,pnsRoot:i.root,imRoot:o.root,bootRoot:s.root}},function(t,e,n){"use strict";t.exports=function(t,e){var n=new Array(arguments.length-1),r=0,i=2,o=!0;for(;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,s){n[r]=function(t){if(o)if(o=!1,t)s(t);else{for(var e=new Array(arguments.length-1),n=0;n<e.length;)e[n++]=arguments[n];i.apply(null,e)}};try{t.apply(e||null,n)}catch(t){o&&(o=!1,s(t))}}))}},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},function(t,e,n){"use strict";e.Service=n(237)},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";t.exports=function(t){for(var e,n=o.codegen(["m","w"],t.name+"$encode")("if(!w)")("w=Writer.create()"),a=t.fieldsArray.slice().sort(o.compareFieldsById),c=0;c<a.length;++c){var l=a[c].resolve(),u=t._fieldsArray.indexOf(l),h=l.resolvedType instanceof r?"int32":l.type,d=i.basic[h];e="m"+o.safeProp(l.name),l.map?(n("if(%s!=null&&m.hasOwnProperty(%j)){",e,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",e)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|i.mapKey[l.keyType],l.keyType),void 0===d?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,e):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|d,h,e),n("}")("}")):l.repeated?(n("if(%s!=null&&%s.length){",e,e),l.packed&&void 0!==i.packed[h]?n("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",e)("w.%s(%s[i])",h,e)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",e),void 0===d?s(n,l,u,e+"[i]"):n("w.uint32(%i).%s(%s[i])",(l.id<<3|d)>>>0,h,e)),n("}")):(l.optional&&n("if(%s!=null&&m.hasOwnProperty(%j))",e,l.name),void 0===d?s(n,l,u,e):n("w.uint32(%i).%s(%s)",(l.id<<3|d)>>>0,h,e))}return n("return w")};var r=n(18),i=n(30),o=n(13);function s(t,e,n,r){return e.resolvedType.group?t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(e.id<<3|2)>>>0)}},function(t,e,n){"use strict";t.exports=function(t){var e=o.codegen(["r","l"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter((function(t){return t.map})).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");t.group&&e("if((t&7)===4)")("break");e("switch(t>>>3){");for(var n=0;n<t.fieldsArray.length;++n){var a=t._fieldsArray[n].resolve(),c=a.resolvedType instanceof r?"int32":a.type,l="m"+o.safeProp(a.name);e("case %i:",a.id),a.map?(e("r.skip().pos++")("if(%s===util.emptyObject)",l)("%s={}",l)("k=r.%s()",a.keyType)("r.pos++"),void 0!==i.long[a.keyType]?void 0===i.basic[c]?e('%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())',l,n):e('%s[typeof k==="object"?util.longToHash(k):k]=r.%s()',l,c):void 0===i.basic[c]?e("%s[k]=types[%i].decode(r,r.uint32())",l,n):e("%s[k]=r.%s()",l,c)):a.repeated?(e("if(!(%s&&%s.length))",l,l)("%s=[]",l),void 0!==i.packed[c]&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,c)("}else"),void 0===i.basic[c]?e(a.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",l,n):e("%s.push(r.%s())",l,c)):void 0===i.basic[c]?e(a.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",l,n):e("%s=r.%s()",l,c),e("break")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<t._fieldsArray.length;++n){var u=t._fieldsArray[n];u.required&&e("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",s(u))}return e("return m")};var r=n(18),i=n(30),o=n(13);function s(t){return"missing required '"+t.name+"'"}},function(t,e,n){"use strict";t.exports=function(t){var e=i.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n=t.oneofsArray,r={};n.length&&e("var p={}");for(var c=0;c<t.fieldsArray.length;++c){var l=t._fieldsArray[c].resolve(),u="m"+i.safeProp(l.name);if(l.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",u,l.name),l.map)e("if(!util.isObject(%s))",u)("return%j",o(l,"object"))("var k=Object.keys(%s)",u)("for(var i=0;i<k.length;++i){"),a(e,l,"k[i]"),s(e,l,c,u+"[k[i]]")("}");else if(l.repeated)e("if(!Array.isArray(%s))",u)("return%j",o(l,"array"))("for(var i=0;i<%s.length;++i){",u),s(e,l,c,u+"[i]")("}");else{if(l.partOf){var h=i.safeProp(l.partOf.name);1===r[l.partOf.name]&&e("if(p%s===1)",h)("return%j",l.partOf.name+": multiple values"),r[l.partOf.name]=1,e("p%s=1",h)}s(e,l,c,u)}l.optional&&e("}")}return e("return null")};var r=n(18),i=n(13);function o(t,e){return t.name+": "+e+(t.repeated&&"array"!==e?"[]":t.map&&"object"!==e?"{k:"+t.keyType+"}":"")+" expected"}function s(t,e,n,i){if(e.resolvedType)if(e.resolvedType instanceof r){t("switch(%s){",i)("default:")("return%j",o(e,"enum value"));for(var s=Object.keys(e.resolvedType.values),a=0;a<s.length;++a)t("case %i:",e.resolvedType.values[s[a]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",n,i)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",i)("return%j",o(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",o(e,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',i)("return%j",o(e,"number"));break;case"bool":t('if(typeof %s!=="boolean")',i)("return%j",o(e,"boolean"));break;case"string":t("if(!util.isString(%s))",i)("return%j",o(e,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",o(e,"buffer"))}return t}function a(t,e,n){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",n)("return%j",o(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",n)("return%j",o(e,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",n)("return%j",o(e,"boolean key"))}return t}},function(t,e,n){"use strict";var r=e,i=n(18),o=n(13);function s(t,e,n,r){if(e.resolvedType)if(e.resolvedType instanceof i){t("switch(d%s){",r);for(var o=e.resolvedType.values,s=Object.keys(o),a=0;a<s.length;++a)e.repeated&&o[s[a]]===e.typeDefault&&t("default:"),t("case%j:",s[a])("case %i:",o[s[a]])("m%s=%j",r,o[s[a]])("break");t("}")}else t('if(typeof d%s!=="object")',r)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r);else{var c=!1;switch(e.type){case"double":case"float":t("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",r,r);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,c)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,c?"true":"");break;case"bytes":t('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length)",r)("m%s=d%s",r,r);break;case"string":t("m%s=String(d%s)",r,r);break;case"bool":t("m%s=Boolean(d%s)",r,r)}}return t}function a(t,e,n,r){if(e.resolvedType)e.resolvedType instanceof i?t("d%s=o.enums===String?types[%i].values[m%s]:m%s",r,n,r,r):t("d%s=types[%i].toObject(m%s,o)",r,n,r);else{var o=!1;switch(e.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":o=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,o?"true":"",r);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:t("d%s=m%s",r,r)}}return t}r.fromObject=function(t){var e=t.fieldsArray,n=o.codegen(["d"],t.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!e.length)return n("return new this.ctor");n("var m=new this.ctor");for(var r=0;r<e.length;++r){var a=e[r].resolve(),c=o.safeProp(a.name);a.map?(n("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),s(n,a,r,c+"[ks[i]]")("}")("}")):a.repeated?(n("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),s(n,a,r,c+"[i]")("}")("}")):(a.resolvedType instanceof i||n("if(d%s!=null){",c),s(n,a,r,c),a.resolvedType instanceof i||n("}"))}return n("return m")},r.toObject=function(t){var e=t.fieldsArray.slice().sort(o.compareFieldsById);if(!e.length)return o.codegen()("return {}");for(var n=o.codegen(["m","o"],t.name+"$toObject")("if(!o)")("o={}")("var d={}"),r=[],s=[],c=[],l=0;l<e.length;++l)e[l].partOf||(e[l].resolve().repeated?r:e[l].map?s:c).push(e[l]);if(r.length){for(n("if(o.arrays||o.defaults){"),l=0;l<r.length;++l)n("d%s=[]",o.safeProp(r[l].name));n("}")}if(s.length){for(n("if(o.objects||o.defaults){"),l=0;l<s.length;++l)n("d%s={}",o.safeProp(s[l].name));n("}")}if(c.length){for(n("if(o.defaults){"),l=0;l<c.length;++l){var u=c[l],h=o.safeProp(u.name);if(u.resolvedType instanceof i)n("d%s=o.enums===String?%j:%j",h,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",h)("}else")("d%s=o.longs===String?%j:%i",h,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var d="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",h,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",h,d)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",h,h)("}")}else n("d%s=%j",h,u.typeDefault)}n("}")}var p=!1;for(l=0;l<e.length;++l){u=e[l];var f=t._fieldsArray.indexOf(u);h=o.safeProp(u.name);u.map?(p||(p=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",h,h)("d%s={}",h)("for(var j=0;j<ks2.length;++j){"),a(n,u,f,h+"[ks2[j]]")("}")):u.repeated?(n("if(m%s&&m%s.length){",h,h)("d%s=[]",h)("for(var j=0;j<m%s.length;++j){",h),a(n,u,f,h+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",h,u.name),a(n,u,f,h),u.partOf&&n("if(o.oneofs)")("d%s=%j",o.safeProp(u.partOf.name),u.name)),n("}")}return n("return d")}},function(t,e,n){"use strict";var r=e,i=n(72);r[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var e=this.lookup(t["@type"]);if(e){var n="."===t["@type"].charAt(0)?t["@type"].substr(1):t["@type"];return this.create({type_url:"/"+n,value:e.encode(e.fromObject(t)).finish()})}}return this.fromObject(t)},toObject:function(t,e){if(e&&e.json&&t.type_url&&t.value){var n=t.type_url.substring(t.type_url.lastIndexOf("/")+1),r=this.lookup(n);r&&(t=r.decode(t.value))}if(!(t instanceof this.ctor)&&t instanceof i){var o=t.$type.toObject(t,e);return o["@type"]=t.$type.fullName,o}return this.toObject(t,e)}}},function(t,e,n){"use strict";t.exports=p;var r=/[\s{}=;:[\],'"()<>]/g,i=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,o=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,s=/^ *[*/]+ */,a=/^\s*\*?\/*/,c=/\n/g,l=/\s/,u=/\\(.?)/g,h={0:"\0",r:"\r",n:"\n",t:"\t"};function d(t){return t.replace(u,(function(t,e){switch(e){case"\\":case"":return e;default:return h[e]||""}}))}function p(t,e){t=t.toString();var n=0,u=t.length,h=1,p=null,f=null,g=0,m=!1,v=[],y=null;function b(t){return Error("illegal "+t+" (line "+h+")")}function w(e){return t.charAt(e)}function _(n,r){p=t.charAt(n++),g=h,m=!1;var i,o=n-(e?2:3);do{if(--o<0||"\n"===(i=t.charAt(o))){m=!0;break}}while(" "===i||"\t"===i);for(var l=t.substring(n,r).split(c),u=0;u<l.length;++u)l[u]=l[u].replace(e?a:s,"").trim();f=l.join("\n").trim()}function x(e){var n=O(e),r=t.substring(e,n);return/^\s*\/{1,2}/.test(r)}function O(t){for(var e=t;e<u&&"\n"!==w(e);)e++;return e}function S(){if(v.length>0)return v.shift();if(y)return function(){var e="'"===y?o:i;e.lastIndex=n-1;var r=e.exec(t);if(!r)throw b("string");return n=e.lastIndex,j(y),y=null,d(r[1])}();var s,a,c,p,f;do{if(n===u)return null;for(s=!1;l.test(c=w(n));)if("\n"===c&&++h,++n===u)return null;if("/"===w(n)){if(++n===u)throw b("comment");if("/"===w(n))if(e){if(p=n,f=!1,x(n)){f=!0;do{if((n=O(n))===u)break;n++}while(x(n))}else n=Math.min(u,O(n)+1);f&&_(p,n),h++,s=!0}else{for(f="/"===w(p=n+1);"\n"!==w(++n);)if(n===u)return null;++n,f&&_(p,n-1),++h,s=!0}else{if("*"!==(c=w(n)))return"/";p=n+1,f=e||"*"===w(p);do{if("\n"===c&&++h,++n===u)throw b("comment");a=c,c=w(n)}while("*"!==a||"/"!==c);++n,f&&_(p,n-2),s=!0}}}while(s);var g=n;if(r.lastIndex=0,!r.test(w(g++)))for(;g<u&&!r.test(w(g));)++g;var m=t.substring(n,n=g);return'"'!==m&&"'"!==m||(y=m),m}function j(t){v.push(t)}function E(){if(!v.length){var t=S();if(null===t)return null;j(t)}return v[0]}return Object.defineProperty({next:S,peek:E,push:j,skip:function(t,e){var n=E();if(n===t)return S(),!0;if(!e)throw b("token '"+n+"', '"+t+"' expected");return!1},cmnt:function(t){var n=null;return void 0===t?g===h-1&&(e||"*"===p||m)&&(n=f):(g<t&&E(),g!==t||m||!e&&"/"!==p||(n=f)),n}},"line",{get:function(){return h}})}p.unescape=d},function(t,e,n){"use strict";e.__esModule=!0,e.Message=function(t,e,n,i){var o=(0,r.createBufferContent)((0,r.UpFirstChar)(t),e,!1,i),s={senderId:n,objectName:t};return s[t]=o,(0,r.createBufferContent)("MessageModel",s,!1,i)},e.ClassRoomMessage=function(t,e,n,i){var o=n[1].index;if(o){for(var s=[],a=0;a<o.length;a++)s.push((0,r.createBufferContent)("CoordinateIndexMessage",o[a],!1,i));n[1].index=s}return(0,r.createBufferContent)(t,n[1],!1,i)};var r=n(23)},,,,function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=259)}([function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=function(){var t={};return"Boolean Blob Number String Function File Array ArrayBuffer Date RegExp Object Error Symbol".split(" ").forEach((function(e){t["[object "+e+"]"]=e.toLowerCase()})),t}(),o=i.hasOwnProperty,s=i.toString;function a(t){return null==t?t+"":"object"===r(t)||"function"==typeof t?i[s.call(t)]||"object":r(t)}var c=/^[\[|\{].*[\]|\}]$/,l=/^(?:[a-zA-Z]+:)\/\//;e.a={hasOwn:o,toString:s,dataType:a,isWindow:function(t){return null!=t&&t===t.window},isNode:function(t){return null!=t&&t===t.global},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isFormData:function(t){return"formdata"===a(t)},isArray:function(t){return"array"===a(t)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isArrayBuffer:function(t){return"arraybuffer"===a(t)},isBuffer:function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isStream:function(t){return t&&t.pipe&&"function"===a(t.pipe)},isFile:function(t){return"file"===a(t)},isBlob:function(t){return"blob"===a(t)},isObject:function(t){var e=r(t);return null!=t&&("object"===e||"function"===e)},isJson:function(t){return c.test(t)},isAbsoluteUrl:function(t){return l.test(t)}}},function(t,e,n){"use strict";(function(t,r){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o="[object process]"===n(0).a.toString.call(t)&&"object"===(void 0===r?"undefined":i(r))&&r,s="object"===("undefined"==typeof self?"undefined":i(self))&&self.window===self&&self||o||Function("return this")();if(void 0===s)throw new ReferenceError("Browser or Nodejs environment is necessary");e.a=s}).call(this,n(2),n(3))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,l=[],u=!1,h=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):h=-1,l.length&&p())}function p(){if(!u){var t=a(d);u=!0;for(var e=l.length;e;){for(c=l,l=[];++h<e;)c&&c[h].run();h=-1,e=l.length}c=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new f(t,e)),1!==l.length||u||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e);var r=n(1),i=n(0),o={isArrayLike:function(t){var e=!!t&&"length"in t&&t.length,n=i.a.dataType(t);return"function"!==n&&!i.a.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)},swapItems:function(t,e,n){return t[e]=t.splice(n,1,t[e])[0],t}};function s(t){return t.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")}var a={camelCase:function(t){return t.replace(/^-ms-/,"ms-").replace(/-(a-z)/g,(function(t,e){return e.toUpperCase()}))},trim:s,isEmptyValue:function(t){var e=i.a.dataType(t);return"string"===e?""===s(t):"null"===e||"undefined"===e}};function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t){var e;if(!t||"object"!==i.a.dataType(t)||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!i.a.hasOwn.call(t,"constructor")&&!i.a.hasOwn.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}for(e in t);return void 0===e||i.a.hasOwn.call(t,e)}var u={isPlainObject:l,extend:function t(){var e,n,r,i,o,s,a=arguments[0]||{},u=1,h=arguments.length,d=!1;for("boolean"==typeof a&&(d=a,a=arguments[u]||{},u++),"object"!==c(a)&&"function"!=typeof a&&(a={}),u===h&&(a=this,u--);u<h;u++)if(null!==(e=arguments[u]))for(n in e)r=a[n],a!==(i=e[n])&&(d&&i&&(l(i)||(o=Array.isArray(i)))?(o?(o=!1,s=r&&Array.isArray(r)?r:[]):s=r&&l(r)?r:{},a[n]=t(d,s,i)):void 0!==i&&(a[n]=i));return a},each:function(t,e){var n,r=0;if(o.isArrayLike(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},isEmptyObject:function(t){var e;for(e in t)return!1;return!0}},h={getUUID:function(t,e){var n,r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];if(e=e||i.length,t)for(n=0;n<t;n++)o[n]=i[0|Math.random()*e];else for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",n=0;n<36;n++)o[n]||(r=0|16*Math.random(),o[n]=i[19===n?3&r|8:r]);return o.join("")}},d=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.uuid=h.getUUID(8)+t.id++,this.storage={},this.idKey="__UUID__"}var e;return(e=[{key:"getId",value:function(){return h.getUUID(8)+t.id++}},{key:"cache",value:function(t){var e=t[this.idKey];e||(e=this.getId(),t[this.idKey]=e);var n=this.storage[e];return n||(n={},this.storage[e]=n),n}},{key:"set",value:function(t,e,n){var r=this.cache(t);if("string"==typeof e)r[a.camelCase(e)]=n;else for(var o in e)i.a.hasOwn.call(e,o)&&(r[a.camelCase(o)]=e[o]);return r}},{key:"get",value:function(t,e){if(void 0===e){var n=this.cache(t);return u.isEmptyObject(n)?void 0:n}var r=t[this.idKey];return r?this.storage[r][a.camelCase(e)]:void 0}},{key:"access",value:function(t,e,n){if(i.a.isObject(t))return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)}},{key:"remove",value:function(t,e){var n=this.cache(t);if(void 0!==n){if(void 0!==e)for(var r=((e=i.a.isArray(e)?e.map(a.camelCase):(e=a.camelCase(e))in n?[e]:e.match(/[^\s]+/g)||[]).length);r--;)delete n[e[r]];if(void 0===e||u.isEmptyObject(n)){var o=t[this.idKey];o&&delete this.storage[o]}}}},{key:"hasData",value:function(t){var e=t[this.idKey],n=this.storage[e];return void 0!==n&&!u.isEmptyObject(n)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();d.id=1;var p=new d,f={hasData:function(t){return p.hasData(t)},removeData:function(t,e){return p.remove(t,e)},data:function(t,e,n){return p.access(t,e,n)}};function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var m=["","","","","","",""],v={now:r.a.Date.now||function(){return(new r.a.Date).getTime()},dateFormatter:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-dd",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(a.isEmptyValue(t))return n;var r,i,o={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours()%12||12,"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),S:t.getMilliseconds(),"q+":Math.floor((t.getMonth()+3)/3)};for(r in e=(e=e.replace(/Y+/,(function(e){return(t.getFullYear()+"").substring(4-e.length)}))).replace(/E+/,(function(e){return(e.length>1?e.length>2?"":"":"")+m[t.getDay()]})),o)i=o[r],e=e.replace(new RegExp(r),(function(t){return 1===t.length?i:("00"+i).substring((i+"").length)}));return e},parseTime:function(t,e){if(0===arguments.length)return null;var n,i=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===g(t)?n=t:(10===(""+t).length&&(t=1e3*parseInt(t,10)),n=new r.a.Date(t));var o={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),a:n.getDay()};return i.replace(/{(y|m|d|h|i|s|a)+}/g,(function(t,e){var n=o[e];return"a"===e?["","","","","","",""][n-1]:(t.length>0&&n<10&&(n="0"+n),n||0)}))}};function y(t,e){var n=0,r=t.toString(),i=e.toString();try{n+=r.split(".")[1].length}catch(t){}try{n+=i.split(".")[1].length}catch(t){}return Number(r.replace(".",""))*Number(i.replace(".",""))/Math.pow(10,n)}var b={isNumeric:function(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)},formatNumber:function(t,e){if("--"!==t){var n,r,i,o;if(r=(n=t.toString()).indexOf("."),i=n.length,0===e)-1!==r&&(n=n.substring(0,r));else if(-1===r)for(n+=".",o=1;o<=e;o++)n+="0";else for(n=n.substring(0,r+e+1),o=i;o<=r+e;o++)n+="0";return n}},multiple:y,add:function(t,e){var n,r,i;try{n=t.toString().split(".")[1].length}catch(t){n=0}try{r=e.toString().split(".")[1].length}catch(t){r=0}return(y(t,i=Math.pow(10,Math.max(n,r)))+y(e,i))/i},minus:function(t,e){var n,r,i;try{n=t.toString().split(".")[1].length}catch(t){n=0}try{r=e.toString().split(".")[1].length}catch(t){r=0}return(y(t,i=Math.pow(10,Math.max(n,r)))-y(e,i))/i},division:function(t,e){if(isNaN(t)||!t)return t;var n=0,r=0;try{n=t.toString().split(".")[1].length}catch(t){}try{r=e.toString().split(".")[1].length}catch(t){}return y(Number(t.toString().replace(".",""))/Number(e.toString().replace(".","")),Math.pow(10,r-n))},transNumber:function(t,e){if(!t&&0!==t)return"";var n=(t=e?(+t).toFixed(e):String(t)).split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+$)/g,", "),n.join(".")}},w=r.a.document||{},_=r.a.navigator||{},x=["width","height","top","right","bottom","left"];function O(t,e){if(t&&e){if(t.classList)return t.classList.contains(e);var n=t.getAttribute("class");return n&&new RegExp("\\b"+e+"\\b").test(n)}}var S={getElemRect:function(t){var e=t.getBoundingClientRect(),n=-1!==_.userAgent.indexOf("MSIE")&&"HTML"===t.tagName?-t.scrollTop:e.top;return{left:e.left,top:n,right:e.right,bottom:e.bottom,width:e.right-e.left,height:e.bottom-n}},getStyle:function(t,e){if(!t||!e)return null;"float"===(e=a.camelCase(e))&&(e="cssFloat");try{var n=w.defaultView.getComputedStyle(t,null);return t.style[e]||n?n[e]:null}catch(n){return t.style[e]}},setStyle:function(t,e){var n;Object.keys(e).forEach((function(r){n="",-1!==x.indexOf(r)&&b.isNumeric(e[r])&&(n="px"),t.style[r]=e[r]+n}))},hasClass:O,addClass:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t){for(var n="",r=(t.getAttribute("class"),e.split(" ")),i=0,o=r.length;i<o;i++)(n=r[i])&&(t.classList?t.classList.add(n):O(t,n)||i++);t.classList}},removeClass:function(t,e){if(t)if(e){for(var n="",r=t.getAttribute("class")||"",i=e.split(" "),o=0,s=i.length;o<s;o++)(n=i[o])&&(t.classList?t.classList.remove(n):O(t,n)&&(o++,r=r.replace(new RegExp("\\b"+n+"\\b"),"")));t.classList}else t.className=""},closest:function(t,e){if(!t||!e)return null;for(var n=/^\./.test(e)?1:2;t&&"BODY"!==t.tagName.toUpperCase();){if(2===n&&t.tagName.toUpperCase()===e)return t;var r=t.getAttribute("class")||"";if(1===n&&r.split(/[\s]+/).indexOf(e.substr(1))>-1)return t;t=t.parentNode}return null},getParent:function(t,e){for(var n=/^\./.test(e)?1:2;t&&"HTML"!==t.tagName.toUpperCase();){if(2===n&&t.tagName.toUpperCase()===e)return t;if(1===n&&t.className.indexOf&&t.className.match(new RegExp(e.substr(1)+"\\b")))return t;t=t.parentNode}return null}},j=r.a.requestAnimationFrame,E=r.a.cancelAnimationFrame;function T(t,e,n){var r,o,s,a,c,l,u=0,h=!1,d=!1,p=!0,f=!e&&0!==e&&"function"==typeof j;if("function"!=typeof t)throw new TypeError("Expected a function");function g(e){var n=r,i=o;return r=o=void 0,u=e,a=t.apply(i,n)}function m(t,e){return f?(E(c),j(t)):setTimeout(t,e)}function y(t){return c=void 0,p&&r?g(t):(r=o=void 0,a)}function b(t){var n=t-l;return void 0===l||n>=e||n<0||d&&t-u>=s}function w(){var t=v.now();if(b(t))return y(t);c=m(w,function(t){var n=t-u,r=e-(t-l);return d?Math.min(r,s-n):r}(t))}function _(){for(var t=v.now(),n=b(t),i=arguments.length,s=new Array(i),p=0;p<i;p++)s[p]=arguments[p];if(r=s,o=this,l=t,n){if(void 0===c)return function(t){return u=t,c=m(w,e),h?g(t):a}(l);if(d)return c=m(w,e),g(l)}return void 0===c&&(c=m(w,e)),a}return e=+e||0,i.a.isObject(n)&&(h=!!n.leading,s=(d="maxWait"in n)?Math.max(+n.maxWait||0,e):s,p="trailing"in n?!!n.trailing:p),_.cancel=function(){void 0!==c&&function(t){if(f)return E(t);clearTimeout(t)}(c),u=0,r=l=o=c=void 0},_.flush=function(){return void 0===c?a:y(v.now())},_.pending=function(){return void 0!==c},_}var P={debounce:T,throttle:function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return i.a.isObject(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),T(t,e,{leading:r,trailing:o,maxWait:e})}},C=r.a.document||{},A=C.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)},k=C.removeEventListener?function(t,e,n){t&&e&&n&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.detachEvent("on"+e,n)},D={on:A,off:k,once:function(t,e,n,r){A(t,e,(function r(){n(),k(t,e,r)}),r)}};function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var M={urlParams:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[],n=null;return Object.keys(t).forEach((function(r){n=t[r],a.isEmptyValue(n)||e.push(r+"="+encodeURIComponent(u.isPlainObject(n)?JSON.stringify(n):n))})),e.length?e.join("&"):""},param2Obj:function(t,e){var n={};if(e&&(t=decodeURIComponent(t)||""),"function"==typeof r.a.URLSearchParams){var i=new URLSearchParams(t),o=!0,s=!1,c=void 0;try{for(var l,u=i.entries()[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var h=I(l.value,2),d=h[0],p=h[1];a.isEmptyValue(p)||(n[d]=p)}}catch(t){s=!0,c=t}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}}else try{n=JSON.parse('{"'+t.replace(/"|'/g,"").replace(/&/g,'","').replace(/=/g,'":"')+'"}')}catch(t){}return n},urlSplit:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=-1,r=t,i=[r];r;)0===(n=r.lastIndexOf(e))?r="":(r=r.substring(0,n),i.push(r));return i.reverse()}};n.d(e,"root",(function(){return r.a})),n.d(e,"array",(function(){return o})),n.d(e,"data",(function(){return f})),n.d(e,"date",(function(){return v})),n.d(e,"dom",(function(){return S})),n.d(e,"func",(function(){return P})),n.d(e,"event",(function(){return D})),n.d(e,"id",(function(){return h})),n.d(e,"number",(function(){return b})),n.d(e,"object",(function(){return u})),n.d(e,"string",(function(){return a})),n.d(e,"utils",(function(){return i.a})),n.d(e,"url",(function(){return M}));var R=u.extend({root:r.a},o,f,v,S,P,D,h,b,u,a,i.a,M);e.default=R}]).default},function(t,e,n){"use strict";var r=n(3),i=n(53).f,o=n(74),s=n(8),a=n(29),c=n(15),l=n(13),u=function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var n,h,d,p,f,g,m,v,y=t.target,b=t.global,w=t.stat,_=t.proto,x=b?r:w?r[y]:(r[y]||{}).prototype,O=b?s:s[y]||(s[y]={}),S=O.prototype;for(d in e)n=!o(b?d:y+(w?".":"#")+d,t.forced)&&x&&l(x,d),f=O[d],n&&(g=t.noTargetGet?(v=i(x,d))&&v.value:x[d]),p=n&&g?g:e[d],n&&typeof f==typeof p||(m=t.bind&&n?a(p,r):t.wrap&&n?u(p):_&&"function"==typeof p?a(Function.call,p):p,(t.sham||p&&p.sham||f&&f.sham)&&c(m,"sham",!0),O[d]=m,_&&(l(s,h=y+"Prototype")||c(s,h,{}),s[h][d]=p,t.real&&S&&!S[d]&&c(S,d,p)))}},function(t,e,n){var r=n(3),i=n(37),o=n(57),s=n(77),a=r.Symbol,c=i("wks");t.exports=function(t){return c[t]||(c[t]=s&&a[t]||(s?a:o)("Symbol."+t))}},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(119))},function(t,e,n){var r=n(8),i=n(13),o=n(65),s=n(19).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||s(e,t,{value:o.f(t)})}},function(t,e,n){t.exports=n(159)},function(t,e,n){t.exports=n(184)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports={}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(8);t.exports=function(t){return r[t+"Prototype"]}},function(t,e,n){var r=n(9);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){t.exports=n(133)},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports=n(120)},function(t,e,n){var r=n(17),i=n(19),o=n(27);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports=n(125)},function(t,e,n){var r=n(7);t.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(72),i=n(42);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(17),i=n(73),o=n(11),s=n(43),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(8),i=n(3),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},function(t,e,n){t.exports=n(187)},function(t,e,n){var r=n(44),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){t.exports=!0},function(t,e,n){var r=n(19).f,i=n(15),o=n(13),s=n(148),a=n(2)("toStringTag"),c=s!=={}.toString;t.exports=function(t,e,n,l){if(t){var u=n?t:t.prototype;o(u,a)||r(u,a,{configurable:!0,value:e}),l&&c&&i(u,"toString",s)}}},function(t,e){t.exports={}},function(t,e,n){var r=n(200),i=n(203);function o(t){return(o="function"==typeof i&&"symbol"==typeof r?function(t){return typeof t}:function(t){return t&&"function"==typeof i&&t.constructor===i&&t!==i.prototype?"symbol":typeof t})(t)}function s(e){return"function"==typeof i&&"symbol"===o(r)?t.exports=s=function(t){return o(t)}:t.exports=s=function(t){return t&&"function"==typeof i&&t.constructor===i&&t!==i.prototype?"symbol":o(t)},s(e)}t.exports=s},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(30);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(42);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(29),i=n(72),o=n(31),s=n(22),a=n(76),c=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,u=4==t,h=6==t,d=5==t||h;return function(p,f,g,m){for(var v,y,b=o(p),w=i(b),_=r(f,g,3),x=s(w.length),O=0,S=m||a,j=e?S(p,x):n?S(p,0):void 0;x>O;O++)if((d||O in w)&&(y=_(v=w[O],O,b),t))if(e)j[O]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return O;case 2:c.call(j,v)}else if(u)return!1;return h?-1:l||u?u:j}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(t,e,n){var r=n(28),i=n(2)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(15);t.exports=function(t,e,n,i){i&&i.enumerable?t[e]=n:r(t,e,n)}},function(t,e,n){n(62);var r=n(152),i=n(3),o=n(15),s=n(25),a=n(2)("toStringTag");for(var c in r){var l=i[c],u=l&&l.prototype;u&&!u[a]&&o(u,a,c),s[c]=s.Array}},function(t,e,n){var r=n(28);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(23),i=n(123);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.4.1",mode:r?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){"use strict";var r=n(7);t.exports=function(t,e){var n=[][t];return!n||!r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){"use strict";var r=n(143).charAt,i=n(40),o=n(82),s=i.set,a=i.getterFor("String Iterator");o(String,"String",(function(t){s(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=a(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r,i,o,s=n(144),a=n(3),c=n(9),l=n(15),u=n(13),h=n(47),d=n(46),p=a.WeakMap;if(s){var f=new p,g=f.get,m=f.has,v=f.set;r=function(t,e){return v.call(f,t,e),e},i=function(t){return g.call(f,t)||{}},o=function(t){return m.call(f,t)}}else{var y=h("state");d[y]=!0,r=function(t,e){return l(t,y,e),e},i=function(t){return u(t,y)?t[y]:{}},o=function(t){return u(t,y)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){t.exports=n(181)},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(9);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(7),i=n(2),o=n(58),s=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e){t.exports={}},function(t,e,n){var r=n(37),i=n(57),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var r=n(33),i=n(25),o=n(2)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){t.exports=n(137)},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){t.exports=n(177)},function(t,e,n){t.exports=n(196)},function(t,e,n){var r=n(17),i=n(71),o=n(27),s=n(18),a=n(43),c=n(13),l=n(73),u=Object.getOwnPropertyDescriptor;e.f=r?u:function(t,e){if(t=s(t),e=a(e,!0),l)try{return u(t,e)}catch(t){}if(c(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){var r=n(3),i=n(9),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,n){var r=n(20);t.exports=r("navigator","userAgent")||""},function(t,e,n){"use strict";var r=n(43),i=n(19),o=n(27);t.exports=function(t,e,n){var s=r(e);s in t?i.f(t,s,o(0,n)):t[s]=n}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){var r,i,o=n(3),s=n(55),a=o.process,c=a&&a.versions,l=c&&c.v8;l?i=(r=l.split("."))[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},function(t,e,n){var r=n(78),i=n(60);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(11),i=n(147),o=n(60),s=n(46),a=n(86),c=n(54),l=n(47)("IE_PROTO"),u=function(){},h=function(){var t,e=c("iframe"),n=o.length;for(e.style.display="none",a.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),h=t.F;n--;)delete h.prototype[o[n]];return h()};t.exports=Object.create||function(t,e){var n;return null!==t?(u.prototype=r(t),n=new u,u.prototype=null,n[l]=t):n=h(),void 0===e?n:i(n,e)},s[l]=!0},function(t,e,n){"use strict";var r=n(18),i=n(151),o=n(25),s=n(40),a=n(82),c=s.set,l=s.getterFor("Array Iterator");t.exports=a(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";var r=n(30),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){e.f=n(2)},function(t,e,n){t.exports=n(231)},function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"j",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"h",(function(){return a})),n.d(e,"g",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"d",(function(){return u})),n.d(e,"i",(function(){return h})),n.d(e,"f",(function(){return d})),n.d(e,"c",(function(){return p}));var r=n(1);function i(t){return/^([a-zA-Z]+:)?\/\//.test(t)}function o(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function s(t){var e,n=Object(r.a)(t);return"string"===n?""===((e=t).trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")):"null"===n||"undefined"===n}function a(t){var e;if(!t||"object"!==Object(r.a)(t)||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!r.b.call(t,"constructor")&&!r.b.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}for(e in t);return void 0===e||r.b.call(t,e)}function c(t){return"formdata"===Object(r.a)(t)}function l(t){return"arraybuffer"===Object(r.a)(t)}function u(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function h(t){return t&&t.pipe&&"function"===Object(r.a)(t.pipe)}function d(t){return"file"===Object(r.a)(t)}function p(t){return"blob"===Object(r.a)(t)}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return a}));var i=function(){var t={};return"Boolean Blob Number String Function File Array ArrayBuffer Date RegExp Object Error Symbol".split(" ").forEach((function(e){t["[object "+e+"]"]=e.toLowerCase()})),t}(),o=i.hasOwnProperty,s=i.toString;function a(t){return null==t?t+"":"object"===r(t)||"function"==typeof t?i[s.call(t)]||"object":r(t)}},function(t,e,n){"use strict";(function(t){var r=n(5),i=n(4),o=n(0),s=n(1);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){t&&!t["Content-Type"]&&(t["Content-Type"]=e)}var l={adapter:void 0!==t&&"[object process]"===s.c.call(t)?i.a:r.a,transformRequest:[function(t,e){return function(t){["Accept","Content-Type"].forEach((function(e){Object.keys(t).forEach((function(n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=t[n],delete t[n])}))}))}(e),Object(o.g)(t)||Object(o.b)(t)||Object(o.d)(t)||Object(o.i)(t)||Object(o.f)(t)||Object(o.c)(t)?t:Object(o.b)(t)?t.buffer:Object(o.j)(t)?(c(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):null!==t&&"object"===a(t)?(c(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],validateStatus:function(t){return t>=200&&t<300},timeout:0,headers:{common:{Accept:"application/json, text/plain, */*"}}};["delete","get","head"].forEach((function(t){l.headers[t]={}})),["post","put","patch"].forEach((function(t){l.headers[t]={"Content-Type":"application/x-www-form-urlencoded"}})),e.a=l}).call(this,n(6))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var r=n(0),i=n(1);function o(t,e,n){return e?((o="function"===Object(i.a)(n)?n(e):Object(r.j)(e)?e.toString():function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[],n=null;return Object.keys(t).forEach((function(i){n=t[i],Object(r.e)(n)||e.push(i+"="+encodeURIComponent(Object(r.h)(n)?JSON.stringify(n):n))})),e.length?e.join("&"):""}(e))&&(t+=(-1!==t.indexOf("?")?"&":"?")+o),t):t;var o}function s(t,e){return t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,"")}},function(t,e,n){"use strict";function r(t){return new Promise((function(e){e(t)}))}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(3),i=n(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];function s(t,e,n,r,i){var o=this,s=new Error(t);return s.config=e,n&&(s.code=n),s.request=r,s.response=i,s.isAxiosError=!0,s.toJSON=function(){return{message:o.message,name:o.name,description:o.description,number:o.number,fileName:o.fileName,lineNumber:o.lineNumber,columnNumber:o.columnNumber,stack:o.stack,config:o.config,code:o.code}},s}function a(t){return new Promise((function(e,n){var a=t.data,c=t.headers;Object(i.g)(a)&&delete c["Content-Type"];var l=new XMLHttpRequest;if(l.open(t.method.toLowerCase(),Object(r.a)(t.url,t.params,t.paramsSerializer),t.async||!0),l.timeout=t.timeout,l.onreadystatechange=function(){if(l&&4===l.readyState){var r=l,i=r.status,a=r.statusText,c={data:t.responseType&&"text"!==t.responseType?l.response:l.responseText,status:i,statusText:a,headers:"getAllResponseHeaders"in l?function(t){var e,n,r,i={};return t?(t.split("\n").forEach((function(t){if(r=t.split(":"),e=r[0]||"",n=r[1]||"",e){if(i[e]&&o.indexOf(e)>=0)return;i[e]="set-cookie"===e?(i[e]?i[e]:[]).concat([n]):i[e]?i[e]+", "+n:n}})),i):i}(l.getAllResponseHeaders()):null,config:t,request:l},u=t.validateStatus;!u||u(i)?e(c):n(s("Request error with the status code: ".concat(i),c.config,null,c.request,c)),l=null}},l.onabort=function(){l&&(n(s("Request aborted",t,"XHRABORTED",l)),l=null)},l.ontimeout=function(){n(s("Request timeout",t,"XHRTIMEOUT",l)),l=null},l.onerror=function(){n(s("Request network error",t,"NETDISCONNECTED",l)),l=null},t.withCredentials&&(l.withCredentials=!0),t.responseType)try{l.responseType=t.responseType}catch(t){throw new Error("Request's responseType must in ['text', 'json', 'document', 'blob', 'arraybuffer']")}"setRequestHeader"in l&&Object.keys(c).forEach((function(t){void 0===a&&"content-type"===t.toLocaleLowerCase()?delete c[t]:c[t]&&l.setRequestHeader(t,c[t])})),"function"==typeof t.onDownloadProgress&&l.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",t.onUploadProgress),void 0===a&&(a=null),l.send(a)}))}n.d(e,"a",(function(){return a}))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,l=[],u=!1,h=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):h=-1,l.length&&p())}function p(){if(!u){var t=a(d);u=!0;for(var e=l.length;e;){for(c=l,l=[];++h<e;)c&&c[h].run();h=-1,e=l.length}c=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new f(t,e)),1!==l.length||u||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n(1);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,n){var r;Object.keys(e).forEach((function(i){r=e[i],t[i]="function"==typeof r?r.bind(n):r}))}function a(t,e){if(null!=t)for(var n in t)i.b.call(t,n)&&e(t[n],n,t)}function c(){var t={};function e(e,n){"object"===o(t[n])&&"object"===o(e)?t[n]=c(t[n],e):"object"===o(e)?t[n]=c({},e):t[n]=e}for(var n=0,r=arguments.length;n<r;n++)a(arguments[n],e);return t}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return["url","method","params","data","async"].forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),["headers","auth","proxy"].forEach((function(i){var o=e[i],s=t[i];Object(r.h)(o)?n[i]=c(s,o):void 0!==o?n[i]=o:Object(r.h)(s)?n[i]=c(s):void 0!==s&&(n[i]=s)})),["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","validateStatus"].forEach((function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])})),n}function u(){this.handlers=[]}u.prototype.register=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},u.prototype.deRegister=function(t){this.handlers[t]&&(this.handlers[t]=void 0)};var h=u,d=n(2);function p(t,e,n){return n.forEach((function(n){t=n(t,e)})),t}var f=n(3);function g(t){return t.baseURL&&!Object(r.a)(t.url)&&(t.url=Object(f.b)(t.baseURL,t.url)),t.data=p(t.data,t.headers,t.transformRequest),t.headers=function t(){var e={};function n(n,r){"object"===o(e[r])&&"object"===o(n)?e[r]=t(e[r],n):e[r]=n}for(var r=0,i=arguments.length;r<i;r++)a(arguments[r],n);return e}(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),["delete","get","head","post","put","patch","common"].forEach((function(e){delete t.headers[e]})),(t.adapter||d.a.adapter)(t).then((function(e){return e.data=p(e.data,e.headers,t.transformResponse),e}),(function(t){return Promise.reject(t)}))}function m(t){this.defaults=t||{},this.interceptors={request:new h,response:new h}}m.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=l(this.defaults,t)).method=t.method?t.method.toLowerCase():"get";var e=Promise.resolve(t),n=[g,void 0];for(this.interceptors.request.handlers.forEach((function(t){n.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.handlers.forEach((function(t){n.push(t.fulfilled,t.rejected)}));n.length;)e=e.then(n.shift(),n.shift());return e},["get","head","delete","options"].forEach((function(t){m.prototype[t]=function(e,n){return this.request(Object.assign(n||{},{url:e,method:t}))}})),["post","put","patch"].forEach((function(t){m.prototype[t]=function(e,n,r){return this.request(Object.assign(r||{},{url:e,method:t,data:n}))}}));var v=m;function y(t){var e=new v(t),n=v.prototype.request.bind(e);return s(n,v.prototype,e),s(n,e),n}var b=y(d.a);b.Ajax=v,b.create=function(t){return y(l(d.a,t))},b.all=function(t){return Promise.all(t)},e.default=b}]).default},function(t,e,n){t.exports=n(233)},function(t,e,n){t.exports=n(242)},function(t,e,n){var r,i;!function(o,s,a){"use strict";"undefined"!=typeof window&&n(246)?void 0===(i="function"==typeof(r=a)?r.call(e,n,e,t):r)||(t.exports=i):t.exports?t.exports=a():s.exports?s.exports=a():s.Fingerprint2=a()}(0,this,(function(){"use strict";var t=function(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var n=[0,0,0,0];return n[3]+=t[3]+e[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=t[2]+e[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=t[1]+e[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=t[0]+e[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},e=function(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var n=[0,0,0,0];return n[3]+=t[3]*e[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=t[2]*e[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=t[3]*e[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=t[1]*e[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=t[2]*e[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=t[3]*e[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=t[0]*e[3]+t[1]*e[2]+t[2]*e[1]+t[3]*e[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},n=function(t,e){return 32==(e%=64)?[t[1],t[0]]:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e|t[0]>>>32-e]:(e-=32,[t[1]<<e|t[0]>>>32-e,t[0]<<e|t[1]>>>32-e])},r=function(t,e){return 0==(e%=64)?t:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e]:[t[1]<<e-32,0]},i=function(t,e){return[t[0]^e[0],t[1]^e[1]]},o=function(t){return t=i(t,[0,t[0]>>>1]),t=e(t,[4283543511,3981806797]),t=i(t,[0,t[0]>>>1]),t=e(t,[3301882366,444984403]),i(t,[0,t[0]>>>1])},s=function(s,a){a=a||0;for(var c=(s=s||"").length%16,l=s.length-c,u=[0,a],h=[0,a],d=[0,0],p=[0,0],f=[2277735313,289559509],g=[1291169091,658871167],m=0;m<l;m+=16)d=[255&s.charCodeAt(m+4)|(255&s.charCodeAt(m+5))<<8|(255&s.charCodeAt(m+6))<<16|(255&s.charCodeAt(m+7))<<24,255&s.charCodeAt(m)|(255&s.charCodeAt(m+1))<<8|(255&s.charCodeAt(m+2))<<16|(255&s.charCodeAt(m+3))<<24],p=[255&s.charCodeAt(m+12)|(255&s.charCodeAt(m+13))<<8|(255&s.charCodeAt(m+14))<<16|(255&s.charCodeAt(m+15))<<24,255&s.charCodeAt(m+8)|(255&s.charCodeAt(m+9))<<8|(255&s.charCodeAt(m+10))<<16|(255&s.charCodeAt(m+11))<<24],d=e(d,f),d=n(d,31),d=e(d,g),u=i(u,d),u=n(u,27),u=t(u,h),u=t(e(u,[0,5]),[0,1390208809]),p=e(p,g),p=n(p,33),p=e(p,f),h=i(h,p),h=n(h,31),h=t(h,u),h=t(e(h,[0,5]),[0,944331445]);switch(d=[0,0],p=[0,0],c){case 15:p=i(p,r([0,s.charCodeAt(m+14)],48));case 14:p=i(p,r([0,s.charCodeAt(m+13)],40));case 13:p=i(p,r([0,s.charCodeAt(m+12)],32));case 12:p=i(p,r([0,s.charCodeAt(m+11)],24));case 11:p=i(p,r([0,s.charCodeAt(m+10)],16));case 10:p=i(p,r([0,s.charCodeAt(m+9)],8));case 9:p=i(p,[0,s.charCodeAt(m+8)]),p=e(p,g),p=n(p,33),p=e(p,f),h=i(h,p);case 8:d=i(d,r([0,s.charCodeAt(m+7)],56));case 7:d=i(d,r([0,s.charCodeAt(m+6)],48));case 6:d=i(d,r([0,s.charCodeAt(m+5)],40));case 5:d=i(d,r([0,s.charCodeAt(m+4)],32));case 4:d=i(d,r([0,s.charCodeAt(m+3)],24));case 3:d=i(d,r([0,s.charCodeAt(m+2)],16));case 2:d=i(d,r([0,s.charCodeAt(m+1)],8));case 1:d=i(d,[0,s.charCodeAt(m)]),d=e(d,f),d=n(d,31),d=e(d,g),u=i(u,d)}return u=i(u,[0,s.length]),h=i(h,[0,s.length]),u=t(u,h),h=t(h,u),u=o(u),h=o(h),u=t(u,h),h=t(h,u),("00000000"+(u[0]>>>0).toString(16)).slice(-8)+("00000000"+(u[1]>>>0).toString(16)).slice(-8)+("00000000"+(h[0]>>>0).toString(16)).slice(-8)+("00000000"+(h[1]>>>0).toString(16)).slice(-8)},a={preprocessor:null,audio:{timeout:1e3,excludeIOS11:!0},fonts:{swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",userDefinedFonts:[],extendedJsFonts:!1},screen:{detectScreenOrientation:!0},plugins:{sortPluginsFor:[/palemoon/i],excludeIE:!1},extraComponents:[],excludes:{enumerateDevices:!0,pixelRatio:!0,doNotTrack:!0,fontsFlash:!0},NOT_AVAILABLE:"not available",ERROR:"error",EXCLUDED:"excluded"},c=function(t,e){if(Array.prototype.forEach&&t.forEach===Array.prototype.forEach)t.forEach(e);else if(t.length===+t.length)for(var n=0,r=t.length;n<r;n++)e(t[n],n,t);else for(var i in t)t.hasOwnProperty(i)&&e(t[i],i,t)},l=function(t,e){var n=[];return null==t?n:Array.prototype.map&&t.map===Array.prototype.map?t.map(e):(c(t,(function(t,r,i){n.push(e(t,r,i))})),n)},u=function(t){if(null==navigator.plugins)return t.NOT_AVAILABLE;for(var e=[],n=0,r=navigator.plugins.length;n<r;n++)navigator.plugins[n]&&e.push(navigator.plugins[n]);return h(t)&&(e=e.sort((function(t,e){return t.name>e.name?1:t.name<e.name?-1:0}))),l(e,(function(t){var e=l(t,(function(t){return[t.type,t.suffixes]}));return[t.name,t.description,e]}))},h=function(t){for(var e=!1,n=0,r=t.plugins.sortPluginsFor.length;n<r;n++){var i=t.plugins.sortPluginsFor[n];if(navigator.userAgent.match(i)){e=!0;break}}return e},d=function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},p=function(){if(!d())return!1;var t=f();return!!window.WebGLRenderingContext&&!!t},f=function(){var t=document.createElement("canvas"),e=null;try{e=t.getContext("webgl")||t.getContext("experimental-webgl")}catch(t){}return e||(e=null),e},g=[{key:"userAgent",getData:function(t){t(navigator.userAgent)}},{key:"webdriver",getData:function(t,e){t(null==navigator.webdriver?e.NOT_AVAILABLE:navigator.webdriver)}},{key:"language",getData:function(t,e){t(navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||e.NOT_AVAILABLE)}},{key:"colorDepth",getData:function(t,e){t(window.screen.colorDepth||e.NOT_AVAILABLE)}},{key:"deviceMemory",getData:function(t,e){t(navigator.deviceMemory||e.NOT_AVAILABLE)}},{key:"pixelRatio",getData:function(t,e){t(window.devicePixelRatio||e.NOT_AVAILABLE)}},{key:"hardwareConcurrency",getData:function(t,e){t(function(t){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:t.NOT_AVAILABLE}(e))}},{key:"screenResolution",getData:function(t,e){t(function(t){var e=[window.screen.width,window.screen.height];return t.screen.detectScreenOrientation&&e.sort().reverse(),e}(e))}},{key:"availableScreenResolution",getData:function(t,e){t(function(t){if(window.screen.availWidth&&window.screen.availHeight){var e=[window.screen.availHeight,window.screen.availWidth];return t.screen.detectScreenOrientation&&e.sort().reverse(),e}return t.NOT_AVAILABLE}(e))}},{key:"timezoneOffset",getData:function(t){t((new Date).getTimezoneOffset())}},{key:"timezone",getData:function(t,e){window.Intl&&window.Intl.DateTimeFormat?t((new window.Intl.DateTimeFormat).resolvedOptions().timeZone):t(e.NOT_AVAILABLE)}},{key:"sessionStorage",getData:function(t,e){t(function(t){try{return!!window.sessionStorage}catch(e){return t.ERROR}}(e))}},{key:"localStorage",getData:function(t,e){t(function(t){try{return!!window.localStorage}catch(e){return t.ERROR}}(e))}},{key:"indexedDb",getData:function(t,e){t(function(t){try{return!!window.indexedDB}catch(e){return t.ERROR}}(e))}},{key:"addBehavior",getData:function(t){t(!(!document.body||!document.body.addBehavior))}},{key:"openDatabase",getData:function(t){t(!!window.openDatabase)}},{key:"cpuClass",getData:function(t,e){t(function(t){return navigator.cpuClass||t.NOT_AVAILABLE}(e))}},{key:"platform",getData:function(t,e){t(function(t){return navigator.platform?navigator.platform:t.NOT_AVAILABLE}(e))}},{key:"doNotTrack",getData:function(t,e){t(function(t){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:t.NOT_AVAILABLE}(e))}},{key:"plugins",getData:function(t,e){"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&/Trident/.test(navigator.userAgent)?e.plugins.excludeIE?t(e.EXCLUDED):t(function(t){var e=[];return Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window?e=l(["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"],(function(e){try{return new window.ActiveXObject(e),e}catch(e){return t.ERROR}})):e.push(t.NOT_AVAILABLE),navigator.plugins&&(e=e.concat(u(t))),e}(e)):t(u(e))}},{key:"canvas",getData:function(t,e){d()?t(function(t){var e=[],n=document.createElement("canvas");n.width=2e3,n.height=200,n.style.display="inline";var r=n.getContext("2d");return r.rect(0,0,10,10),r.rect(2,2,6,6),e.push("canvas winding:"+(!1===r.isPointInPath(5,5,"evenodd")?"yes":"no")),r.textBaseline="alphabetic",r.fillStyle="#f60",r.fillRect(125,1,62,20),r.fillStyle="#069",t.dontUseFakeFontInCanvas?r.font="11pt Arial":r.font="11pt no-real-font-123",r.fillText("Cwm fjordbank glyphs vext quiz, ",2,15),r.fillStyle="rgba(102, 204, 0, 0.2)",r.font="18pt Arial",r.fillText("Cwm fjordbank glyphs vext quiz, ",4,45),r.globalCompositeOperation="multiply",r.fillStyle="rgb(255,0,255)",r.beginPath(),r.arc(50,50,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(0,255,255)",r.beginPath(),r.arc(100,50,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(255,255,0)",r.beginPath(),r.arc(75,100,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(255,0,255)",r.arc(75,75,75,0,2*Math.PI,!0),r.arc(75,75,25,0,2*Math.PI,!0),r.fill("evenodd"),n.toDataURL&&e.push("canvas fp:"+n.toDataURL()),e}(e)):t(e.NOT_AVAILABLE)}},{key:"webgl",getData:function(t,e){p()?t(function(){var t,e=function(e){return t.clearColor(0,0,0,1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),"["+e[0]+", "+e[1]+"]"};if(!(t=f()))return null;var n=[],r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r);var i=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW),r.itemSize=3,r.numItems=3;var o=t.createProgram(),s=t.createShader(t.VERTEX_SHADER);t.shaderSource(s,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),t.compileShader(s);var a=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(a,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),t.compileShader(a),t.attachShader(o,s),t.attachShader(o,a),t.linkProgram(o),t.useProgram(o),o.vertexPosAttrib=t.getAttribLocation(o,"attrVertex"),o.offsetUniform=t.getUniformLocation(o,"uniformOffset"),t.enableVertexAttribArray(o.vertexPosArray),t.vertexAttribPointer(o.vertexPosAttrib,r.itemSize,t.FLOAT,!1,0,0),t.uniform2f(o.offsetUniform,1,1),t.drawArrays(t.TRIANGLE_STRIP,0,r.numItems);try{n.push(t.canvas.toDataURL())}catch(t){}n.push("extensions:"+(t.getSupportedExtensions()||[]).join(";")),n.push("webgl aliased line width range:"+e(t.getParameter(t.ALIASED_LINE_WIDTH_RANGE))),n.push("webgl aliased point size range:"+e(t.getParameter(t.ALIASED_POINT_SIZE_RANGE))),n.push("webgl alpha bits:"+t.getParameter(t.ALPHA_BITS)),n.push("webgl antialiasing:"+(t.getContextAttributes().antialias?"yes":"no")),n.push("webgl blue bits:"+t.getParameter(t.BLUE_BITS)),n.push("webgl depth bits:"+t.getParameter(t.DEPTH_BITS)),n.push("webgl green bits:"+t.getParameter(t.GREEN_BITS)),n.push("webgl max anisotropy:"+function(t){var e=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic");if(e){var n=t.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT);return 0===n&&(n=2),n}return null}(t)),n.push("webgl max combined texture image units:"+t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),n.push("webgl max cube map texture size:"+t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE)),n.push("webgl max fragment uniform vectors:"+t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS)),n.push("webgl max render buffer size:"+t.getParameter(t.MAX_RENDERBUFFER_SIZE)),n.push("webgl max texture image units:"+t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)),n.push("webgl max texture size:"+t.getParameter(t.MAX_TEXTURE_SIZE)),n.push("webgl max varying vectors:"+t.getParameter(t.MAX_VARYING_VECTORS)),n.push("webgl max vertex attribs:"+t.getParameter(t.MAX_VERTEX_ATTRIBS)),n.push("webgl max vertex texture image units:"+t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),n.push("webgl max vertex uniform vectors:"+t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS)),n.push("webgl max viewport dims:"+e(t.getParameter(t.MAX_VIEWPORT_DIMS))),n.push("webgl red bits:"+t.getParameter(t.RED_BITS)),n.push("webgl renderer:"+t.getParameter(t.RENDERER)),n.push("webgl shading language version:"+t.getParameter(t.SHADING_LANGUAGE_VERSION)),n.push("webgl stencil bits:"+t.getParameter(t.STENCIL_BITS)),n.push("webgl vendor:"+t.getParameter(t.VENDOR)),n.push("webgl version:"+t.getParameter(t.VERSION));try{var l=t.getExtension("WEBGL_debug_renderer_info");l&&(n.push("webgl unmasked vendor:"+t.getParameter(l.UNMASKED_VENDOR_WEBGL)),n.push("webgl unmasked renderer:"+t.getParameter(l.UNMASKED_RENDERER_WEBGL)))}catch(t){}return t.getShaderPrecisionFormat?(c(["FLOAT","INT"],(function(e){c(["VERTEX","FRAGMENT"],(function(r){c(["HIGH","MEDIUM","LOW"],(function(i){c(["precision","rangeMin","rangeMax"],(function(o){var s=t.getShaderPrecisionFormat(t[r+"_SHADER"],t[i+"_"+e])[o];"precision"!==o&&(o="precision "+o);var a=["webgl ",r.toLowerCase()," shader ",i.toLowerCase()," ",e.toLowerCase()," ",o,":",s].join("");n.push(a)}))}))}))})),n):n}()):t(e.NOT_AVAILABLE)}},{key:"webglVendorAndRenderer",getData:function(t){p()?t(function(){try{var t=f(),e=t.getExtension("WEBGL_debug_renderer_info");return t.getParameter(e.UNMASKED_VENDOR_WEBGL)+"~"+t.getParameter(e.UNMASKED_RENDERER_WEBGL)}catch(t){return null}}()):t()}},{key:"adBlock",getData:function(t){t(function(){var t=document.createElement("div");t.innerHTML="&nbsp;",t.className="adsbox";var e=!1;try{document.body.appendChild(t),e=0===document.getElementsByClassName("adsbox")[0].offsetHeight,document.body.removeChild(t)}catch(t){e=!1}return e}())}},{key:"hasLiedLanguages",getData:function(t){t(function(){if(void 0!==navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(t){return!0}return!1}())}},{key:"hasLiedResolution",getData:function(t){t(window.screen.width<window.screen.availWidth||window.screen.height<window.screen.availHeight)}},{key:"hasLiedOs",getData:function(t){t(function(){var t,e=navigator.userAgent.toLowerCase(),n=navigator.oscpu,r=navigator.platform.toLowerCase();if(t=e.indexOf("windows phone")>=0?"Windows Phone":e.indexOf("win")>=0?"Windows":e.indexOf("android")>=0?"Android":e.indexOf("linux")>=0||e.indexOf("cros")>=0?"Linux":e.indexOf("iphone")>=0||e.indexOf("ipad")>=0?"iOS":e.indexOf("mac")>=0?"Mac":"Other",("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"Windows Phone"!==t&&"Android"!==t&&"iOS"!==t&&"Other"!==t)return!0;if(void 0!==n){if((n=n.toLowerCase()).indexOf("win")>=0&&"Windows"!==t&&"Windows Phone"!==t)return!0;if(n.indexOf("linux")>=0&&"Linux"!==t&&"Android"!==t)return!0;if(n.indexOf("mac")>=0&&"Mac"!==t&&"iOS"!==t)return!0;if((-1===n.indexOf("win")&&-1===n.indexOf("linux")&&-1===n.indexOf("mac"))!=("Other"===t))return!0}return r.indexOf("win")>=0&&"Windows"!==t&&"Windows Phone"!==t||(r.indexOf("linux")>=0||r.indexOf("android")>=0||r.indexOf("pike")>=0)&&"Linux"!==t&&"Android"!==t||(r.indexOf("mac")>=0||r.indexOf("ipad")>=0||r.indexOf("ipod")>=0||r.indexOf("iphone")>=0)&&"Mac"!==t&&"iOS"!==t||(r.indexOf("win")<0&&r.indexOf("linux")<0&&r.indexOf("mac")<0&&r.indexOf("iphone")<0&&r.indexOf("ipad")<0)!=("Other"===t)||void 0===navigator.plugins&&"Windows"!==t&&"Windows Phone"!==t}())}},{key:"hasLiedBrowser",getData:function(t){t(function(){var t,e=navigator.userAgent.toLowerCase(),n=navigator.productSub;if(("Chrome"==(t=e.indexOf("firefox")>=0?"Firefox":e.indexOf("opera")>=0||e.indexOf("opr")>=0?"Opera":e.indexOf("chrome")>=0?"Chrome":e.indexOf("safari")>=0?"Safari":e.indexOf("trident")>=0?"Internet Explorer":"Other")||"Safari"===t||"Opera"===t)&&"20030107"!==n)return!0;var r,i=eval.toString().length;if(37===i&&"Safari"!==t&&"Firefox"!==t&&"Other"!==t)return!0;if(39===i&&"Internet Explorer"!==t&&"Other"!==t)return!0;if(33===i&&"Chrome"!==t&&"Opera"!==t&&"Other"!==t)return!0;try{throw"a"}catch(t){try{t.toSource(),r=!0}catch(t){r=!1}}return r&&"Firefox"!==t&&"Other"!==t}())}},{key:"touchSupport",getData:function(t){t(function(){var t,e=0;void 0!==navigator.maxTouchPoints?e=navigator.maxTouchPoints:void 0!==navigator.msMaxTouchPoints&&(e=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),t=!0}catch(e){t=!1}return[e,t,"ontouchstart"in window]}())}},{key:"fonts",getData:function(t,e){var n=["monospace","sans-serif","serif"],r=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"];e.fonts.extendedJsFonts&&(r=r.concat(["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"])),r=(r=r.concat(e.fonts.userDefinedFonts)).filter((function(t,e){return r.indexOf(t)===e}));var i=document.getElementsByTagName("body")[0],o=document.createElement("div"),s=document.createElement("div"),a={},c={},l=function(){var t=document.createElement("span");return t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="72px",t.style.fontStyle="normal",t.style.fontWeight="normal",t.style.letterSpacing="normal",t.style.lineBreak="auto",t.style.lineHeight="normal",t.style.textTransform="none",t.style.textAlign="left",t.style.textDecoration="none",t.style.textShadow="none",t.style.whiteSpace="normal",t.style.wordBreak="normal",t.style.wordSpacing="normal",t.innerHTML="mmmmmmmmmmlli",t},u=function(t,e){var n=l();return n.style.fontFamily="'"+t+"',"+e,n},h=function(t){for(var e=!1,r=0;r<n.length;r++)if(e=t[r].offsetWidth!==a[n[r]]||t[r].offsetHeight!==c[n[r]])return e;return e},d=function(){for(var t=[],e=0,r=n.length;e<r;e++){var i=l();i.style.fontFamily=n[e],o.appendChild(i),t.push(i)}return t}();i.appendChild(o);for(var p=0,f=n.length;p<f;p++)a[n[p]]=d[p].offsetWidth,c[n[p]]=d[p].offsetHeight;var g=function(){for(var t={},e=0,i=r.length;e<i;e++){for(var o=[],a=0,c=n.length;a<c;a++){var l=u(r[e],n[a]);s.appendChild(l),o.push(l)}t[r[e]]=o}return t}();i.appendChild(s);for(var m=[],v=0,y=r.length;v<y;v++)h(g[r[v]])&&m.push(r[v]);i.removeChild(s),i.removeChild(o),t(m)},pauseBefore:!0},{key:"fontsFlash",getData:function(t,e){return void 0!==window.swfobject?window.swfobject.hasFlashPlayerVersion("9.0.0")?e.fonts.swfPath?void function(t,e){window.___fp_swf_loaded=function(e){t(e)};var n=e.fonts.swfContainerId;!function(t){var e=document.createElement("div");e.setAttribute("id",(void 0).fonts.swfContainerId),document.body.appendChild(e)}(),window.swfobject.embedSWF(e.fonts.swfPath,n,"1","1","9.0.0",!1,{onReady:"___fp_swf_loaded"},{allowScriptAccess:"always",menu:"false"},{})}((function(e){t(e)}),e):t("missing options.fonts.swfPath"):t("flash not installed"):t("swf object not loaded")},pauseBefore:!0},{key:"audio",getData:function(t,e){var n=e.audio;if(n.excludeIOS11&&navigator.userAgent.match(/OS 11.+Version\/11.+Safari/))return t(e.EXCLUDED);var r=window.OfflineAudioContext||window.webkitOfflineAudioContext;if(null==r)return t(e.NOT_AVAILABLE);var i=new r(1,44100,44100),o=i.createOscillator();o.type="triangle",o.frequency.setValueAtTime(1e4,i.currentTime);var s=i.createDynamicsCompressor();c([["threshold",-50],["knee",40],["ratio",12],["reduction",-20],["attack",0],["release",.25]],(function(t){void 0!==s[t[0]]&&"function"==typeof s[t[0]].setValueAtTime&&s[t[0]].setValueAtTime(t[1],i.currentTime)})),o.connect(s),s.connect(i.destination),o.start(0),i.startRendering();var a=setTimeout((function(){return console.warn('Audio fingerprint timed out. Please report bug at https://github.com/Valve/fingerprintjs2 with your user agent: "'+navigator.userAgent+'".'),i.oncomplete=function(){},i=null,t("audioTimeout")}),n.timeout);i.oncomplete=function(e){var n;try{clearTimeout(a),n=e.renderedBuffer.getChannelData(0).slice(4500,5e3).reduce((function(t,e){return t+Math.abs(e)}),0).toString(),o.disconnect(),s.disconnect()}catch(e){return void t(e)}t(n)}}},{key:"enumerateDevices",getData:function(t,e){if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return t(e.NOT_AVAILABLE);navigator.mediaDevices.enumerateDevices().then((function(e){t(e.map((function(t){return"id="+t.deviceId+";gid="+t.groupId+";"+t.kind+";"+t.label})))})).catch((function(e){t(e)}))}}],m=function(t){throw new Error("'new Fingerprint()' is deprecated, see https://github.com/Valve/fingerprintjs2#upgrade-guide-from-182-to-200")};return m.get=function(t,e){e?t||(t={}):(e=t,t={}),function(t,e){if(null==e)return t;var n,r;for(r in e)null==(n=e[r])||Object.prototype.hasOwnProperty.call(t,r)||(t[r]=n)}(t,a),t.components=t.extraComponents.concat(g);var n={data:[],addPreprocessedComponent:function(e,r){"function"==typeof t.preprocessor&&(r=t.preprocessor(e,r)),n.data.push({key:e,value:r})}},r=-1,i=function(o){if((r+=1)>=t.components.length)e(n.data);else{var s=t.components[r];if(t.excludes[s.key])i(!1);else{if(!o&&s.pauseBefore)return r-=1,void setTimeout((function(){i(!0)}),1);try{s.getData((function(t){n.addPreprocessedComponent(s.key,t),i(!1)}),t)}catch(t){n.addPreprocessedComponent(s.key,String(t)),i(!1)}}}};i(!1)},m.getPromise=function(t){return new Promise((function(e,n){m.get(t,e)}))},m.getV18=function(t,e){return null==e&&(e=t,t={}),m.get(t,(function(n){for(var r=[],i=0;i<n.length;i++){var o=n[i];if(o.value===(t.NOT_AVAILABLE||"not available"))r.push({key:o.key,value:"unknown"});else if("plugins"===o.key)r.push({key:"plugins",value:l(o.value,(function(t){var e=l(t[2],(function(t){return t.join?t.join("~"):t})).join(",");return[t[0],t[1],e].join("::")}))});else if(-1!==["canvas","webgl"].indexOf(o.key))r.push({key:o.key,value:o.value.join("~")});else if(-1!==["sessionStorage","localStorage","indexedDb","addBehavior","openDatabase"].indexOf(o.key)){if(!o.value)continue;r.push({key:o.key,value:1})}else o.value?r.push(o.value.join?{key:o.key,value:o.value.join(";")}:o):r.push({key:o.key,value:o.value})}var a=s(l(r,(function(t){return t.value})).join("~~~"),31);e(a,r)}))},m.x64hash128=s,m.VERSION="2.1.0",m}))},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(7),i=n(28),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(17),i=n(7),o=n(54);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(7),i=/#|\.prototype\./,o=function(t,e){var n=a[s(t)];return n==l||n!=c&&("function"==typeof e?r(e):!!e)},s=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},function(t,e,n){"use strict";var r=n(1),i=n(7),o=n(36),s=n(9),a=n(31),c=n(22),l=n(56),u=n(76),h=n(45),d=n(2),p=n(58),f=d("isConcatSpreadable"),g=p>=51||!i((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),m=h("concat"),v=function(t){if(!s(t))return!1;var e=t[f];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,forced:!g||!m},{concat:function(t){var e,n,r,i,o,s=a(this),h=u(s,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?s:arguments[e],v(o)){if(d+(i=c(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,d++)n in o&&l(h,d,o[n])}else{if(d>=9007199254740991)throw TypeError("Maximum allowed index exceeded");l(h,d++,o)}return h.length=d,h}})},function(t,e,n){var r=n(9),i=n(36),o=n(2)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(7);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){var r=n(13),i=n(18),o=n(79).indexOf,s=n(46);t.exports=function(t,e){var n,a=i(t),c=0,l=[];for(n in a)!r(s,n)&&r(a,n)&&l.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(18),i=n(22),o=n(80),s=function(t){return function(e,n,s){var a,c=r(e),l=i(c.length),u=o(s,l);if(t&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e,n){var r=n(44),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e){},function(t,e,n){"use strict";var r=n(1),i=n(83),o=n(85),s=n(149),a=n(24),c=n(15),l=n(34),u=n(2),h=n(23),d=n(25),p=n(84),f=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,m=u("iterator"),v=function(){return this};t.exports=function(t,e,n,u,p,y,b){i(n,e,u);var w,_,x,O=function(t){if(t===p&&P)return P;if(!g&&t in E)return E[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},S=e+" Iterator",j=!1,E=t.prototype,T=E[m]||E["@@iterator"]||p&&E[p],P=!g&&T||O(p),C="Array"==e&&E.entries||T;if(C&&(w=o(C.call(new t)),f!==Object.prototype&&w.next&&(h||o(w)===f||(s?s(w,f):"function"!=typeof w[m]&&c(w,m,v)),a(w,S,!0,!0),h&&(d[S]=v))),"values"==p&&T&&"values"!==T.name&&(j=!0,P=function(){return T.call(this)}),h&&!b||E[m]===P||c(E,m,P),d[e]=P,p)if(_={values:O("values"),keys:y?P:O("keys"),entries:O("entries")},b)for(x in _)!g&&!j&&x in E||l(E,x,_[x]);else r({target:e,proto:!0,forced:g||j},_);return _}},function(t,e,n){"use strict";var r=n(84).IteratorPrototype,i=n(61),o=n(27),s=n(24),a=n(25),c=function(){return this};t.exports=function(t,e,n){var l=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),s(t,l,!1,!0),a[l]=c,t}},function(t,e,n){"use strict";var r,i,o,s=n(85),a=n(15),c=n(13),l=n(2),u=n(23),h=l("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=s(s(o)))!==Object.prototype&&(r=i):d=!0),null==r&&(r={}),u||c(r,h)||a(r,h,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},function(t,e,n){var r=n(13),i=n(31),o=n(47),s=n(146),a=o("IE_PROTO"),c=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e,n){var r=n(20);t.exports=r("document","documentElement")},function(t,e,n){var r=n(3);t.exports=r.Promise},function(t,e,n){var r=n(34);t.exports=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:r(t,i,e[i],n);return t}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(11),i=n(91),o=n(22),s=n(29),a=n(48),c=n(92),l=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,u,h){var d,p,f,g,m,v,y,b=s(e,n,u?2:1);if(h)d=t;else{if("function"!=typeof(p=a(t)))throw TypeError("Target is not iterable");if(i(p)){for(f=0,g=o(t.length);g>f;f++)if((m=u?b(r(y=t[f])[0],y[1]):b(t[f]))&&m instanceof l)return m;return new l(!1)}d=p.call(t)}for(v=d.next;!(y=v.call(d)).done;)if("object"==typeof(m=c(d,b,y.value,u))&&m&&m instanceof l)return m;return new l(!1)}).stop=function(t){return new l(!0,t)}},function(t,e,n){var r=n(2),i=n(25),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},function(t,e,n){var r=n(11);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(2)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){var r=n(11),i=n(30),o=n(2)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[o])?e:i(n)}},function(t,e,n){var r,i,o,s=n(3),a=n(7),c=n(28),l=n(29),u=n(86),h=n(54),d=n(96),p=s.location,f=s.setImmediate,g=s.clearImmediate,m=s.process,v=s.MessageChannel,y=s.Dispatch,b=0,w={},_=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},x=function(t){return function(){_(t)}},O=function(t){_(t.data)},S=function(t){s.postMessage(t+"",p.protocol+"//"+p.host)};f&&g||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return w[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(b),b},g=function(t){delete w[t]},"process"==c(m)?r=function(t){m.nextTick(x(t))}:y&&y.now?r=function(t){y.now(x(t))}:v&&!d?(o=(i=new v).port2,i.port1.onmessage=O,r=l(o.postMessage,o,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||a(S)?r="onreadystatechange"in h("script")?function(t){u.appendChild(h("script")).onreadystatechange=function(){u.removeChild(this),_(t)}}:function(t){setTimeout(x(t),0)}:(r=S,s.addEventListener("message",O,!1))),t.exports={set:f,clear:g}},function(t,e,n){var r=n(55);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){var r=n(11),i=n(9),o=n(63);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){t.exports=n(165)},function(t,e,n){t.exports=n(174)},function(t,e,n){var r=n(42),i="["+n(64)+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),a=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:a(1),end:a(2),trim:a(3)}},function(t,e,n){n(4)("iterator")},function(t,e,n){var r=n(78),i=n(60).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(11),i=n(48);t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},function(t,e,n){t.exports=n(117)},function(t,e,n){t.exports=n(128)},function(t,e,n){t.exports=n(141)},function(t,e,n){var r=n(164),i=n(168),o=n(176);t.exports=function(t){return r(t)||i(t)||o()}},function(t,e,n){t.exports=n(191)},function(t,e,n){var r=n(229),i=n(230),o=n(232);t.exports=function(t,e){return r(t)||i(t,e)||o()}},function(t,e,n){t.exports=n(238)},function(t,e,n){var r;!function(i,o){"use strict";var s="model",a="name",c="type",l="vendor",u="version",h="mobile",d="tablet",p={extend:function(t,e){var n={};for(var r in t)e[r]&&e[r].length%2==0?n[r]=e[r].concat(t[r]):n[r]=t[r];return n},has:function(t,e){return"string"==typeof t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},major:function(t){return"string"==typeof t?t.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},f={rgx:function(t,e){for(var n,r,i,o,s,a,c=0;c<e.length&&!s;){var l=e[c],u=e[c+1];for(n=r=0;n<l.length&&!s;)if(s=l[n++].exec(t))for(i=0;i<u.length;i++)a=s[++r],"object"==typeof(o=u[i])&&o.length>0?2==o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,a):this[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=a?a.replace(o[1],o[2]):void 0:this[o[0]]=a?o[1].call(this,a,o[2]):void 0:4==o.length&&(this[o[0]]=a?o[3].call(this,a.replace(o[1],o[2])):void 0):this[o]=a||void 0;c+=2}},str:function(t,e){for(var n in e)if("object"==typeof e[n]&&e[n].length>0){for(var r=0;r<e[n].length;r++)if(p.has(e[n][r],t))return"?"===n?void 0:n}else if(p.has(e[n],t))return"?"===n?void 0:n;return t}},g={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},m={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,u],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],u],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[a,u],[/(konqueror)\/([\w\.]+)/i],[[a,"Konqueror"],u],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],u],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[a,"Edge"],u],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],u],[/(puffin)\/([\w\.]+)/i],[[a,"Puffin"],u],[/(focus)\/([\w\.]+)/i],[[a,"Firefox Focus"],u],[/(opt)\/([\w\.]+)/i],[[a,"Opera Touch"],u],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],u],[/(windowswechat qbcore)\/([\w\.]+)/i],[[a,"WeChat(Win) Desktop"],u],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],u],[/(brave)\/([\w\.]+)/i],[[a,"Brave"],u],[/(qqbrowserlite)\/([\w\.]+)/i],[a,u],[/(QQ)\/([\d\.]+)/i],[a,u],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[a,u],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[a,u],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[a,u],[/(MetaSr)[\/\s]?([\w\.]+)/i],[a],[/(LBBROWSER)/i],[a],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[u,[a,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[u,[a,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[a,u],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[u,[a,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],u],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[a,/(.+(?:g|us))(.+)/,"$1 $2"],u],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[u,[a,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[a,"Sailfish Browser"],u],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[a,u],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],u],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],u],[/(coast)\/([\w\.]+)/i],[[a,"Opera Coast"],u],[/fxios\/([\w\.-]+)/i],[u,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[u,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[u,a],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[a,"GSA"],u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[u,f.str,g.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[a,u],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],u],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,u]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",p.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",p.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",p.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[s,l,[c,d]],[/applecoremedia\/[\w\.]+ \((ipad)/],[s,[l,"Apple"],[c,d]],[/(apple\s{0,1}tv)/i],[[s,"Apple TV"],[l,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[l,s,[c,d]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[s,[l,"Amazon"],[c,d]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[s,f.str,g.device.amazon.model],[l,"Amazon"],[c,h]],[/android.+aft([bms])\sbuild/i],[s,[l,"Amazon"],[c,"smarttv"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[s,l,[c,h]],[/\((ip[honed|\s\w*]+);/i],[s,[l,"Apple"],[c,h]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[l,s,[c,h]],[/\(bb10;\s(\w+)/i],[s,[l,"BlackBerry"],[c,h]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[s,[l,"Asus"],[c,d]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[l,"Sony"],[s,"Xperia Tablet"],[c,d]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[s,[l,"Sony"],[c,h]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[l,s,[c,"console"]],[/android.+;\s(shield)\sbuild/i],[s,[l,"Nvidia"],[c,"console"]],[/(playstation\s[34portablevi]+)/i],[s,[l,"Sony"],[c,"console"]],[/(sprint\s(\w+))/i],[[l,f.str,g.device.sprint.vendor],[s,f.str,g.device.sprint.model],[c,h]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[l,[s,/_/g," "],[c,h]],[/(nexus\s9)/i],[s,[l,"HTC"],[c,d]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[s,[l,"Huawei"],[c,h]],[/(microsoft);\s(lumia[\s\w]+)/i],[l,s,[c,h]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[s,[l,"Microsoft"],[c,"console"]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[l,"Microsoft"],[c,h]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[s,[l,"Motorola"],[c,h]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[l,"Motorola"],[c,d]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,p.trim],[s,p.trim],[c,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[l,"Samsung"],[c,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[s,[l,"Sharp"],[c,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[l,"Samsung"],s,[c,d]],[/smart-tv.+(samsung)/i],[l,[c,"smarttv"],s],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[l,"Samsung"],s,[c,h]],[/sie-(\w*)/i],[s,[l,"Siemens"],[c,h]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[l,"Nokia"],s,[c,h]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[s,[l,"Acer"],[c,d]],[/android.+([vl]k\-?\d{3})\s+build/i],[s,[l,"LG"],[c,d]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[l,"LG"],s,[c,d]],[/(lg) netcast\.tv/i],[l,s,[c,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[s,[l,"LG"],[c,h]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[l,s,[c,d]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[s,[l,"Lenovo"],[c,d]],[/(lenovo)[_\s-]?([\w-]+)/i],[l,s,[c,h]],[/linux;.+((jolla));/i],[l,s,[c,h]],[/((pebble))app\/[\d\.]+\s/i],[l,s,[c,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[l,s,[c,h]],[/crkey/i],[[s,"Chromecast"],[l,"Google"]],[/android.+;\s(glass)\s\d/i],[s,[l,"Google"],[c,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[s,[l,"Google"],[c,d]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[s,[l,"Google"],[c,h]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[s,/_/g," "],[l,"Xiaomi"],[c,h]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[s,/_/g," "],[l,"Xiaomi"],[c,d]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[s,[l,"Meizu"],[c,h]],[/(mz)-([\w-]{2,})/i],[[l,"Meizu"],s,[c,h]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[s,[l,"OnePlus"],[c,h]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[s,[l,"RCA"],[c,d]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[s,[l,"Dell"],[c,d]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[s,[l,"Verizon"],[c,d]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[l,"Barnes & Noble"],s,[c,d]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[s,[l,"NuVision"],[c,d]],[/android.+;\s(k88)\sbuild/i],[s,[l,"ZTE"],[c,d]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[s,[l,"Swiss"],[c,h]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[s,[l,"Swiss"],[c,d]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[s,[l,"Zeki"],[c,d]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[l,"Dragon Touch"],s,[c,d]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[s,[l,"Insignia"],[c,d]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[s,[l,"NextBook"],[c,d]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[l,"Voice"],s,[c,h]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[l,"LvTel"],s,[c,h]],[/android.+;\s(PH-1)\s/i],[s,[l,"Essential"],[c,h]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[s,[l,"Envizen"],[c,d]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[l,s,[c,d]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[s,[l,"MachSpeed"],[c,d]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[l,s,[c,d]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[s,[l,"Rotor"],[c,d]],[/android.+(KS(.+))\s+build/i],[s,[l,"Amazon"],[c,d]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[l,s,[c,d]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,p.lowerize],l,s],[/[\s\/\(](smart-?tv)[;\)]/i],[[c,"smarttv"]],[/(android[\w\.\s\-]{0,9});.+build/i],[s,[l,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[u,[a,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)/i],[[a,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,u],[/rv\:([\w\.]{1,9}).+(gecko)/i],[u,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[u,f.str,g.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[u,f.str,g.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[a,u],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[a,"Symbian"],u],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],u],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[a,u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],u],[/(sunos)\s?([\w\.\d]*)/i],[[a,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[a,u],[/(haiku)\s(\w+)/i],[a,u],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[u,/_/g,"."],[a,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[a,u]]},v=function(t,e){if("object"==typeof t&&(e=t,t=void 0),!(this instanceof v))return new v(t,e).getResult();var n=t||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=e?p.extend(m,e):m;return this.getBrowser=function(){var t={name:void 0,version:void 0};return f.rgx.call(t,n,r.browser),t.major=p.major(t.version),t},this.getCPU=function(){var t={architecture:void 0};return f.rgx.call(t,n,r.cpu),t},this.getDevice=function(){var t={vendor:void 0,model:void 0,type:void 0};return f.rgx.call(t,n,r.device),t},this.getEngine=function(){var t={name:void 0,version:void 0};return f.rgx.call(t,n,r.engine),t},this.getOS=function(){var t={name:void 0,version:void 0};return f.rgx.call(t,n,r.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(t){return n=t,this},this};v.VERSION="0.7.20",v.BROWSER={NAME:a,MAJOR:"major",VERSION:u},v.CPU={ARCHITECTURE:"architecture"},v.DEVICE={MODEL:s,VENDOR:l,TYPE:c,CONSOLE:"console",MOBILE:h,SMARTTV:"smarttv",TABLET:d,WEARABLE:"wearable",EMBEDDED:"embedded"},v.ENGINE={NAME:a,VERSION:u},v.OS={NAME:a,VERSION:u},void 0!==e?(void 0!==t&&t.exports&&(e=t.exports=v),e.UAParser=v):void 0===(r=function(){return v}.call(e,n,e,t))||(t.exports=r);var y=i&&(i.jQuery||i.Zepto);if(void 0!==y&&!y.ua){var b=new v;y.ua=b.getResult(),y.ua.get=function(){return b.getUA()},y.ua.set=function(t){b.setUA(t);var e=b.getResult();for(var n in e)y.ua[n]=e[n]}}}("object"==typeof window?window:this)},function(t,e,n){var r=n(247);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(t,i.key,i)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},function(t,e,n){t.exports=n(251)},function(t,e,n){t.exports=n(254)},function(t,e,n){n(258)(t.exports)},function(t,e,n){n(118),t.exports=n(8).setTimeout},function(t,e,n){var r=n(1),i=n(3),o=n(55),s=[].slice,a=function(t){return function(e,n){var r=arguments.length>2,i=r?s.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:a(i.setTimeout),setInterval:a(i.setInterval)})},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){t.exports=n(121)},function(t,e,n){var r=n(122),i=Array.prototype;t.exports=function(t){var e=t.concat;return t===i||t instanceof Array&&e===i.concat?r:e}},function(t,e,n){n(75);var r=n(10);t.exports=r("Array").concat},function(t,e,n){var r=n(3),i=n(124),o=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e,n){var r=n(3),i=n(15);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){t.exports=n(126)},function(t,e,n){n(127);var r=n(8);t.exports=r.Object.keys},function(t,e,n){var r=n(1),i=n(31),o=n(59);r({target:"Object",stat:!0,forced:n(7)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},function(t,e,n){t.exports=n(129)},function(t,e,n){var r=n(130),i=Function.prototype;t.exports=function(t){var e=t.bind;return t===i||t instanceof Function&&e===i.bind?r:e}},function(t,e,n){n(131);var r=n(10);t.exports=r("Function").bind},function(t,e,n){n(1)({target:"Function",proto:!0},{bind:n(132)})},function(t,e,n){"use strict";var r=n(30),i=n(9),o=[].slice,s={},a=function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("C,a","return new C("+r.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=o.call(arguments,1),s=function(){var r=n.concat(o.call(arguments));return this instanceof s?a(e,r.length,r):e.apply(t,r)};return i(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e,n){t.exports=n(134)},function(t,e,n){var r=n(135),i=Array.prototype;t.exports=function(t){var e=t.indexOf;return t===i||t instanceof Array&&e===i.indexOf?r:e}},function(t,e,n){n(136);var r=n(10);t.exports=r("Array").indexOf},function(t,e,n){"use strict";var r=n(1),i=n(79).indexOf,o=n(38),s=[].indexOf,a=!!s&&1/[1].indexOf(1,-0)<0,c=o("indexOf");r({target:"Array",proto:!0,forced:a||c},{indexOf:function(t){return a?s.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){t.exports=n(138)},function(t,e,n){var r=n(139),i=Array.prototype;t.exports=function(t){var e=t.every;return t===i||t instanceof Array&&e===i.every?r:e}},function(t,e,n){n(140);var r=n(10);t.exports=r("Array").every},function(t,e,n){"use strict";var r=n(1),i=n(32).every;r({target:"Array",proto:!0,forced:n(38)("every")},{every:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){t.exports=n(142)},function(t,e,n){n(81),n(39),n(35),n(153),n(157),n(158);var r=n(8);t.exports=r.Promise},function(t,e,n){var r=n(44),i=n(42),o=function(t){return function(e,n){var o,s,a=String(i(e)),c=r(n),l=a.length;return c<0||c>=l?t?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===l||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e,n){var r=n(3),i=n(145),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i.call(o))},function(t,e,n){var r=n(37);t.exports=r("native-function-to-string",Function.toString)},function(t,e,n){var r=n(7);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(17),i=n(19),o=n(11),s=n(59);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=s(e),a=r.length,c=0;a>c;)i.f(t,n=r[c++],e[n]);return t}},function(t,e,n){"use strict";var r=n(33),i={};i[n(2)("toStringTag")]="z",t.exports="[object z]"!==String(i)?function(){return"[object "+r(this)+"]"}:i.toString},function(t,e,n){var r=n(11),i=n(150);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},function(t,e,n){var r=n(9);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e){t.exports=function(){}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){"use strict";var r,i,o,s,a=n(1),c=n(23),l=n(3),u=n(20),h=n(87),d=n(34),p=n(88),f=n(37),g=n(24),m=n(154),v=n(9),y=n(30),b=n(89),w=n(28),_=n(90),x=n(93),O=n(94),S=n(95).set,j=n(155),E=n(97),T=n(156),P=n(63),C=n(98),A=n(40),k=n(74),D=n(2),I=n(58),M=D("species"),R="Promise",L=A.get,N=A.set,F=A.getterFor(R),B=h,U=l.TypeError,z=l.document,X=l.process,Y=f("inspectSource"),G=u("fetch"),V=P.f,H=V,W="process"==w(X),q=!!(z&&z.createEvent&&l.dispatchEvent),K=k(R,(function(){var t=Y(B)!==String(B);if(66===I)return!0;if(!t&&!W&&"function"!=typeof PromiseRejectionEvent)return!0;if(c&&!B.prototype.finally)return!0;if(I>=51&&/native code/.test(B))return!1;var e=B.resolve(1),n=function(t){t((function(){}),(function(){}))};return(e.constructor={})[M]=n,!(e.then((function(){}))instanceof n)})),$=K||!x((function(t){B.all(t).catch((function(){}))})),J=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},Z=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;j((function(){for(var i=e.value,o=1==e.state,s=0;r.length>s;){var a,c,l,u=r[s++],h=o?u.ok:u.fail,d=u.resolve,p=u.reject,f=u.domain;try{h?(o||(2===e.rejection&&nt(t,e),e.rejection=1),!0===h?a=i:(f&&f.enter(),a=h(i),f&&(f.exit(),l=!0)),a===u.promise?p(U("Promise-chain cycle")):(c=J(a))?c.call(a,d,p):d(a)):p(i)}catch(t){f&&!l&&f.exit(),p(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&tt(t,e)}))}},Q=function(t,e,n){var r,i;q?((r=z.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),l.dispatchEvent(r)):r={promise:e,reason:n},(i=l["on"+t])?i(r):"unhandledrejection"===t&&T("Unhandled promise rejection",n)},tt=function(t,e){S.call(l,(function(){var n,r=e.value;if(et(e)&&(n=C((function(){W?X.emit("unhandledRejection",r,t):Q("unhandledrejection",t,r)})),e.rejection=W||et(e)?2:1,n.error))throw n.value}))},et=function(t){return 1!==t.rejection&&!t.parent},nt=function(t,e){S.call(l,(function(){W?X.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},rt=function(t,e,n,r){return function(i){t(e,n,i,r)}},it=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,Z(t,e,!0))},ot=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw U("Promise can't be resolved itself");var i=J(n);i?j((function(){var r={done:!1};try{i.call(n,rt(ot,t,r,e),rt(it,t,r,e))}catch(n){it(t,r,n,e)}})):(e.value=n,e.state=1,Z(t,e,!1))}catch(n){it(t,{done:!1},n,e)}}};K&&(B=function(t){b(this,B,R),y(t),r.call(this);var e=L(this);try{t(rt(ot,this,e),rt(it,this,e))}catch(t){it(this,e,t)}},(r=function(t){N(this,{type:R,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(B.prototype,{then:function(t,e){var n=F(this),r=V(O(this,B));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=W?X.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Z(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=L(t);this.promise=t,this.resolve=rt(ot,t,e),this.reject=rt(it,t,e)},P.f=V=function(t){return t===B||t===o?new i(t):H(t)},c||"function"!=typeof h||(s=h.prototype.then,d(h.prototype,"then",(function(t,e){var n=this;return new B((function(t,e){s.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof G&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return E(B,G.apply(l,arguments))}}))),a({global:!0,wrap:!0,forced:K},{Promise:B}),g(B,R,!1,!0),m(R),o=u(R),a({target:R,stat:!0,forced:K},{reject:function(t){var e=V(this);return e.reject.call(void 0,t),e.promise}}),a({target:R,stat:!0,forced:c||K},{resolve:function(t){return E(c&&this===o?B:this,t)}}),a({target:R,stat:!0,forced:$},{all:function(t){var e=this,n=V(e),r=n.resolve,i=n.reject,o=C((function(){var n=y(e.resolve),o=[],s=0,a=1;_(t,(function(t){var c=s++,l=!1;o.push(void 0),a++,n.call(e,t).then((function(t){l||(l=!0,o[c]=t,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=V(e),r=n.reject,i=C((function(){var i=y(e.resolve);_(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(t,e,n){"use strict";var r=n(20),i=n(19),o=n(2),s=n(17),a=o("species");t.exports=function(t){var e=r(t),n=i.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r,i,o,s,a,c,l,u,h=n(3),d=n(53).f,p=n(28),f=n(95).set,g=n(96),m=h.MutationObserver||h.WebKitMutationObserver,v=h.process,y=h.Promise,b="process"==p(v),w=d(h,"queueMicrotask"),_=w&&w.value;_||(r=function(){var t,e;for(b&&(t=v.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?s():o=void 0,t}}o=void 0,t&&t.enter()},b?s=function(){v.nextTick(r)}:m&&!g?(a=!0,c=document.createTextNode(""),new m(r).observe(c,{characterData:!0}),s=function(){c.data=a=!a}):y&&y.resolve?(l=y.resolve(void 0),u=l.then,s=function(){u.call(l,r)}):s=function(){f.call(h,r)}),t.exports=_||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,s()),o=e}},function(t,e,n){var r=n(3);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e,n){"use strict";var r=n(1),i=n(30),o=n(63),s=n(98),a=n(90);r({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=o.f(e),r=n.resolve,c=n.reject,l=s((function(){var n=i(e.resolve),o=[],s=0,c=1;a(t,(function(t){var i=s++,a=!1;o.push(void 0),c++,n.call(e,t).then((function(t){a||(a=!0,o[i]={status:"fulfilled",value:t},--c||r(o))}),(function(t){a||(a=!0,o[i]={status:"rejected",reason:t},--c||r(o))}))})),--c||r(o)}));return l.error&&c(l.value),n.promise}})},function(t,e,n){"use strict";var r=n(1),i=n(23),o=n(87),s=n(20),a=n(94),c=n(97),l=n(34);r({target:"Promise",proto:!0,real:!0},{finally:function(t){var e=a(this,s("Promise")),n="function"==typeof t;return this.then(n?function(n){return c(e,t()).then((function(){return n}))}:t,n?function(n){return c(e,t()).then((function(){throw n}))}:t)}}),i||"function"!=typeof o||o.prototype.finally||l(o.prototype,"finally",s("Promise").prototype.finally)},function(t,e,n){n(35);var r=n(160),i=n(33),o=Array.prototype,s={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.forEach;return t===o||t instanceof Array&&e===o.forEach||s.hasOwnProperty(i(t))?r:e}},function(t,e,n){t.exports=n(161)},function(t,e,n){n(162);var r=n(10);t.exports=r("Array").forEach},function(t,e,n){"use strict";var r=n(1),i=n(163);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(t,e,n){"use strict";var r=n(32).forEach,i=n(38);t.exports=i("forEach")?function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(t,e,n){var r=n(99);t.exports=function(t){if(r(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e,n){t.exports=n(166)},function(t,e,n){n(167);var r=n(8);t.exports=r.Array.isArray},function(t,e,n){n(1)({target:"Array",stat:!0},{isArray:n(36)})},function(t,e,n){var r=n(169),i=n(100);t.exports=function(t){if(i(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return r(t)}},function(t,e,n){t.exports=n(170)},function(t,e,n){t.exports=n(171)},function(t,e,n){n(39),n(172);var r=n(8);t.exports=r.Array.from},function(t,e,n){var r=n(1),i=n(173);r({target:"Array",stat:!0,forced:!n(93)((function(t){Array.from(t)}))},{from:i})},function(t,e,n){"use strict";var r=n(29),i=n(31),o=n(92),s=n(91),a=n(22),c=n(56),l=n(48);t.exports=function(t){var e,n,u,h,d,p=i(t),f="function"==typeof this?this:Array,g=arguments.length,m=g>1?arguments[1]:void 0,v=void 0!==m,y=0,b=l(p);if(v&&(m=r(m,g>2?arguments[2]:void 0,2)),null==b||f==Array&&s(b))for(n=new f(e=a(p.length));e>y;y++)c(n,y,v?m(p[y],y):p[y]);else for(d=(h=b.call(p)).next,n=new f;!(u=d.call(h)).done;y++)c(n,y,v?o(h,m,[u.value,y],!0):u.value);return n.length=y,n}},function(t,e,n){n(35),n(39),t.exports=n(175)},function(t,e,n){var r=n(33),i=n(2),o=n(25),s=i("iterator");t.exports=function(t){var e=Object(t);return void 0!==e[s]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){t.exports=n(178)},function(t,e,n){var r=n(179),i=Array.prototype;t.exports=function(t){var e=t.filter;return t===i||t instanceof Array&&e===i.filter?r:e}},function(t,e,n){n(180);var r=n(10);t.exports=r("Array").filter},function(t,e,n){"use strict";var r=n(1),i=n(32).filter;r({target:"Array",proto:!0,forced:!n(45)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){n(35);var r=n(182),i=n(33),o=Array.prototype,s={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.entries;return t===o||t instanceof Array&&e===o.entries||s.hasOwnProperty(i(t))?r:e}},function(t,e,n){t.exports=n(183)},function(t,e,n){n(62);var r=n(10);t.exports=r("Array").entries},function(t,e,n){t.exports=n(185)},function(t,e,n){n(186);var r=n(8);r.JSON||(r.JSON={stringify:JSON.stringify}),t.exports=function(t,e,n){return r.JSON.stringify.apply(null,arguments)}},function(t,e,n){var r=n(1),i=n(20),o=n(7),s=i("JSON","stringify"),a=/[\uD800-\uDFFF]/g,c=/^[\uD800-\uDBFF]$/,l=/^[\uDC00-\uDFFF]$/,u=function(t,e,n){var r=n.charAt(e-1),i=n.charAt(e+1);return c.test(t)&&!l.test(i)||l.test(t)&&!c.test(r)?"\\u"+t.charCodeAt(0).toString(16):t},h=o((function(){return'"\\udf06\\ud834"'!==s("\udf06\ud834")||'"\\udead"'!==s("\udead")}));s&&r({target:"JSON",stat:!0,forced:h},{stringify:function(t,e,n){var r=s.apply(null,arguments);return"string"==typeof r?r.replace(a,u):r}})},function(t,e,n){t.exports=n(188)},function(t,e,n){var r=n(189),i=Array.prototype;t.exports=function(t){var e=t.slice;return t===i||t instanceof Array&&e===i.slice?r:e}},function(t,e,n){n(190);var r=n(10);t.exports=r("Array").slice},function(t,e,n){"use strict";var r=n(1),i=n(9),o=n(36),s=n(80),a=n(22),c=n(18),l=n(56),u=n(45),h=n(2)("species"),d=[].slice,p=Math.max;r({target:"Array",proto:!0,forced:!u("slice")},{slice:function(t,e){var n,r,u,f=c(this),g=a(f.length),m=s(t,g),v=s(void 0===e?g:e,g);if(o(f)&&("function"!=typeof(n=f.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[h])&&(n=void 0):n=void 0,n===Array||void 0===n))return d.call(f,m,v);for(r=new(void 0===n?Array:n)(p(v-m,0)),u=0;m<v;m++,u++)m in f&&l(r,u,f[m]);return r.length=u,r}})},function(t,e,n){t.exports=n(192)},function(t,e,n){var r=n(193),i=String.prototype;t.exports=function(t){var e=t.trim;return"string"==typeof t||t===i||t instanceof String&&e===i.trim?r:e}},function(t,e,n){n(194);var r=n(10);t.exports=r("String").trim},function(t,e,n){"use strict";var r=n(1),i=n(101).trim;r({target:"String",proto:!0,forced:n(195)("trim")},{trim:function(){return i(this)}})},function(t,e,n){var r=n(7),i=n(64);t.exports=function(t){return r((function(){return!!i[t]()||""!=""[t]()||i[t].name!==t}))}},function(t,e,n){t.exports=n(197)},function(t,e,n){n(198);var r=n(8);t.exports=r.parseInt},function(t,e,n){var r=n(1),i=n(199);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(t,e,n){var r=n(3),i=n(101).trim,o=n(64),s=r.parseInt,a=/^[+-]?0[Xx]/,c=8!==s(o+"08")||22!==s(o+"0x16");t.exports=c?function(t,e){var n=i(String(t));return s(n,e>>>0||(a.test(n)?16:10))}:s},function(t,e,n){t.exports=n(201)},function(t,e,n){t.exports=n(202)},function(t,e,n){n(102),n(39),n(35);var r=n(65);t.exports=r.f("iterator")},function(t,e,n){t.exports=n(204)},function(t,e,n){t.exports=n(205),n(224),n(225),n(226),n(227),n(228)},function(t,e,n){n(75),n(81),n(206),n(209),n(210),n(211),n(212),n(102),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223);var r=n(8);t.exports=r.Symbol},function(t,e,n){"use strict";var r=n(1),i=n(3),o=n(20),s=n(23),a=n(17),c=n(77),l=n(7),u=n(13),h=n(36),d=n(9),p=n(11),f=n(31),g=n(18),m=n(43),v=n(27),y=n(61),b=n(59),w=n(103),_=n(207),x=n(208),O=n(53),S=n(19),j=n(71),E=n(15),T=n(34),P=n(37),C=n(47),A=n(46),k=n(57),D=n(2),I=n(65),M=n(4),R=n(24),L=n(40),N=n(32).forEach,F=C("hidden"),B=D("toPrimitive"),U=L.set,z=L.getterFor("Symbol"),X=Object.prototype,Y=i.Symbol,G=o("JSON","stringify"),V=O.f,H=S.f,W=_.f,q=j.f,K=P("symbols"),$=P("op-symbols"),J=P("string-to-symbol-registry"),Z=P("symbol-to-string-registry"),Q=P("wks"),tt=i.QObject,et=!tt||!tt.prototype||!tt.prototype.findChild,nt=a&&l((function(){return 7!=y(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=V(X,e);r&&delete X[e],H(t,e,n),r&&t!==X&&H(X,e,r)}:H,rt=function(t,e){var n=K[t]=y(Y.prototype);return U(n,{type:"Symbol",tag:t,description:e}),a||(n.description=e),n},it=c&&"symbol"==typeof Y.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Y},ot=function(t,e,n){t===X&&ot($,e,n),p(t);var r=m(e,!0);return p(n),u(K,r)?(n.enumerable?(u(t,F)&&t[F][r]&&(t[F][r]=!1),n=y(n,{enumerable:v(0,!1)})):(u(t,F)||H(t,F,v(1,{})),t[F][r]=!0),nt(t,r,n)):H(t,r,n)},st=function(t,e){p(t);var n=g(e),r=b(n).concat(ut(n));return N(r,(function(e){a&&!at.call(n,e)||ot(t,e,n[e])})),t},at=function(t){var e=m(t,!0),n=q.call(this,e);return!(this===X&&u(K,e)&&!u($,e))&&(!(n||!u(this,e)||!u(K,e)||u(this,F)&&this[F][e])||n)},ct=function(t,e){var n=g(t),r=m(e,!0);if(n!==X||!u(K,r)||u($,r)){var i=V(n,r);return!i||!u(K,r)||u(n,F)&&n[F][r]||(i.enumerable=!0),i}},lt=function(t){var e=W(g(t)),n=[];return N(e,(function(t){u(K,t)||u(A,t)||n.push(t)})),n},ut=function(t){var e=t===X,n=W(e?$:g(t)),r=[];return N(n,(function(t){!u(K,t)||e&&!u(X,t)||r.push(K[t])})),r};c||(T((Y=function(){if(this instanceof Y)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=k(t),n=function(t){this===X&&n.call($,t),u(this,F)&&u(this[F],e)&&(this[F][e]=!1),nt(this,e,v(1,t))};return a&&et&&nt(X,e,{configurable:!0,set:n}),rt(e,t)}).prototype,"toString",(function(){return z(this).tag})),j.f=at,S.f=ot,O.f=ct,w.f=_.f=lt,x.f=ut,a&&(H(Y.prototype,"description",{configurable:!0,get:function(){return z(this).description}}),s||T(X,"propertyIsEnumerable",at,{unsafe:!0})),I.f=function(t){return rt(D(t),t)}),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Y}),N(b(Q),(function(t){M(t)})),r({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=String(t);if(u(J,e))return J[e];var n=Y(e);return J[e]=n,Z[n]=e,n},keyFor:function(t){if(!it(t))throw TypeError(t+" is not a symbol");if(u(Z,t))return Z[t]},useSetter:function(){et=!0},useSimple:function(){et=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!a},{create:function(t,e){return void 0===e?y(t):st(y(t),e)},defineProperty:ot,defineProperties:st,getOwnPropertyDescriptor:ct}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:lt,getOwnPropertySymbols:ut}),r({target:"Object",stat:!0,forced:l((function(){x.f(1)}))},{getOwnPropertySymbols:function(t){return x.f(f(t))}}),G&&r({target:"JSON",stat:!0,forced:!c||l((function(){var t=Y();return"[null]"!=G([t])||"{}"!=G({a:t})||"{}"!=G(Object(t))}))},{stringify:function(t,e,n){for(var r,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=e,(d(e)||void 0!==t)&&!it(t))return h(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!it(e))return e}),i[1]=e,G.apply(null,i)}}),Y.prototype[B]||E(Y.prototype,B,Y.prototype.valueOf),R(Y,"Symbol"),A[F]=!0},function(t,e,n){var r=n(18),i=n(103).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(r(t))}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){n(4)("asyncIterator")},function(t,e){},function(t,e,n){n(4)("hasInstance")},function(t,e,n){n(4)("isConcatSpreadable")},function(t,e,n){n(4)("match")},function(t,e,n){n(4)("matchAll")},function(t,e,n){n(4)("replace")},function(t,e,n){n(4)("search")},function(t,e,n){n(4)("species")},function(t,e,n){n(4)("split")},function(t,e,n){n(4)("toPrimitive")},function(t,e,n){n(4)("toStringTag")},function(t,e,n){n(4)("unscopables")},function(t,e,n){n(24)(Math,"Math",!0)},function(t,e,n){var r=n(3);n(24)(r.JSON,"JSON",!0)},function(t,e,n){n(4)("asyncDispose")},function(t,e,n){n(4)("dispose")},function(t,e,n){n(4)("observable")},function(t,e,n){n(4)("patternMatch")},function(t,e,n){n(4)("replaceAll")},function(t,e,n){var r=n(99);t.exports=function(t){if(r(t))return t}},function(t,e,n){var r=n(66),i=n(100);t.exports=function(t,e){if(i(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],o=!0,s=!1,a=void 0;try{for(var c,l=r(t);!(o=(c=l.next()).done)&&(n.push(c.value),!e||n.length!==e);o=!0);}catch(t){s=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(s)throw a}}return n}}},function(t,e,n){n(35),n(39),t.exports=n(104)},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){t.exports=n(234)},function(t,e,n){var r=n(235),i=Array.prototype;t.exports=function(t){var e=t.lastIndexOf;return t===i||t instanceof Array&&e===i.lastIndexOf?r:e}},function(t,e,n){n(236);var r=n(10);t.exports=r("Array").lastIndexOf},function(t,e,n){var r=n(1),i=n(237);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},function(t,e,n){"use strict";var r=n(18),i=n(44),o=n(22),s=n(38),a=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,u=s("lastIndexOf");t.exports=l||u?function(t){if(l)return c.apply(this,arguments)||0;var e=r(this),n=o(e.length),s=n-1;for(arguments.length>1&&(s=a(s,i(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in e&&e[s]===t)return s||0;return-1}:c},function(t,e,n){t.exports=n(239)},function(t,e,n){var r=n(240),i=Array.prototype;t.exports=function(t){var e=t.map;return t===i||t instanceof Array&&e===i.map?r:e}},function(t,e,n){n(241);var r=n(10);t.exports=r("Array").map},function(t,e,n){"use strict";var r=n(1),i=n(32).map;r({target:"Array",proto:!0,forced:!n(45)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){t.exports=n(243)},function(t,e,n){n(244);var r=n(8);t.exports=r.URLSearchParams},function(t,e,n){"use strict";n(62);var r=n(1),i=n(20),o=n(245),s=n(34),a=n(88),c=n(24),l=n(83),u=n(40),h=n(89),d=n(13),p=n(29),f=n(33),g=n(11),m=n(9),v=n(61),y=n(27),b=n(104),w=n(48),_=n(2),x=i("fetch"),O=i("Headers"),S=_("iterator"),j=u.set,E=u.getterFor("URLSearchParams"),T=u.getterFor("URLSearchParamsIterator"),P=/\+/g,C=Array(4),A=function(t){return C[t-1]||(C[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},k=function(t){try{return decodeURIComponent(t)}catch(e){return t}},D=function(t){var e=t.replace(P," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(A(n--),k);return e}},I=/[!'()~]|%20/g,M={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},R=function(t){return M[t]},L=function(t){return encodeURIComponent(t).replace(I,R)},N=function(t,e){if(e)for(var n,r,i=e.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),t.push({key:D(r.shift()),value:D(r.join("="))}))},F=function(t){this.entries.length=0,N(this.entries,t)},B=function(t,e){if(t<e)throw TypeError("Not enough arguments")},U=l((function(t,e){j(this,{type:"URLSearchParamsIterator",iterator:b(E(t).entries),kind:e})}),"Iterator",(function(){var t=T(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),z=function(){h(this,z,"URLSearchParams");var t,e,n,r,i,o,s,a,c,l=arguments.length>0?arguments[0]:void 0,u=this,p=[];if(j(u,{type:"URLSearchParams",entries:p,updateURL:function(){},updateSearchParams:F}),void 0!==l)if(m(l))if("function"==typeof(t=w(l)))for(n=(e=t.call(l)).next;!(r=n.call(e)).done;){if((s=(o=(i=b(g(r.value))).next).call(i)).done||(a=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");p.push({key:s.value+"",value:a.value+""})}else for(c in l)d(l,c)&&p.push({key:c,value:l[c]+""});else N(p,"string"==typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},X=z.prototype;a(X,{append:function(t,e){B(arguments.length,2);var n=E(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){B(arguments.length,1);for(var e=E(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){B(arguments.length,1);for(var e=E(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){B(arguments.length,1);for(var e=E(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){B(arguments.length,1);for(var e=E(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){B(arguments.length,1);for(var n,r=E(this),i=r.entries,o=!1,s=t+"",a=e+"",c=0;c<i.length;c++)(n=i[c]).key===s&&(o?i.splice(c--,1):(o=!0,n.value=a));o||i.push({key:s,value:a}),r.updateURL()},sort:function(){var t,e,n,r=E(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(t=o[n],e=0;e<n;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===n&&i.push(t)}r.updateURL()},forEach:function(t){for(var e,n=E(this).entries,r=p(t,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new U(this,"keys")},values:function(){return new U(this,"values")},entries:function(){return new U(this,"entries")}},{enumerable:!0}),s(X,S,X.entries),s(X,"toString",(function(){for(var t,e=E(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(L(t.key)+"="+L(t.value));return n.join("&")}),{enumerable:!0}),c(z,"URLSearchParams"),r({global:!0,forced:!o},{URLSearchParams:z}),o||"function"!=typeof x||"function"!=typeof O||r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,i=[t];return arguments.length>1&&(e=arguments[1],m(e)&&(n=e.body,"URLSearchParams"===f(n)&&((r=e.headers?new O(e.headers):new O).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=v(e,{body:y(0,String(n)),headers:y(0,r)}))),i.push(e)),x.apply(this,i)}}),t.exports={URLSearchParams:z,getState:E}},function(t,e,n){var r=n(7),i=n(2),o=n(23),s=i("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){t.exports=n(248)},function(t,e,n){t.exports=n(249)},function(t,e,n){n(250);var r=n(8).Object,i=t.exports=function(t,e,n){return r.defineProperty(t,e,n)};r.defineProperty.sham&&(i.sham=!0)},function(t,e,n){var r=n(1),i=n(17);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n(19).f})},function(t,e,n){t.exports=n(252)},function(t,e,n){n(253);var r=n(8);t.exports=r.Date.now},function(t,e,n){n(1)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(t,e,n){t.exports=n(255)},function(t,e,n){var r=n(256),i=Array.prototype;t.exports=function(t){var e=t.some;return t===i||t instanceof Array&&e===i.some?r:e}},function(t,e,n){n(257);var r=n(10);t.exports=r("Array").some},function(t,e,n){"use strict";var r=n(1),i=n(32).some;r({target:"Array",proto:!0,forced:n(38)("some")},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e){t.exports=function(t){var e="RealXMLHttpRequest";t.hookAjax=function(t){function n(e){return function(){var n=this.hasOwnProperty(e+"_")?this[e+"_"]:this.xhr[e],r=(t[e]||{}).getter;return r&&r(n,this)||n}}function r(e){return function(n){var r=this.xhr,i=this,o=t[e];if("function"==typeof o)r[e]=function(){t[e](i)||n.apply(r,arguments)};else{var s=(o||{}).setter;n=s&&s(n,i)||n;try{r[e]=n}catch(t){this[e+"_"]=n}}}}function i(e){return function(){var n=[].slice.call(arguments);if(!t[e]||!t[e].call(this,n,this.xhr))return this.xhr[e].apply(this.xhr,n)}}return window[e]=window[e]||XMLHttpRequest,XMLHttpRequest=function(){var t=new window[e];for(var o in t){var s="";try{s=typeof t[o]}catch(t){}"function"===s?this[o]=i(o):Object.defineProperty(this,o,{get:n(o),set:r(o),enumerable:!0})}this.xhr=t},window[e]},t.unHookAjax=function(){window[e]&&(XMLHttpRequest=window[e]),window[e]=void 0},t.default=t}},function(t,e,n){"use strict";n.r(e);var r=n(105),i=n.n(r),o=n(14),s=n.n(o),a=n(16),c=n.n(a),l=n(106),u=n.n(l),h=n(12),d=n.n(h),p=n(49),f=n.n(p),g=n(107),m=n.n(g),v=n(5),y=n.n(v),b=n(108),w=n.n(b),_=n(51),x=n.n(_),O=n(41),S=n.n(O),j=n(6),E=n.n(j),T=n(21),P=n.n(T),C=n(109),A=n.n(C),k=n(52),D=n.n(k),I=n(67),M=n.n(I),R=n(0),L=n.n(R),N=n(26),F=n.n(N);function B(t,e){if(null!=t)if("object"!==F()(t)&&(t=[t]),L.a.isArray(t))for(var n=0,r=t.length;n<r;n++)e(t[n],n,t);else for(var i in t)L.a.hasOwn.call(t,i)&&e(t[i],i,t)}function U(){var t={};function e(e,n){"object"===F()(t[n])&&"object"===F()(e)?t[n]=U(t[n],e):t[n]=e}for(var n=0,r=arguments.length;n<r;n++)B(arguments[n],e);return t}var z=n(110),X=n.n(z),Y=n(66),G=n.n(Y),V=n(68),H=n.n(V),W=n(111),q=n.n(W),K=n(69),$=n.n(K),J=n(70),Z=n.n(J),Q={nameSpace:"ns",appId:"aid",userId:"uid",deviceId:"did",sessionId:"sid",trackerType:"tt",contextType:"ct",appVersion:"appv",sdkVersion:"sdkv",tackerVersion:"tv",pSource:"psrc",cSource:"csrc",role:"role",time:"time",counter:"counter",channelId:"cid",lessonUid:"luid",roomId:"rid",mediaUid:"muid",channelName:"chn",pageTime:"p_time",pageParam:"p_param",trackId:"tid",lessonType:"ltype",networkType:"nt",os:"os",osVersion:"osv",osLanguage:"osl",screenWidth:"sw",screenHeight:"sh",deviceManufacturer:"dmf",deviceType:"dt",deviceModel:"dm",browserName:"br_n",browserVersion:"br_v",browserMajor:"br_m",engineName:"eng_n",engineVersion:"eng_v",pageId:"pid",pageName:"pn",referPageId:"rpid",referPageName:"rpn",pageStart:"ps",referPageTime:"rpt",duration:"dur",openId:"oid",relateId:"rid",performance:"pm",eventId:"eid",eventType:"et",eventValue:"ev",eventParam:"ep",level:"lv",message:"msg",code:"code",logType:"logt",whiteScreen:"pfws",domResolve:"pfdom",domReady:"pfdomrd",onload:"pfol",loadTime:"pflt",totalSize:"pfts",totalCount:"pftc",pageviewType:"pftype",entries:"pfent",resourceName:"resn",resourceSize:"ress",compressedSize:"comps",transferSize:"trans",resourceType:"resty",download:"downl",connect:"connect",response:"resp",pfExecTime:"pfexec",pfStartTime:"pfstime",pfEndTime:"pfetime",wxVersion:"wx_v",wxSDKVersion:"wx_sdk_v",pixelRatio:"p_ratio",unionId:"un_id",stack:"stack",startTime:"stime",execTime:"exect",exception:"ex",invokeId:"ivkid",protocol:"ptl",query:"query",requestModel:"reqm",responseModel:"resm"},tt={urls:{fat:"https://i-test.zmlearn.com/tracker/recordBatch",uat:"https://i.uat.zmops.cc/tracker/recordBatch",pro:"https://i.zmlearn.com/tracker/recordBatch",prod:"https://i.zmlearn.com/tracker/recordBatch"},envs:["fat","uat","pro","prod"],levels:["debug","error","debugger"],biUrl:"https://user-behavior-log.zmlearn.com/log/",appKeys:["userId","appId","appVersion"],osKeys:["os","osVersion","osLanguage","screenWidth","screenHeight","deviceManufacturer","deviceType","deviceModel","browserName","browserVersion","browserMajor","engineName","engineVersion"],commonKeys:["nameSpace","appId","userId","appVersion","parentVersion","sdkVersion","tackerVersion","pSource","cSource","role","channelId","lessonUid","roomId","mediaUid","channelName","pageName","sessionId","openId","relateId","lessonType"],envMap:{fat:"_test",uat:"_uat",prod:""},errorCode:"40000",cacheKey:"".concat("ZM_SDK","_PREV_CACHE"),expiredKey:"".concat("ZM_SDK","_OS_EXPIRED"),deviceKey:"".concat("ZM_SDK","_DEVICEID"),userIdKey:"".concat("ZM_SDK","_USERID"),prefix:"ZM_SDK",INITIALIZATION_ZMSDK_FINISHED:"initialization ZMSDK finished",THE_APPID_DOES_NOT_EXIST:"The appId does not exist",CATCH_JS_ERROR:"Catch JS Error",CALL_SENDOSINFO:"Call sendOSInfo",CALL_SENDPAGE:"Call sendPage",CALL_SENDCUSTOMPAGE:"Call sendCustomPage",THE_DATA_SHOULD_BE_AN_OBJECT:"The data should be an object",THE_PAGEID_DOES_NOT_EXIST:"The pageId does not exist",CALL_SENDLOG:"Call sendLog",THE_CONFIG_SHOULD_BE_AN_OBJECT:"The config should be an object",THE_LOG_CODE_IS_ALREADY_EXIST:"The Log code %s is already exist",CALL_SENDRPC:"Call sendRPC",CALL_SENDEVENT:"Call sendEvent",CALL_SENDPREVDATA:"Call sendPrevData",THERE_IS_NO_PREVPAGE_DATA_TO_REPORT:"There is no prevPage data to report",CALL_SENDEVENTBI:"Call sendEventBi",THE_DATA_SHOULD_INCLUDES_TRACKERTYPE:'The data should includes "trackerType"',TOPIC_DOES_NOT_EXIST:"topic does not exist",THE_REPORT_DATA_HAS_WRONG_VALUE_PLEASE_CHECK_IT:"The report data has wrong value, please check it",DEVICEID_DOES_NOT_EXIST:"DeviceId does not exist",NOTHING_TO_REPORT:"Nothing to report",THE_COUNT_NOT_ENOUGH_FOR_DELAYREPORT:"The count not enough for delayReport",TRANSFORM_DATA_FAILED_IN_IMAGE_ACTION:"Transform data failed in Image action",SEND_DATA_FAILED_WITH_USING_IMAGE:"Send data failed with using image",TRANSFORM_DATA_FAILED_IN_BEACON_ACTION:"Transform data failed in Beacon action",REMOVE_PREVPAGE_STORE_DATA:"Remove prevPage store data",THE_REPORT_BI_DATA_HAS_WRONG_VALUE_PLEASE_CHECK_IT:"The report BI data has wrong value, please check it",CALL_SETCONFIG:"Call setConfig",THE_APP_DATA_AFTER_SETTING:"The App data after Setting: \n",THE_OS_DATA_AFTER_SETTING:"The OS data after Setting: \n",CALL_SETDEFAULTS:"Call setDefaults",PERFORMANCE_API_IS_NOT_SUPPORTED:"Performance API is not supported"},et="undefined"!=typeof localStorage?localStorage:{setItem:function(){},removeItem:function(){},clear:function(){}},nt="undefined"!=typeof navigator?navigator:{},rt="undefined"!=typeof performance?performance:{now:function(){}},it="undefined"!=typeof location?location:{host:"/"},ot=void 0!==$.a?$.a:null,st="undefined"!=typeof decodeURIComponent?decodeURIComponent:function(){};function at(){return it.href}function ct(){return et.getItem(tt.deviceKey)}function lt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("array"!==L.a.dataType(t))return t;var n=[];return y()(t).call(t,(function(t){var r=function t(e){var n,r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=L.a.dataType(e);if(-1===d()(n=["object","array"]).call(n,o))return e;var s="array"===o?[]:{};return y()(r=c()(e)).call(r,(function(n){var r=e[n],o=Q[n]||n;L.a.isEmptyValue(r)||(s[o]=L.a.isObject(r)&&i?t(r,i):r)})),s}(t||{},e);n.push(r)})),n}function ut(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return t;var n=H()(t).call(t,"?");if(-1!==n&&(t=P()(t).call(t,0,n)),e){var r=H()(t).call(t,"#");-1!==r&&(t=P()(t).call(t,0,r))}return t}function ht(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return t?(L.a.isArray(t)||"object"===L.a.dataType(t)?t=E()(t):"string"!==L.a.dataType(t)&&(t=""),t=P()(t).call(t,0,1024*e)):""}var dt={environment:"fat",delayDuration:200,delayReport:!1,delayCount:5,maxCount:100,baseURL:"",biURL:"",useBeacon:!1,history:!1,hashChange:!1,logLevel:"debug",interceptor:!1,trackWhiteList:[],urlParams:!1,version:"1.3.6",lowLimit:200,upLimit:144e5,autoReport:!0,ajaxOptions:{timeout:1e4,responseType:"json"}};function pt(){return L.a.dateFormatter(new Date,"YYYY-MM-dd HH:mm:ss S")}var ft=function(t,e){var n,r;"error"!==dt.logLevel&&console.log(s()(n=s()(r="".concat(pt()," [")).call(r,tt.prefix," INFO] ")).call(n,t),e||"")},gt=function(t,e){var n,r;"error"!==dt.logLevel&&console.warn(s()(n=s()(r="".concat(pt()," [")).call(r,tt.prefix," WARN] ")).call(n,t),e||"")},mt=function(t){var e,n;console.error(s()(e=s()(n="".concat(pt()," [")).call(n,tt.prefix," ERROR] ")).call(e,t))};function vt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return f()(e).call(e,(function(t){return L.a.isNumeric(t)}))?Math.max.apply(null,e):0}var yt=n(112),bt=n.n(yt),wt=n(50),_t=n.n(wt),xt=n(113),Ot=n.n(xt),St=function(){function t(){_t()(this,t),this.storage={},this.parse()}return Ot()(t,[{key:"parse",value:function(){var t,e,n=this;y()(t=c()(et)).call(t,(function(t){if(!L.a.isEmptyValue(t)&&(e=n.__getItem(t))){var r=+e.__expired__;!r||L.a.now()<r?n.storage[t]=e:n.__removeItem(t)}}))}},{key:"setItem",value:function(t,e,n){if(t&&!L.a.isEmptyValue(e)){if(n&&n<=0)return this.removeItem(t),null;var r=this.storage,i=r[t]=r[t]||{};return i.value=e,n&&(i.__expired__=L.a.now()+60*n*1e3),i.__ZMStore__=!0,et.setItem(t,encodeURIComponent(E()(i))),e}}},{key:"__getItem",value:function(t){if(t){var e;try{var n=decodeURIComponent(et.getItem(t));e=L.a.isJson(n)?JSON.parse(n):n}catch(t){}return L.a.isObject(e)&&e.__ZMStore__||(e={value:e,__ZMStore__:!0}),e}}},{key:"getItem",value:function(t){return this.storage.hasOwnProperty(t)?(this.storage[t]||{}).value:null}},{key:"__removeItem",value:function(t){t&&et.removeItem(t)}},{key:"removeItem",value:function(t){var e=this.storage;return e.hasOwnProperty(t)?(delete e[t],et.removeItem(t),t):null}},{key:"clear",value:function(t){var e,n=this,r=this.storage;this.storage={},t?et.clear():y()(e=c()(r)).call(e,(function(t){n.removeItem(t)}))}}]),t}(),jt=L.a.root,Et=function(t){var e=history[t];return function(){var n=e.apply(this,arguments),r=new Event("__".concat(t.toLowerCase(),"__"));return r.arguments=arguments,jt.dispatchEvent(r),n}},Tt=function t(){var e,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_t()(this,t),this.callback=r.callback||function(){},this.reWriteApi=r.reWriteApi||["pushState","replaceState"],y()(e=this.reWriteApi).call(e,(function(t){history[t]=Et(t),L.a.on(jt,"__".concat(t.toLowerCase(),"__"),n.callback)})),L.a.on(jt,"popstate",this.callback)},Pt=n(114),Ct=n.n(Pt),At=n(115),kt=n.n(At),Dt=n(116),It=new St,Mt=L.a.root;function Rt(t){this.config=t,this.Stacks=[],this.app={},this.os={},this.reporting=!1,this.reportId=1,this.customPageData={},this.appKeys=tt.appKeys,this.osKeys=tt.osKeys,this.commonKeys=tt.commonKeys,this.debounceReport=L.a.debounce(this.doReport,this.config.delayDuration),It.removeItem("ZM_JSSDK"),It.removeItem("ZM_JSSDK_OS_EXPIRED"),It.removeItem("ZM_DEVICEID"),It.removeItem("ZM_USERID"),It.removeItem("MY_PREV_CACHE"),It.removeItem("MY_OS_EXPIRED"),It.removeItem("MY_DEVICEID"),It.removeItem("MY_USERID"),this.init()}Rt.prototype.pageReport=function(){this.$prevReport||(this.$prevReport=!0,this.sendPrevData(),this.sendOSInfo(),this.sendPage())},Rt.prototype.init=function(){this.storeCommon(),this.bindEvent(),ft(tt.INITIALIZATION_ZMSDK_FINISHED)},Rt.prototype.getDetectInfo=function(){var t=function(){var t=navigator.userAgent,e=new bt.a(t).getResult()||{browser:{},device:{},engine:{},os:{}};return e.os&&(e.os.networkType=navigator.connection&&navigator.connection.effectiveType||"",e.os.language=navigator.language||navigator.systemLanguage),e}(),e=t.browser,n=t.device,r=t.engine,i=t.os;return{os:i.name||"unknow",osVersion:i.version||"",osLanguage:i.language||"",networkType:i.networkType||"unknow",browserName:e.name||"unknow",browserVersion:e.version||"",browserMajor:e.major||"",engineName:r.name||"unknow",engineVersion:r.version||"",deviceModel:n.model||"unkonw",deviceManufacturer:n.vendor||"unkonw",screenWidth:screen.width,screenHeight:screen.height}},Rt.prototype.storeCommon=function(){var t=this.app;t.userId=et.getItem(tt.userIdKey)||"",t.appId=Mt.ZM_APPID||"",t.appVersion=Mt.ZM_APPVERSION||"",t.pageId=ut(at()),t.tackerVersion=this.config.version,t.pageTime=L.a.now(),t.trackId="TRK12345678900",this.pageId=ut(at(),!0);var e=this.os;L.a.extend(e,this.getDetectInfo())},Rt.prototype.rebuildRequest=function(){this.config.interceptor&&function(t,e,n){Object(Dt.hookAjax)({open:function(t,n){var r=t&&t[1];r&&(L.a.isAbsoluteUrl(r)||(r=function(t,e){return t||(t=it.protocol+"//"+it.host),t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,"")}(e.baseURL,r))),n.__URL__=r,n.__startTime__=L.a.now()},send:function(r,i){if(i.__sendData__=r&&r[0]||"",o=e.trackWhiteList,s=i.__URL__,o.length&&s&&kt()(o).call(o,(function(t){return-1!==d()(s).call(s,t)}))){var o,s,a="";try{var c={user_id:t.userId||"",device_id:t.deviceId||"",app_id:t.appId||"",time:Ct()(),counter:n.reportId++,page_id:t.pageId||""};a=E()(c)}catch(t){return void mt('Please make sure app Data is correct when "JSON.stringify"')}a&&"setRequestHeader"in i&&i.setRequestHeader("zm-trace",a)}},onreadystatechange:function(t){t&&4===t.readyState&&n.handleRequest(t)}})}(this.app,this.config,this)},Rt.prototype.beforeUnload=function(){var t=this.app;if(t.appId){var e=L.a.now(),n=e-t.pageTime;if(!(n<this.config.lowLimit)){var r=this.pageId,i=[];if(!this.isIElt10()){var o=U(t,function(t){var e;if(!rt||rt.getEntries){var n=0,r=0,i=function(t,e,n){var r=t||{},i=r.navigationStart,o=void 0===i?0:i,s=r.redirectStart,a=void 0===s?0:s,c=r.redirectEnd,l=void 0===c?0:c,u=r.fetchStart,h=void 0===u?0:u,d=r.domainLookupStart,p=void 0===d?0:d,f=r.domainLookupEnd,g=void 0===f?0:f,m=r.connectStart,v=void 0===m?0:m,y=r.connectEnd,b=void 0===y?0:y,w=r.requestStart,_=void 0===w?0:w,x=r.responseStart,O=void 0===x?0:x,S=r.responseEnd,j=void 0===S?0:S,E=r.domLoading,T=void 0===E?0:E,P=r.domInteractive,C=void 0===P?0:P,A=r.domContentLoadedEventEnd,k=void 0===A?0:A,D=r.loadEventStart,I=void 0===D?0:D,M=r.loadEventEnd,R=void 0===M?0:M,L={},N=n.getEntriesByType("navigation")||[{}];return N&&N[0]&&(L=N[0]),{whiteScreen:vt(C-o,0),domResolve:vt(C-T,0),domReady:vt(k-T,0),onload:vt(R-I,0),loadTime:vt(R-o,0),pageviewType:L.type||L.entryType||"",pageId:e,redirect:vt(l-a,0),cache:vt(p-h,0),dns:vt(g-p,0),tcp:vt(b-v,0),ttfb:vt(O-_,0),pfExecTime:vt(j-_,0),download:vt(j-O,0),connect:vt(_-v,0),response:vt(O-_,0),resourceName:L.name||e,resourceSize:L.decodedBodySize||0,compressedSize:L.encodedBodySize||0,transferSize:L.transferSize||0,pfStartTime:vt(o,0),pfEndTime:vt(R,0),resourceType:L.initiatorType||L.entryType,protocol:L.nextHopProtocol||""}}(rt.timing,t,rt),o=i.entries=[];return y()(e=rt.getEntriesByType("resource")).call(e,(function(e){var i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=t.fetchStart,r=void 0===n?0:n,i=t.redirectStart,o=void 0===i?0:i,s=t.redirectEnd,a=void 0===s?0:s,c=t.domainLookupStart,l=void 0===c?0:c,u=t.domainLookupEnd,h=void 0===u?0:u,d=t.connectStart,p=void 0===d?0:d,f=t.connectEnd,g=void 0===f?0:f,m=t.requestStart,v=void 0===m?0:m,y=t.responseStart,b=void 0===y?0:y,w=t.responseEnd,_=void 0===w?0:w,x=t.name,O=void 0===x?"":x,S=t.decodedBodySize,j=void 0===S?0:S,E=t.encodedBodySize,T=void 0===E?0:E,P=t.transferSize,C=void 0===P?0:P,A=t.initiatorType,k=void 0===A?"":A,D=t.nextHopProtocol,I=void 0===D?"":D;return{redirect:vt(a-o,0),cache:vt(l-r,0),dns:vt(h-l,0),tcp:vt(g-p,0),ttfb:vt(b-v,0),exec_time:vt(_-v,0),download:vt(_-b,0),connect:vt(v-p,0),response:vt(b-v,0),resource_name:O,page_id:e,resource_size:j,compressed_size:T,transfer_size:C,start_time:vt(r,0),end_time:vt(_,0),resource_type:k,protocol:I}}(e,t);n+=i.resourceSize,r++,o.push(i)})),i.totalSize=n,i.totalCount=r,i}mt(tt.PERFORMANCE_API_IS_NOT_SUPPORTED)}(r),{trackerType:8,pageId:r,time:e});i.push(o)}this.sendPageDuration({time:e,duration:n}),this.Stacks.length,i.length&&It.setItem(tt.cacheKey,i)}}else mt(tt.THE_APPID_DOES_NOT_EXIST)},Rt.prototype.pageError=function(t){if(t){ft(tt.CATCH_JS_ERROR);var e,n,r,i,o,s=t.args||{},a=t.type,c=t.logType||1,l=s.event;if("onerror"===a)e=s.message,n=s.fileName,r=s.col,i=s.line,o=l&&l.stack||[n,r,i].join(":");else if("rejection"===a){var u=l&&l.reason;e=u.message||"";var h=(o=u.stack||"").match(/([^ (]+\.js):(\d+):(\d+)/);h&&h.length&&(n=h[0]||"",r=D()(h[1]||0,10),i=D()(h[2]||0,10))}e=A()(L.a).call(L.a,e.replace(/^(?:.+:)(.*)$/,"$1")),this.sendLog(tt.errorCode,{message:e,level:"error",stack:o,logType:c},!0)}},Rt.prototype.bindEvent=function(){var t=this;L.a.on(Mt,"beforeunload",(function(){t.beforeUnload()})),L.a.on(Mt,"unhandledrejection",(function(e){t.pageError({args:{event:e},type:"rejection",logType:2})}));var e=Mt.onerror;Mt.onerror=function(){var n=P()(Array.prototype).call(arguments);t.pageError({args:{message:n[0]||"",fileName:n[1]||"",col:n[2]||0,line:n[3]||0,event:n[4]},type:"onerror",logType:1}),e&&"function"==typeof e&&e.apply(null,n)}},Rt.prototype.handleRouteChange=function(){var t=this.app,e=L.a.now(),n=e-t.pageTime,r=this.customPageData;n>this.config.lowLimit&&this.sendPageDuration({pageId:t.pageId,pageTime:t.pageTime,pageName:r.pageName||"",duration:n},!0),t.pageTime=e,t.pageId=r.pageId||ut(at()),t.pageName=r.pageName||"",this.sendPage(),this.customPageData={}},Rt.prototype.sendOSInfo=function(){if(!It.getItem(tt.expiredKey)){ft(tt.CALL_SENDOSINFO);var t=U(this.app,this.os,{trackerType:4});this.beforeReport(t)&&this.debounceReport()}},Rt.prototype.sendPage=function(){ft(tt.CALL_SENDPAGE);var t={trackerType:3};L.a.isEmptyObject(this.customPageData)||(t=U(t,this.customPageData)),this.config.urlParams&&(t.pageParam=U(t.pageParam||{},function(t){var e={},n=st(it.search||"").substring(1);if(n)if(ot){var r=new ot(n),i=!0,o=!1,s=void 0;try{for(var a,c=G()(S()(r).call(r));!(i=(a=c.next()).done);i=!0){var l=X()(a.value,2),u=l[0],h=l[1];L.a.isEmptyValue(h)||(e[u]=h)}}catch(t){o=!0,s=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}}else{var d=n.split("&");y()(d).call(d,(function(t){var n=t.split("=");L.a.isEmptyValue(n[0])||L.a.isEmptyValue(n[1])||(e[n[0]]=n[1])}))}return e}())),t.pageParam&&(t.pageParam=E()(t.pageParam));var e=U(this.app,t);this.beforeReport(e)&&this.debounceReport()},Rt.prototype.sendCustomPage=function(t){ft(tt.CALL_SENDCUSTOMPAGE),L.a.isObject(t)?t.pageId?(this.customPageData=U(this.customPageData,t),this.handleRouteChange()):mt(tt.THE_PAGEID_DOES_NOT_EXIST):mt(tt.THE_DATA_SHOULD_BE_AN_OBJECT)},Rt.prototype.sendLog=function(t,e,n){if(ft(tt.CALL_SENDLOG),void 0!==e||L.a.isObject(t))if("string"!=typeof t||L.a.isObject(e)){var r={trackerType:5};if(r=U(e?U({code:t},e):t,r),n||tt.errorCode!==r.code){L.a.isObject(r.message)&&(r.message=E()(r.message)),L.a.isObject(r.stack)&&(r.stack=E()(r.stack));var i=U(this.app,r);this.beforeReport(i)&&this.debounceReport()}else mt(tt.THE_LOG_CODE_IS_ALREADY_EXIST,r.errorCode)}else mt(tt.THE_CONFIG_SHOULD_BE_AN_OBJECT);else mt(tt.THE_DATA_SHOULD_BE_AN_OBJECT)},Rt.prototype.sendRPC=function(t,e){if(ft(tt.CALL_SENDRPC),void 0!==e||L.a.isObject(t))if("string"!=typeof t||L.a.isObject(e)){var n={trackerType:6};n=U(e?U({invokeId:t},e):t,n),L.a.isObject(n.eventParam)&&(n.eventParam=E()(n.eventParam));var r=U(this.app,n);this.beforeReport(r)&&this.debounceReport()}else mt(tt.THE_CONFIG_SHOULD_BE_AN_OBJECT);else mt(tt.THE_DATA_SHOULD_BE_AN_OBJECT)},Rt.prototype.sendEvent=function(t,e){if(ft(tt.CALL_SENDEVENT),void 0!==e||L.a.isObject(t))if("string"!=typeof t||L.a.isObject(e)){var n={trackerType:2};n=U(e?U({eventId:t},e):t,n),L.a.isObject(n.eventParam)&&(n.eventParam=E()(n.eventParam));var r=U(this.app,n);this.beforeReport(r)&&this.debounceReport()}else mt(tt.THE_CONFIG_SHOULD_BE_AN_OBJECT);else mt(tt.THE_DATA_SHOULD_BE_AN_OBJECT)},Rt.prototype.sendPrevData=function(){ft(tt.CALL_SENDPREVDATA);var t=It.getItem(tt.cacheKey);(t=L.a.isArray(t)?t:[t]).length?this.beforeReport(t)&&this.debounceReport():gt(tt.THERE_IS_NO_PREVPAGE_DATA_TO_REPORT)},Rt.prototype.sendPageDuration=function(t,e){var n={trackerType:10};L.a.isEmptyObject(this.customPageData)||(n=U(n,this.customPageData)),n.pageParam&&delete n.pageParam;var r=U(this.app,n,t);this.beforeReport(r)&&(e?this.debounceReport():this.doReport())},Rt.prototype.sendEventBi=function(t){ft(tt.CALL_SENDEVENTBI);var e=this.app,n=this.os;if(L.a.isObject(t))if(void 0!==t.trackerType){var r=e.topic||t.topic||"";if(r){var i={user_id:e.userId||t.userId,device_id:e.deviceId||t.deviceId,app_id:e.appId||t.appId,app_version:e.appVersion||t.appVersion,session_id:e.sessionId||t.sessionId,tracker_type:t.trackerType||2,platform:t.platform||"",bu:t.bu||"",nameFrom:t.nameFrom||"",os_language:n.language,topic:r,source:t.source||""};2===i.tracker_type?(i.event_id=t.eventId,i.event_type=t.eventType,i.event_value=t.eventValue,i.actionTimestamp=L.a.now()):3===i.tracker_type&&(i.page_id=e.pageId||t.pageId,i.page_name=e.pageName||t.pageName,i.refer_page_id=t.referPageId||function(){var t=document.referrer;if(!t){var e=L.a.root.opener;if(e)try{t=e.location.href}catch(t){}}return t}(),i.refer_page_name=t.referPageName||"",i.time_start=e.pageTime,i.channel_id=t.channelId||"",i.duration=t.duration||0,i.content=t.content||"",i.linkurl=t.linkurl||""),L.a.isObject(t.expand)&&(i.expand=t.expand),L.a.isObject(t.eventParam)&&(i.eventPara=t.eventParam);var o=function(t){var e,n,r={};return L.a.isObject(t)&&y()(e=c()(t)).call(e,(function(e){void 0!==(n=t[e])&&null!==n&&(r[e]=n)})),r}(i);this.beforeReportBI(o)&&this.doReportBI(o)}else mt(tt.TOPIC_DOES_NOT_EXIST)}else mt(tt.THE_DATA_SHOULD_INCLUDES_TRACKERTYPE);else mt(tt.THE_DATA_SHOULD_BE_AN_OBJECT)},Rt.prototype.isValidData=function(t){var e=t.trackerType;return!!(e&&t.appId&&t.pageTime)&&(2===e?!L.a.isEmptyValue(t.eventId):3===e?t.pageId:4===e?t.os:5===e?!L.a.isEmptyValue(t.code)&&!L.a.isEmptyValue(t.message)&&!L.a.isEmptyValue(t.level):6===e?t.invokeId:8===e?S()(t)&&S()(t).length:10===e&&!L.a.isEmptyValue(t.duration)&&t.pageId)},Rt.prototype.checkBIData=function(t){var e=(t||{}).tracker_type;return!!(e&&t.app_id&&t.topic)&&(2===e?t.event_id:3===e&&t.page_id)},Rt.prototype.beforeReport=function(t){var e,n,r=this,i=this.app,o=L.a.isArray(t)?t:[t],s=x()(o).call(o,(function(t){return t&&r.isValidData(t)}));if(s.length)return(e=this.Stacks).push.apply(e,w()(s)),y()(n=this.Stacks).call(n,(function(t){!t.time&&(t.time=L.a.now()),!t.counter&&(t.counter=r.reportId++),i.deviceId&&!t.deviceId&&(t.deviceId=i.deviceId)})),i.deviceId||gt(tt.DEVICEID_DOES_NOT_EXIST),!!i.deviceId;gt(tt.THE_REPORT_DATA_HAS_WRONG_VALUE_PLEASE_CHECK_IT,o)},Rt.prototype.resetReport=function(t){var e;L.a.isNumeric(t)&&(this.Stacks=P()(e=this.Stacks).call(e,t)),this.reporting=!1},Rt.prototype.doReport=function(){var t=this,e=this.config,n=this.Stacks,r=n.length;if(!this.reporting){if(this.reporting=!0,0===r)return gt(tt.NOTHING_TO_REPORT),void this.resetReport();var i=e.delayReport,o=e.delayCount,s=e.maxCount,a=e.environment,c=e.ajaxOptions,l=e.useBeacon;if(i&&r<o)return gt(tt.THE_COUNT_NOT_ENOUGH_FOR_DELAYREPORT),void this.resetReport();var u=i?o:Math.min(r,s),h=P()(n).call(n,0,u);h=lt(h),this.report(h,{url:tt.urls[a],ajaxOptions:c,useBeacon:l}).then((function(){t.afterReport(h,u)})).catch((function(){t.resetReport(u)}))}},Rt.prototype.isIElt10=function(){var t="trident"===(this.os.engineName||"").toLowerCase(),e=D()(this.os.browserVersion||0,10)<10;return t&&e},Rt.prototype.report=function(t,e){var n=this;return ft("Reporting to ".concat(e.url,", with data \n"),t),new m.a((function(r,i){var o="";if(n.isIElt10()){try{o=encodeURIComponent(E()(t))}catch(t){return mt(tt.TRANSFORM_DATA_FAILED_IN_IMAGE_ACTION),i()}var s=new Image;s.onload=function(){s=null,r()},s.onerror=function(){s=null,mt(tt.SEND_DATA_FAILED_WITH_USING_IMAGE),i()},s.src=e.url+"?data="+o}else if(nt.sendBeacon&&e.useBeacon){try{o=E()(t)}catch(t){return mt(tt.TRANSFORM_DATA_FAILED_IN_BEACON_ACTION),i()}nt.sendBeacon(e.url,o)?r():i()}else M.a.post(e.url,t,e.ajaxOptions).then((function(){r()})).catch((function(t){console.error(t&&t.message),i()}))}))},Rt.prototype.afterReport=function(t,e){var n,r;this.resetReport(e),x()(n=t||[]).call(n,(function(t){return t.pid&&t.pfent}))[0]&&(ft(tt.REMOVE_PREVPAGE_STORE_DATA),It.removeItem(tt.cacheKey)),x()(r=t||[]).call(r,(function(t){return t.os}))[0]&&(It.getItem(tt.expiredKey)||It.setItem(tt.expiredKey,1,720))},Rt.prototype.beforeReportBI=function(t){var e=this.app;return this.checkBIData(t)?(e.deviceId&&!t.device_id&&(t.device_id=e.deviceId),e.deviceId||gt(tt.DEVICEID_DOES_NOT_EXIST),!!e.deviceId):(gt(tt.THE_REPORT_BI_DATA_HAS_WRONG_VALUE_PLEASE_CHECK_IT,t),!1)},Rt.prototype.doReportBI=function(t){this.reportBI(t,this.config)},Rt.prototype.reportBI=function(t,e){var n=e.environment,r=e.ajaxOptions,i=e.useBeacon,o=this,s=e.biURL||tt.biUrl+t.topic+tt.envMap[n];if(ft("Reporting to ".concat(s,", with data \n"),t),this.isIElt10()){var a="";try{a=encodeURIComponent(E()(t))}catch(t){}var c=new Image;c.onload=c.onerror=function(){c=null,o.afterReportBI(t)},c.src=s+"?data="+a}else if(nt.sendBeacon&&i){var l="";try{l=E()(t)}catch(t){}nt.sendBeacon(s,l),this.afterReportBI(t)}else M.a.post(s,t,r).catch((function(t){t&&mt(t)})).then((function(){o.afterReportBI(t)}))},Rt.prototype.afterReportBI=function(){},Rt.prototype.handleRequest=function(t){if(t){var e,n=t.xhr||{},r=n.__URL__||"",i=n.__sendData__||"",o=!1;if("string"==typeof i&&(o=f()(e=['"tt":6','"aid":','"did":','"p_time":']).call(e,(function(t){return-1!==d()(i).call(i,t)}))),!o){var s=+(t.status||0),a=s<200||s>=400;if(a){var c=n.__startTime__||0,l=t.responseType&&"text"!==t.responseType?t.response:t.responseText,u=Math.max(L.a.now()-c,0),h=r.split(/:\/\//,"")[0]||"http",p=r.split(/\?/)[1]||"";this.sendRPC(r,{startTime:c,execTime:u,exception:a,message:t.response&&t.response.message||"",code:s,protocol:h,query:p,requestModel:ht(i),responseModel:ht(l)})}}}},Rt.prototype.setConfig=function(t){var e,n,r,i=this;if(ft(tt.CALL_SETCONFIG),L.a.isObject(t)){var o=this.config,s=t.environment;s=-1!==d()(e=tt.envs).call(e,s)?s:"fat";var a=+t.delayCount||1;a!==o.delayCount&&(a=Math.max(Math.min(a,5),1));var c=t.logLevel;c=-1!==d()(n=tt.levels).call(n,c)?c:"debug";var l=void 0===t.hashChange?o.hashChange:!!t.hashChange,h=void 0===t.history?o.history:!!t.history,p=void 0===t.delayReport?o.delayReport:!!t.delayReport,f=t.trackWhiteList||o.trackWhiteList,g=t.baseURL||o.baseURL,m=t.biURL||o.biURL,v=void 0===t.useBeacon?o.useBeacon:!!t.useBeacon,y=void 0===t.interceptor?o.interceptor:!!t.interceptor,b=void 0===t.urlParams?o.urlParams:!!t.urlParams,w=void 0===t.autoReport?o.autoReport:t.autoReport;t.timeout&&t.timeout>500&&(o.ajaxOptions.timeout=t.timeout),L.a.extend(o,{environment:s,delayReport:p,delayCount:a,hashChange:l,history:h,logLevel:c,trackWhiteList:f,baseURL:g,biURL:m,useBeacon:v,interceptor:y,urlParams:b,autoReport:w});var _=ct();_?this.app.deviceId=_:Z.a.getPromise().then((function(t){var e=Z.a.x64hash128(q()(t).call(t,(function(t){return t.value})).join(""),31);if(e)return et.setItem(tt.deviceKey,e),e})).then((function(t){t&&(i.app.deviceId=t)})).catch((function(t){mt(t.message)}));var x=u()(r=this.handleRouteChange).call(r,this);return o.hashChange?L.a.on(Mt,"hashchange",x):o.history&&new Tt({callback:x}),this.rebuildRequest(),this}mt(tt.THE_CONFIG_SHOULD_BE_AN_OBJECT)},Rt.prototype.updateCommonWords=function(t){var e,n,r=this,i=this.app,o=this.os,a=c()(t),l=s()(e=this.osKeys).call(e,"networkType"),u=s()(n=this.appKeys).call(n,this.commonKeys);y()(a).call(a,(function(e){var n=t[e];-1===d()(u).call(u,e)||L.a.isEmptyValue(n)||(i[e]=n),-1===d()(l).call(l,e)||L.a.isEmptyValue(n)||(o[e]=n),"pageParam"===e&&(r.customPageData.pageParam=n)}));var h=!ct()&&t.deviceId;h&&(i.deviceId=h,et.setItem(tt.deviceKey,h)),ft(tt.THE_APP_DATA_AFTER_SETTING,i),ft(tt.THE_OS_DATA_AFTER_SETTING,o)},Rt.prototype.setDefaults=function(t){var e=this;return ft(tt.CALL_SETDEFAULTS),L.a.isObject(t)&&this.updateCommonWords(t),this.config.autoReport&&(this.app.deviceId?this.pageReport():i()((function(){e.pageReport()}),200)),this};var Lt=new Rt(dt);e.default=Lt}]).default},function(t,e,n){"use strict";e.__esModule=!0,e.makeUid=e.hideRoboPen=e.roboPenDataPush=e.zmSketchPad=void 0;var r=n(26),i=n(117),o=n(191),s=n(193),a=n(15);e.zmSketchPad=window.zmSketchPad=function(t,e,n,s){var a=new i.App(e,t,n,s);return(0,o.api)(a),(0,r.mount)(t,a),a},e.roboPenDataPush=function(t,e){(0,s.init)(t,e)},e.hideRoboPen=function(){(0,s.hideRoboPen)()},e.makeUid=function(){return(0,a.makeUUID)()}},function(t,e,n){"use strict";e.__esModule=!0,e.App=void 0;var r=n(26),i=(n(51),n(118),n(119)),o=n(15),s=n(190);e.App=function(){function t(e,n,a,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),console.log((0,o.getUrlVars)("type"));var l="recordplay"===(0,o.getUrlVars)("type");this.el=(0,r.el)(".app",this.canvas=new i.Canvas(l,c),this.recordplay=l?new s.RecordControl(this.canvas):""),this.data={},this.canvas.dataCallBack=e,this.canvas.parentDom=n,this.canvas.resizeCb=a}return t.prototype.update=function(t){console.log("App update",t);var e=t.hello;this.recordplay.update(e),this.data=t},t.prototype.destroy=function(){(0,r.unmount)(this.canvas.parentDom,this)},t}()},function(t,e,n){"use strict";e.__esModule=!0,e.Hello=void 0;var r=n(26);e.Hello=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=(0,r.el)("h1","Hello ",this.subject=(0,r.text)("RE:DOM"),"!")}return t.prototype.update=function(t){var e=t.subject;this.subject.textContent=e||"RE:DOM",this.data=t},t}()},function(t,e,n){"use strict";e.__esModule=!0,e.Canvas=void 0;var r,i=n(26),o=n(52),s=n(15),a=n(51),c=n(54),l=(r=c)&&r.__esModule?r:{default:r},u=n(11),h=n(187),d=n(189);var p=[u.DRAWTOOL_ROBOPEN,u.DRAWTOOL_SMOOTHLINE,u.DRAWTOOL_PRESSUREPEN],f=[u.DRAWTOOL_ELLIPSE_EDIT,u.DRAWTOOL_CIRCLE_EDIT,u.DRAWTOOL_LINE_EDIT,u.DRAWTOOL_LINEDASH_EDIT,u.DRAWTOOL_LINEARROW_EDIT,u.DRAWTOOL_LINEARROWDASH_EDIT,u.DRAWTOOL_COORDSYS_EDIT];e.Canvas=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=(0,i.el)("div.canvas"),this.stage=null,this.isRecord=e,this.originSize={width:800,height:450},this.templayer=null,this.showlayer=null,this.canvasaction=null,this.resizeEventListener=this.resizeEventListener.bind(this),this.resizeDetail=this.resizeDetail.bind(this),this.clearLocalDraw=this.clearLocalDraw.bind(this),this.stageY=this.stageY.bind(this),this.showLayerById=this.showLayerById.bind(this),this.redraw=this.redraw.bind(this),this.filterCacheData=this.filterCacheData.bind(this),this.replayHashMap={},this.recordPlayedIndex=0,this.recordPlayingTime=0,this.recordPlayedTimeReducer=0,this.scaletoserver=null,this.whiteboarddata={duration:0,whiteboard:[]},this.msgport=null,this.dataCallBack=null,this.parentDom=null,this.cacheDataInstance=new d.CacheData,this.heightScale=1,this.zoom=1,this.resizeCb=null,this.options=n,this.imgCache={},this.imgTemp={},this.rotateTimeOuter=null,this.rotateTmp=null}return t.prototype.showLayerById=function(t){if(this.cacheDataInstance.currentLayerId!==t){this.cacheDataInstance.currentLayerId=t,this.canvasaction.removeSelectShape(),this.showlayer.destroyChildren(),(0,s.resetCharLabel)(),this.canvasaction.deleteTempShape();var e=this.scaletoserver,n=this.filterCacheData(this.cacheDataInstance.layerCachData[this.cacheDataInstance.currentLayerId]);if(n)for(var r=0;r<n.length;r++){var i=n[r];this.replayDataItem(i,e,"replayData")}this.showlayer.batchDraw()}},t.prototype.filterCacheData=function(t){var e=[],n=[],r=[];if(t)for(var i=t.length-1;i>-1;i--){var o=t[i],a=(o[0],o[1],o[2]),c=o[3],l=(o[4],o[5],o[6]);c===u.DRAWTOOL_EDIT_RECOVER&&(n.push(l[0]),e.push(a)),n.includes((0,s.getActionItemUid)(o))&&e.push(a),e.includes(a)||r.unshift(o)}return r},t.prototype.redraw=function(){var t=this.scaletoserver,e=this.filterCacheData(this.cacheDataInstance.layerCachData[this.cacheDataInstance.currentLayerId]);e.length>0&&(0,s.resetCharLabel)();for(var n=0;n<e.length;n++){var r=e[n];this.replayDataItem(r,t,"replayData")}},t.prototype.clearDataToLayer=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];layerid?this.cacheDataInstance.layerCachData[layerid]=[]:this.cacheDataInstance.layerCachData[this.cacheDataInstance.currentLayerId]=[]},t.prototype.setDataToLayer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.length;if(n>0){var r=this.scaletoserver;null!==e?this.cacheDataInstance.layerCachData[e]=[]:this.cacheDataInstance.layerCachData[this.cacheDataInstance.currentLayerId]=[];var i=null===e||null!==e&&this.cacheDataInstance.currentLayerId===e;i&&(this.showlayer.destroyChildren(),(0,s.resetCharLabel)());for(var o=0;o<n;o++){var a=t[o];e?this.cacheDataInstance.layerCachData[e].push(a):this.cacheDataInstance.layerCachData[this.cacheDataInstance.currentLayerId].push(a)}if(i){var c=this.filterCacheData(t);if(c)for(var l=0;l<c.length;l++){var u=c[l];this.replayDataItem(u,r,"replayData")}}this.showlayer.batchDraw()}},t.prototype.pushDataToLayer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.length;if(n>0){var r=this.scaletoserver;this.cacheDataInstance.layerCachData[this.cacheDataInstance.currentLayerId]||(this.cacheDataInstance.layerCachData[this.cacheDataInstance.currentLayerId]=[]),e&&!this.cacheDataInstance.layerCachData[e]&&(this.cacheDataInstance.layerCachData[e]=[]);for(var i=0;i<n;i++){var o=t[i];e?this.cacheDataInstance.layerCachData[e].push(o):this.cacheDataInstance.layerCachData[this.cacheDataInstance.currentLayerId].push(o),(null===e||null!==e&&this.cacheDataInstance.currentLayerId===e)&&this.replayDataItem(o,r,"replayData")}this.showlayer.batchDraw()}},t.prototype.rotateDetail=function(t,e,n,r){if(r===this.cacheDataInstance.currentLayerId){this.imagelayer.destroyChildren();var i=t.width,o=t.height,s=!1;1===this.heightScale?i=t.height/e.naturalHeight*e.naturalWidth:(o=t.width/e.naturalWidth*e.naturalHeight)>t.height&&(i=(o=t.height)/e.naturalHeight*e.naturalWidth,s=!0);var a=(t.width-i)/2,c=i,h=o,d=0;s&&(a=0),90===n?1===this.heightScale?(c=o,h=o*e.naturalHeight/e.naturalWidth,a=t.width-(t.width-o*e.naturalHeight/e.naturalWidth)/2):(h=(c=t.width*u.CANVAS_RATIO)*e.naturalHeight/e.naturalWidth,c=(h=t.width)/e.naturalHeight*e.naturalWidth,a=t.width-(t.width-c*e.naturalHeight/e.naturalWidth)/2):180===n?(a=t.width-(s?t.width-i:(t.width-i)/2),d=h):270===n&&(1===this.heightScale?(c=o,h=o*e.naturalHeight/e.naturalWidth,a=(t.width-h)/2,d=c):(h=(c=t.width*u.CANVAS_RATIO)*e.naturalHeight/e.naturalWidth,c=(h=t.width)/e.naturalHeight*e.naturalWidth,a=(t.width-h)/2,d=c));var p=new l.default.Image({image:e,y:d/this.stage.scale().y,x:a/this.stage.scale().x,rotation:n,width:c/this.stage.scale().x,height:h/this.stage.scale().y});this.imagelayer.add(p),this.imagelayer.batchDraw()}},t.prototype.rotate=function(t,e,n){var r=this;this.rotateTmp={deg:t,src:e,id:n},this.rotateTimeOuter&&clearTimeout(this.rotateTimeOuter),this.rotateTimeOuter=setTimeout((function(){r.imgTemp[n]&&(r.imgTemp[n].src="");var i=r.resize();t=t>360?t%360:t;var o=void 0;if(r.imgCache[n])o=r.imgCache[n],r.rotateDetail(i,o,t,n);else{var s=new l.default.Text({x:(r.stage.getWidth()/2-90)/r.stage.scale().x,y:(r.stage.getWidth()*u.CANVAS_RATIO/2-15)/r.stage.scale().y,text:"...",fill:"#566DAC",fontSize:30});n===r.cacheDataInstance.currentLayerId&&(r.imagelayer.add(s),r.imagelayer.batchDraw()),(o=new Image).src=e,r.imgTemp[n]=o,o.onload=function(){r.imgCache[n]=o,delete r.imgTemp[n],r.rotateDetail(i,o,t,n)},o.onerror=function(){s.text(""),r.imagelayer.batchDraw()}}}),200)},t.prototype.init=function(){var t=this.resize();this.stage=new l.default.Stage(Object.assign({container:this.el},this.originSize)),l.default.pixelRatio=1,this.stage.size(t);var e=t.width/this.originSize.width;this.stage.scale({x:e,y:e}),this.templayer=new l.default.Layer({name:"templayer"}),this.showlayer=new l.default.Layer({name:"showlayer"}),this.templayer.hitGraphEnabled(!1),this.showlayer.hitGraphEnabled(!1),(0,s.reBuildTextStroke)(this.templayer),(0,s.reBuildTextStroke)(this.showlayer),this.options&&this.options.hasImgLayer&&(this.imagelayer=new l.default.Layer({name:"imagelayer"}),this.imagelayer.hitGraphEnabled(!1),this.stage.add(this.imagelayer)),this.stage.add(this.showlayer),this.stage.add(this.templayer),this.canvasaction=new h.CanvasAction(this.stage,this.cacheDataInstance,this.options),this.stage.canvasaction=this.canvasaction,this.stage.showlayer=this.showlayer,this.stage.templayer=this.templayer,this.canvasaction.scaletoserver=this.scaletoserver,this.canvasaction.dataCallBack=this.dataCallBack,this.canvasaction.parentDom=this.parentDom,this.canvasaction.redraw=this.redraw,this.showLayerById(1),this.isRecord||this.canvasaction.initEvent(),this.resizeCb&&this.resizeCb(this.originSize)},t.prototype.onmount=function(){console.log("onmount onmount"),this.init(),this.options&&this.options.disabledResize||this.resizeEvent()},t.prototype.onunmount=function(){window.removeEventListener("resize",this.resizeEventListener),this.canvasaction&&this.canvasaction.removeEvent()},t.prototype.setZoom=function(t){this.zoom=t,this.resizeEventListener()},t.prototype.resize=function(){var t=this.parentDom.clientWidth*this.zoom,e=this.parentDom.clientHeight*this.zoom,n=null;return t*u.CANVAS_RATIO>e?(this.scaletoserver=e/u.CANVAS_HEIGHT,n={width:e/u.CANVAS_RATIO,height:e*this.heightScale}):(this.scaletoserver=t/u.CANVAS_WIDTH,n={width:t,height:t*u.CANVAS_RATIO*this.heightScale}),this.canvasaction&&(this.canvasaction.scaletoserver=this.scaletoserver),n},t.prototype.resizeEventListener=function(){this.resizeDetail(),this.resizeCb&&this.resizeCb(this.resize())},t.prototype.resizeDetail=function(){var t=this.resize();if(this.options&&this.options.disableScaleStage){var e={width:t.width,height:t.height/this.heightScale};this.stage.size(e),this.el.parentElement.style.height=t.height+"px"}else this.stage.size(t);var n=t.width/this.originSize.width;this.stage.scale({x:n,y:n}),this.stage.draw(),this.resizeEditText()},t.prototype.resizeEditText=function(){this.canvasaction.tooltype!==u.DRAWTOOL_TEXTTOOL_EDIT&&this.canvasaction.tooltype!==u.DRAWTOOL_SELCTE_SHAPE||(this.canvasaction.shape&&this.canvasaction.shape.toolname===u.DRAWTOOL_TEXTTOOL_EDIT?this.canvasaction.shape.textarea.isConnected&&this.canvasaction.shape.resizeTextArea(this.canvasaction.shape.shape):this.showlayer.find("Text").filter((function(t){return t.getAttr("isEdit")})).forEach((function(t){t.me.resizeTextArea(t)})))},t.prototype.stageY=function(t){this.stage.y(t),this.resizeEditText()},t.prototype.scaleHeight=function(t){this.heightScale=t;var e=this.resize();if(this.options&&this.options.disableScaleStage){var n={width:e.width,height:e.height/this.heightScale};this.stage.size(n),this.el.parentElement.style.height=e.height+"px"}else this.stage.size(e);this.resizeCb&&this.resizeCb(e)},t.prototype.resizeEvent=function(){window.addEventListener("resize",this.resizeEventListener)},t.prototype.replayData=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.testdata,e=t.whiteboard.length,n=this.scaletoserver,r=0;r<e;r++){var i=t.whiteboard[r].data;this.replayDataItem(i,n,"replayData")}},t.prototype.editLayerPush=function(t,e,n){var r=e[6][1],i=r.length;if(t.toolname===u.DRAWTOOL_POLYGON_EDIT){for(var o=0;o<i;o+=2){var s={x:r[o]*n,y:r[o+1]*n};t.pushPoint(s),t.pushControlPoint(s)}t.pushPoint({x:r[0]*n,y:r[1]*n})}else if(f.includes(t.toolname))for(o=0;o<i;o+=2){var a={x:r[o]*n,y:r[o+1]*n};t.pushPoint(a)}else if(t.toolname===u.DRAWTOOL_TEXTTOOL_EDIT){var c={x:e[0]*n,y:e[1]*n};t.pushPoint(c),t.text=r}t.draw(),t.endDraw()},t.prototype.replayDataItem=function(t,e,n){var r=this.replayHashMap[t[2]],i=t[0]*e,s=t[1]*e,a=1;if(r)p.includes(r.toolname)&&(a=t[5]||t[3],r.pressure=a),r.pushPoint({x:i,y:s},r.toolname===u.DRAWTOOL_SMOOTHLINE?t[6]||t[4]:null),!0===t[t.length-1]?(r.draw(),r.endDraw(r.toolname===u.DRAWTOOL_SMOOTHLINE?t[4]:null),delete this.replayHashMap[t[2]]):(this.isRecord||"mockpen"===n)&&r.draw();else{var c=(0,o.makeShapeInstance)(t[3]);if(t.length<4||!Array.isArray(t[4]))return;var l=t[4][1],h=!1,d=!1,f=!1,g=!1,m=!0;4===t[4].length&&"linearrow"!==t[3]&&(l=t[4][2],1===t[4][1]&&(d=!0),1===t[4][3]&&(h=!0)),"line"===t[3]&&1===t[4][2]&&(h=!0),"triangle"===t[3]?(l=t[4][1],1===t[4][7]&&(d=!0),1===t[4][6]&&(h=!0)):"star"===t[3]?1===t[4][2]&&(d=!0):p.includes(t[3])?(a=t[5],this.stage.heightScale=this.heightScale):t[3]===u.DRAWTOOL_RECT_EDIT?f=t[6][0]:t[3]===u.DRAWTOOL_POLYGON_EDIT?(f=t[6][0],g=!0,m=!!t[6][2]):t[3]===u.DRAWTOOL_ELLIPSE_EDIT?(f=t[6][0],g=!0,m=!!t[6][2]):t[3]===u.DRAWTOOL_CIRCLE_EDIT?(f=t[6][0],g=!0,m=!!t[6][2]):t[3]===u.DRAWTOOL_SIMPLE_ELLIPSE_EDIT?f=t[6][0]:t[3]===u.DRAWTOOL_SIMPLE_TRIANGLE_EDIT?(f=t[6][0],1===t[4][7]&&(d=!0),1===t[4][6]&&(h=!0)):t[3]===u.DRAWTOOL_LINE_EDIT?(f=t[6][0],g=!0,m=!!t[6][2]):t[3]===u.DRAWTOOL_TEXTTOOL_EDIT?(f=t[6][0],g=!0):t[3]===u.DRAWTOOL_LINEDASH_EDIT?(f=t[6][0],g=!0,m=!!t[6][2]):t[3]===u.DRAWTOOL_LINEARROW_EDIT?(f=t[6][0],g=!0,m=!!t[6][2]):t[3]===u.DRAWTOOL_LINEARROWDASH_EDIT?(f=t[6][0],g=!0,m=!!t[6][2]):t[3]===u.DRAWTOOL_COORDSYS_EDIT?(f=t[6][0],g=!0):t[3]===u.DRAWTOOL_PENCIL&&(f=t[6]&&t[6][0]);var v=new c(this.stage,d?{stroke:l,fill:l}:{stroke:l,strokeWidth:t[4][0],fontSize:t[4][0]},t[2],t[3],n,t[6]);if(v.isFill=d,v.isShift=h,v.pressure=a,v.uid=f,v.isTempAchor=m,g)return void this.editLayerPush(v,t,e);v.pushPoint({x:i,y:s},v.toolname===u.DRAWTOOL_SMOOTHLINE?t[6]||t[4]:null),!0===t[t.length-1]||v.toolname===u.DRAWTOOL_TEXTTOOL?([u.DRAWTOOL_TRIANGLE,u.DRAWTOOL_SIMPLE_TRIANGLE_EDIT].includes(v.toolname)?(v.pushPoint({x:t[4][2]*e,y:t[4][3]*e}),v.pushPoint({x:t[4][4]*e,y:t[4][5]*e})):[u.DRAWTOOL_LINEARROW].includes(v.toolname)&&v.pushPoint({x:t[4][2]*e,y:t[4][3]*e}),v.draw(),v.endDraw(v.toolname===u.DRAWTOOL_SMOOTHLINE?t[4]:null)):this.replayHashMap[t[2]]=v,!0===t[t.length-1]&&delete this.replayHashMap[t[2]]}},t.prototype.clearLocalDraw=function(){var t=this.replayHashMap;for(var e in t)if(Number.isInteger(Number(e))&&t[e]){var n=t[e].middlePoints,r=this.stage.scale().x,i=this.canvasaction.dataToServer([n[n.length-2]*r,n[n.length-1]*r,t[e].clientid,t[e].pressure,!0]);console.log("pointArr pointArr",i,r),this.replayDataItem(i,this.scaletoserver,"mockpen"),this.canvasaction.dataCallBack(i)}},t.prototype.initRecordData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.testdata;this.whiteboarddata=t,(0,a.dispatch)(this,"duration",this.whiteboarddata.duration),(0,a.dispatch)(this,"playingtime",0)},t.prototype.recordPlay=function(){var t=this;this.recordPlayingTime=performance.now();requestAnimationFrame((function e(){var n=performance.now()-t.recordPlayingTime;if((0,a.dispatch)(t,"playingtime",n),t.whiteboarddata.whiteboard[t.recordPlayedIndex].timespan+t.recordPlayedTimeReducer<=n){var r=t.scaletoserver;if(t.replayDataItem(t.whiteboarddata.whiteboard[t.recordPlayedIndex].data,r),t.recordPlayedIndex++,t.recordPlayedIndex===t.whiteboarddata.whiteboard.length)return;t.recordPlayedTimeReducer+=t.whiteboarddata.whiteboard[t.recordPlayedIndex].timespan}requestAnimationFrame(e)}))},t.prototype.update=function(t){this.data=t},t}()},function(t,e,n){"use strict";e.__esModule=!0,e.Brush=void 0;var r=n(8),i=n(53);e.Brush=function(t){function e(n,r,o,s,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o,s,a));return r.listening=!1,r.shadowForStrokeEnabled=!1,r.transformsEnabled="position",r.hitStrokeWidth=0,c.shape=new Konva.Line(r),c.shape.lineCap("round"),c.shape.lineJoin("round"),c.shape.sceneFunc(i.sceneFunc),c.templayer.add(c.shape),c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){return[t.x,t.y,this.clientid,this.toolname,[this.style.strokeWidth,this.style.stroke],[],[this.uid]]},e.prototype.draw=function(){this.shape.points(this.middlePoints),"replayData"!==this.showtype&&this.templayer.batchDraw()},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.Rect=void 0;var r=n(8);e.Rect=function(t){function e(n,r,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,o,s));return r.listening=!1,r.shadowForStrokeEnabled=!1,r.transformsEnabled="position",a.shape=new Konva.Rect(r),a.templayer.add(a.shape),a.startData=null,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){return this.startData=[t.x,t.y,this.clientid,this.toolname,[this.style.strokeWidth,this.isFill?1:0,this.isFill?this.style.fill:this.style.stroke,this.isShift?1:0]],null},e.prototype.centerDataTemp=function(t){},e.prototype.endDataTemp=function(t){return this.startData&&(this.startData[4][3]=this.isShift?1:0),[this.startData,[t.x,t.y,this.clientid,!0]]},e.prototype.draw=function(){this.middlePoints.length>3&&(this.shape.x(this.middlePoints[0]),this.shape.y(this.middlePoints[1]),this.isShift?(this.shape.width(this.middlePoints[this.middlePoints.length-2]-this.middlePoints[0]),this.shape.height(this.middlePoints[this.middlePoints.length-2]-this.middlePoints[0])):(this.shape.width(this.middlePoints[this.middlePoints.length-2]-this.middlePoints[0]),this.shape.height(this.middlePoints[this.middlePoints.length-1]-this.middlePoints[1])),"replayData"!==this.showtype&&this.templayer.batchDraw())},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.Line=void 0;var r=n(8);e.Line=function(t){function e(n,r,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,o,s));return r.lineJoin="round",r.listening=!1,r.transformsEnabled="position",r.shadowForStrokeEnabled=!1,a.shape=new Konva.Line(r),a.templayer.add(a.shape),a.startData=null,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){return this.startData=[t.x,t.y,this.clientid,this.toolname,[this.style.strokeWidth,this.style.stroke,this.isShift?1:0]],null},e.prototype.centerDataTemp=function(t){},e.prototype.endDataTemp=function(t){return this.startData&&(this.startData[4][2]=this.isShift?1:0),[this.startData,[this.isShift?this.shape.points()[this.shape.points().length-2]*this.stage.scale().x:t.x,this.isShift?this.shape.points()[this.shape.points().length-1]*this.stage.scale().x:t.y,this.clientid,!0]]},e.prototype.draw=function(){this.middlePoints.length>3&&(this.isShift?Math.abs(this.middlePoints[this.middlePoints.length-2]-this.middlePoints[0])<Math.abs(this.middlePoints[this.middlePoints.length-1]-this.middlePoints[1])?this.shape.points([this.middlePoints[0],this.middlePoints[1],this.middlePoints[0],this.middlePoints[this.middlePoints.length-1]]):this.shape.points([this.middlePoints[0],this.middlePoints[1],this.middlePoints[this.middlePoints.length-2],this.middlePoints[1]]):this.shape.points([this.middlePoints[0],this.middlePoints[1],this.middlePoints[this.middlePoints.length-2],this.middlePoints[this.middlePoints.length-1]])),"replayData"!==this.showtype&&this.templayer.batchDraw()},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.LineArrow=void 0;var r=n(8);e.LineArrow=function(t){function e(n,r,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,o,s));return a.lastPoint=null,r.listening=!1,r.shadowForStrokeEnabled=!1,r.transformsEnabled="position",a.shape=new Konva.Arrow(Object.assign({},{pointerLength:20,pointerWidth:10,fill:r.stroke},r)),a.templayer.add(a.shape),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){},e.prototype.centerDataTemp=function(t){},e.prototype.endDataTemp=function(t){return[[this.middlePoints[0]*this.stage.scale().x,this.middlePoints[1]*this.stage.scale().x,this.clientid,this.toolname,[this.style.strokeWidth,this.style.stroke,this.middlePoints[this.middlePoints.length-2]*this.stage.scale().x,this.middlePoints[this.middlePoints.length-1]*this.stage.scale().x],!0]]},e.prototype.pushPoint=function(e){this.middlePoints.length>3&&this.isShift?Math.abs(e.x/this.stage.scale().x-this.middlePoints[0])<Math.abs(e.y/this.stage.scale().x-this.middlePoints[1])?t.prototype.pushPoint.call(this,{x:this.middlePoints[0]*this.stage.scale().x,y:e.y}):t.prototype.pushPoint.call(this,{x:e.x,y:this.middlePoints[1]*this.stage.scale().x}):t.prototype.pushPoint.call(this,e)},e.prototype.draw=function(){this.middlePoints.length>3&&this.shape.points([this.middlePoints[0],this.middlePoints[1],this.middlePoints[this.middlePoints.length-2],this.middlePoints[this.middlePoints.length-1]]),"replayData"!==this.showtype&&this.templayer.batchDraw()},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.Ellipse=void 0;var r=n(8);e.Ellipse=function(t){function e(n,r,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,o,s));return r.listening=!1,r.shadowForStrokeEnabled=!1,r.transformsEnabled="position",a.shape=new Konva.Ellipse(r),a.templayer.add(a.shape),a.startData=null,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){return this.startData=[t.x,t.y,this.clientid,this.toolname,[this.style.strokeWidth,this.isFill?1:0,this.isFill?this.style.fill:this.style.stroke,this.isShift?1:0]],null},e.prototype.centerDataTemp=function(t){},e.prototype.endDataTemp=function(t){return this.startData&&(this.startData[4][3]=this.isShift?1:0),[this.startData,[t.x,t.y,this.clientid,!0]]},e.prototype.draw=function(){if(this.middlePoints.length>3){var t={x:this.middlePoints[0],y:this.middlePoints[1]},e={x:this.middlePoints[this.middlePoints.length-2],y:this.middlePoints[this.middlePoints.length-1]};if(this.isShift){var n=Math.min(Math.abs((e.x-t.x)/2),Math.abs((e.y-t.y)/2));t.x<e.x?(this.shape.x(t.x+n),this.shape.y(t.y+n)):(this.shape.x(t.x-n),this.shape.y(t.y-n)),this.shape.radius({x:n,y:n})}else this.shape.x((t.x+e.x)/2),this.shape.y((t.y+e.y)/2),this.shape.radius({x:Math.abs(t.x-e.x)/2,y:Math.max(Math.abs(t.y-e.y)/2,2)});"replayData"!==this.showtype&&this.templayer.batchDraw()}},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.Eraser=void 0;var r=n(8);e.Eraser=function(t){function e(n,r,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,o,s));return r.stroke="white",r.lineJoin="round",r.lineCap="round",r.listening=!1,r.shadowForStrokeEnabled=!1,r.transformsEnabled="position",r.hitStrokeWidth=0,a.shape=new Konva.Line(r),a.shape.globalCompositeOperation("destination-out"),a.cloneShape=a.shape.clone(),a.showlayer.add(a.cloneShape),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){return[t.x,t.y,this.clientid,this.toolname,[this.style.strokeWidth],[],[this.uid]]},e.prototype.draw=function(){this.cloneShape.points(this.middlePoints),"replayData"!==this.showtype&&this.cloneShape.draw()},e.prototype.endDraw=function(){},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.EraserRectangle=void 0;var r=n(8);e.EraserRectangle=function(t){function e(n,r,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,o,s));return a.shape=new Konva.Rect(Object.assign({},{fill:"green",shadowEnabled:!1,strokeWidth:1,opacity:.4,listening:!1,shadowForStrokeEnabled:!1,transformsEnabled:"position",hitStrokeWidth:0})),a.templayer.add(a.shape),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){return[t.x,t.y,this.clientid,this.toolname,[this.style.strokeWidth],[],[this.uid]]},e.prototype.draw=function(){this.middlePoints.length>3&&(this.shape.x(this.middlePoints[0]),this.shape.y(this.middlePoints[1]),this.shape.width(this.middlePoints[this.middlePoints.length-2]-this.middlePoints[0]),this.shape.height(this.middlePoints[this.middlePoints.length-1]-this.middlePoints[1]),"replayData"!==this.showtype&&this.templayer.batchDraw())},e.prototype.endDraw=function(){this.shape.globalCompositeOperation("destination-out"),this.shape.opacity(1),t.prototype.endDraw.call(this)},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.Triangle=void 0;var r=n(8);e.Triangle=function(t){function e(n,r,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,o,s));return r.listening=!1,r.shadowForStrokeEnabled=!1,r.transformsEnabled="position",a.shape=new Konva.Shape(r),a.templayer.add(a.shape),a.shiftPois=null,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){},e.prototype.centerDataTemp=function(t){},e.prototype.endDataTemp=function(t){return[[this.middlePoints[0]*this.stage.scale().x,this.middlePoints[1]*this.stage.scale().x,this.clientid,this.toolname,[this.style.strokeWidth,this.isFill?this.style.fill:this.style.stroke,this.shiftPois[0]*this.stage.scale().x,this.shiftPois[1]*this.stage.scale().x,(this.shiftPois.length<4?this.shiftPois[0]:this.shiftPois[2])*this.stage.scale().x,(this.shiftPois.length<4?this.shiftPois[1]:this.shiftPois[3])*this.stage.scale().x,this.isShift?1:0,this.isFill?1:0],!0]]},e.prototype.draw=function(){if(this.middlePoints.length>3){var t={x:this.middlePoints[0],y:this.middlePoints[1]},e={x:this.middlePoints[this.middlePoints.length-2],y:this.middlePoints[this.middlePoints.length-1]},n=this;this.shape.sceneFunc((function(r){if(r.beginPath(),r.moveTo(t.x,t.y),n.isShift){var i=(e.y-t.y)/Math.sqrt(3)+t.x,o=t.x-(e.y-t.y)/Math.sqrt(3);r.lineTo(i,e.y),r.lineTo(o,e.y),n.shiftPois=[i,e.y,o,e.y]}else if((""+n.clientid).indexOf(".")>0){var s={x:n.middlePoints[n.middlePoints.length-4],y:n.middlePoints[n.middlePoints.length-3]};r.lineTo(s.x,s.y),r.lineTo(e.x,e.y),n.shiftPois=[s.x,s.y,e.x,e.y]}else{var a={x:2*t.x-e.x,y:e.y};a.y===t.y&&(a.y=t.y+1,e.y=e.y+1),r.lineTo(e.x,e.y),r.lineTo(a.x,a.y),n.shiftPois=[e.x,e.y,a.x,a.y]}r.closePath(),r.fillStrokeShape(this)})),"replayData"!==this.showtype&&this.templayer.batchDraw()}},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.Star=void 0;var r=n(8);e.Star=function(t){function e(n,r,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,o,s));return r.listening=!1,r.shadowForStrokeEnabled=!1,r.transformsEnabled="position",a.shape=new Konva.Star(Object.assign({},{numPoints:5},r)),a.templayer.add(a.shape),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){return[t.x,t.y,this.clientid,this.toolname,[this.style.strokeWidth,this.isFill?this.style.fill:this.style.stroke,this.isFill?1:0]]},e.prototype.draw=function(){if(this.middlePoints.length>3){var t={x:this.middlePoints[0],y:this.middlePoints[1]},e={x:this.middlePoints[this.middlePoints.length-2],y:this.middlePoints[this.middlePoints.length-1]};this.shape.x(t.x),this.shape.y(t.y);var n=Math.abs(e.x-t.x);this.shape.setInnerRadius(n),this.shape.setOuterRadius(2.5*n),"replayData"!==this.showtype&&this.templayer.batchDraw()}},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.Text=void 0;var r=n(8);e.Text=function(t){function e(n,r,i,o,s,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,o));return c.shape=new Konva.Text({fill:r.stroke,fontFamily:r.fontFamily||"microsoft yahei",fontSize:r.fontSize||14}),c.text=a,c.templayer.add(c.shape),c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){},e.prototype.centerDataTemp=function(t){},e.prototype.endDataTemp=function(t){return[[t.x,t.y,this.clientid,this.toolname,[this.style.fontSize||14,this.style.stroke],!0,this.text]]},e.prototype.draw=function(){this.middlePoints.length>0&&(this.shape.x(this.middlePoints[0]),this.shape.y(this.middlePoints[1]),this.shape.text(this.text),"replayData"!==this.showtype&&this.templayer.batchDraw())},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.PressurePen=void 0;var r=n(8);n(53),n(54);var i=function(t){var e=this.getPoints(),n=e.length,r=this.getClosed();n&&(t.beginPath(),t.moveTo(e[0],e[1]),t.quadraticCurveTo(e[2],e[3],e[4],e[5]),r?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this))};e.PressurePen=function(t){function e(n,r,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,o,s));return a.style.listening=!1,a.style.shadowForStrokeEnabled=!1,a.style.transformsEnabled="position",a.style.hitStrokeWidth=0,a.lastPoi=null,a.shapeArr=[],a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){return[t.x,t.y,this.clientid,this.toolname,[this.style.strokeWidth,this.style.stroke],this.pressure]},e.prototype.centerDataTemp=function(t){return[t.x,t.y,this.clientid,this.pressure]},e.prototype.endDataTemp=function(t){return[[t.x,t.y,this.clientid,this.pressure,!0]]},e.prototype.pushPoint=function(e){t.prototype.pushPoint.call(this,e);performance.now();if(6===this.middlePoints.length){var n=[this.middlePoints[0],this.middlePoints[1]],r=[this.middlePoints[2],this.middlePoints[3]],o=[(this.middlePoints[2]+this.middlePoints[4])/2,(this.middlePoints[3]+this.middlePoints[5])/2];this.lastPoi=o;var s=new Konva.Line(this.style);s.lineJoin("round"),s.lineCap("round"),s.strokeWidth(this.style.strokeWidth*this.pressure),s.sceneFunc(i),s.points(n.concat(r).concat(o)),this.showlayer.add(s),"replayData"===this.showtype||s.draw()}else if(this.middlePoints.length>6){var a=this.lastPoi,c=this.middlePoints.slice(-4),l=[c[0],c[1]],u=[(c[0]+c[2])/2,(c[1]+c[3])/2];this.lastPoi=u;var h=new Konva.Line(this.style);h.lineJoin("round"),h.lineCap("round"),h.strokeWidth(this.style.strokeWidth*this.pressure),h.sceneFunc(i),h.points(a.concat(l).concat(u)),this.showlayer.add(h),"replayData"===this.showtype||h.draw()}},e.prototype.draw=function(){},e.prototype.endDraw=function(){},e}(r.Shape)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(132),i=n(137),o=n(138),s=n(139),a=n(140),c=n(141),l=n(142),u=n(81),h=n(82),d=n(83),p=n(143),f=n(144),g=n(145),m=n(146),v=n(84),y=n(147),b=n(148),w=n(149),_=n(150),x=n(151),O=n(152),S=n(153),j=n(154),E=n(155),T=n(156),P=n(157),C=n(158),A=n(159),k=n(160),D=n(161),I=n(162),M=n(163),R=n(164),L=n(165),N=n(166),F=n(167),B=n(168);e.Konva=r.Konva.Util._assign(r.Konva,{Arc:i.Arc,Arrow:o.Arrow,Circle:s.Circle,Ellipse:a.Ellipse,Image:c.Image,Label:l.Label,Tag:l.Tag,Line:u.Line,Path:h.Path,Rect:d.Rect,RegularPolygon:p.RegularPolygon,Ring:f.Ring,Sprite:g.Sprite,Star:m.Star,Text:v.Text,TextPath:y.TextPath,Transformer:b.Transformer,Wedge:w.Wedge,Filters:{Blur:_.Blur,Brighten:x.Brighten,Contrast:O.Contrast,Emboss:S.Emboss,Enhance:j.Enhance,Grayscale:E.Grayscale,HSL:T.HSL,HSV:P.HSV,Invert:C.Invert,Kaleidoscope:A.Kaleidoscope,Mask:k.Mask,Noise:D.Noise,Pixelate:I.Pixelate,Posterize:M.Posterize,RGB:R.RGB,RGBA:L.RGBA,Sepia:N.Sepia,Solarize:F.Solarize,Threshold:B.Threshold}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),i=n(7),o=n(9),s=n(27),a=n(133),c=n(134),l=n(135),u=n(55),h=n(38),d=n(12),p=n(56),f=n(136),g=n(78),m=n(33);e.Konva=i.Util._assign(r.Konva,{Collection:i.Collection,Util:i.Util,Transform:i.Transform,Node:o.Node,ids:o.ids,names:o.names,Container:s.Container,Stage:a.Stage,stages:a.stages,Layer:c.Layer,FastLayer:l.FastLayer,Group:u.Group,DD:h.DD,Shape:d.Shape,shapes:d.shapes,Animation:p.Animation,Tween:f.Tween,Easings:f.Easings,Context:g.Context,Canvas:m.Canvas})},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(4),a=n(27),c=n(5),l=n(33),u=n(38),h=n(5),d=n(79),p=["mouseenter","mousedown","mousemove","mouseup","mouseout","touchstart","touchmove","touchend","mouseover","wheel","contextmenu","pointerdown","pointermove","pointerup","pointercancel","lostpointercapture"],f=p.length;function g(t,e){t.content.addEventListener(e,(function(n){t["_"+e](n)}),!1)}function m(t){return void 0===t&&(t={}),(t.clipFunc||t.clipWidth||t.clipHeight)&&o.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}e.stages=[];var v=function(t){function n(n){var r=t.call(this,m(n))||this;return r._pointerPositions=[],r._changedPointerPositions=[],r._buildDOM(),r._bindContentEvents(),e.stages.push(r),r.on("widthChange.konva heightChange.konva",r._resizeDOM),r.on("visibleChange.konva",r._checkVisibility),r.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(function(){m(r.attrs)})),r._checkVisibility(),r}return i(n,t),n.prototype._validateAdd=function(t){var e="Layer"===t.getType(),n="FastLayer"===t.getType();e||n||o.Util.throw("You may only add layers to the stage.")},n.prototype._checkVisibility=function(){var t=this.visible()?"":"none";this.content.style.display=t},n.prototype.setContainer=function(t){if("string"==typeof t){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var n;n="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(n)}if(!t)throw"Can not find container in document with id "+n}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this},n.prototype.shouldDrawHit=function(){return!0},n.prototype.clear=function(){var t,e=this.children,n=e.length;for(t=0;t<n;t++)e[t].clear();return this},n.prototype.clone=function(t){return t||(t={}),t.container=document.createElement("div"),a.Container.prototype.clone.call(this,t)},n.prototype.destroy=function(){t.prototype.destroy.call(this);var n=this.content;n&&o.Util._isInDocument(n)&&this.container().removeChild(n);var r=e.stages.indexOf(this);return r>-1&&e.stages.splice(r,1),this},n.prototype.getPointerPosition=function(){var t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(o.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)},n.prototype._getPointerById=function(t){return this._pointerPositions.find((function(e){return e.id===t}))},n.prototype.getPointersPositions=function(){return this._pointerPositions},n.prototype.getStage=function(){return this},n.prototype.getContent=function(){return this.content},n.prototype._toKonvaCanvas=function(t){var e=(t=t||{}).x||0,n=t.y||0,r=new l.SceneCanvas({width:t.width||this.width(),height:t.height||this.height(),pixelRatio:t.pixelRatio||1}),i=r.getContext()._context,o=this.children;return(e||n)&&i.translate(-1*e,-1*n),o.each((function(r){if(r.isVisible()){var o=r._toKonvaCanvas(t);i.drawImage(o._canvas,e,n,o.getWidth()/o.getPixelRatio(),o.getHeight()/o.getPixelRatio())}})),r},n.prototype.getIntersection=function(t,e){if(!t)return null;var n,r,i=this.children;for(n=i.length-1;n>=0;n--)if(r=i[n].getIntersection(t,e))return r;return null},n.prototype._resizeDOM=function(){if(this.content){var t,e,n=this.width(),r=this.height(),i=this.getChildren(),o=i.length;for(this.content.style.width=n+"px",this.content.style.height=r+"px",this.bufferCanvas.setSize(n,r),this.bufferHitCanvas.setSize(n,r),t=0;t<o;t++)(e=i[t]).setSize({width:n,height:r}),e.draw()}},n.prototype.add=function(e){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}t.prototype.add.call(this,e);var r=this.children.length;return r>5&&o.Util.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e._setCanvasSize(this.width(),this.height()),e.draw(),c.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this},n.prototype.getParent=function(){return null},n.prototype.getLayer=function(){return null},n.prototype.hasPointerCapture=function(t){return d.hasPointerCapture(t,this)},n.prototype.setPointerCapture=function(t){d.setPointerCapture(t,this)},n.prototype.releaseCapture=function(t){d.releaseCapture(t,this)},n.prototype.getLayers=function(){return this.getChildren()},n.prototype._bindContentEvents=function(){if(c.Konva.isBrowser)for(var t=0;t<f;t++)g(this,p[t])},n.prototype._mouseenter=function(t){this.setPointersPositions(t),this._fire("mouseenter",{evt:t,target:this,currentTarget:this})},n.prototype._mouseover=function(t){this.setPointersPositions(t),this._fire("contentMouseover",{evt:t}),this._fire("mouseover",{evt:t,target:this,currentTarget:this})},n.prototype._mouseout=function(t){this.setPointersPositions(t);var e=this.targetShape,n=!u.DD.isDragging||c.Konva.hitOnDragEnabled;e&&n?(e._fireAndBubble("mouseout",{evt:t}),e._fireAndBubble("mouseleave",{evt:t}),this._fire("mouseleave",{evt:t,target:this,currentTarget:this}),this.targetShape=null):n&&(this._fire("mouseleave",{evt:t,target:this,currentTarget:this}),this._fire("mouseout",{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[],this._fire("contentMouseout",{evt:t})},n.prototype._mousemove=function(t){if(c.Konva.UA.ieMobile)return this._touchmove(t);this.setPointersPositions(t);var e,n=o.Util._getFirstPointerId(t),r=!u.DD.isDragging||c.Konva.hitOnDragEnabled;if(r){if((e=this.getIntersection(this.getPointerPosition()))&&e.isListening()){var i=!this.targetShape||this.targetShape!==e;r&&i?(this.targetShape&&(this.targetShape._fireAndBubble("mouseout",{evt:t,pointerId:n},e),this.targetShape._fireAndBubble("mouseleave",{evt:t,pointerId:n},e)),e._fireAndBubble("mouseover",{evt:t,pointerId:n},this.targetShape),e._fireAndBubble("mouseenter",{evt:t,pointerId:n},this.targetShape),e._fireAndBubble("mousemove",{evt:t,pointerId:n}),this.targetShape=e):e._fireAndBubble("mousemove",{evt:t,pointerId:n})}else this.targetShape&&r&&(this.targetShape._fireAndBubble("mouseout",{evt:t,pointerId:n}),this.targetShape._fireAndBubble("mouseleave",{evt:t,pointerId:n}),this._fire("mouseover",{evt:t,target:this,currentTarget:this,pointerId:n}),this.targetShape=null),this._fire("mousemove",{evt:t,target:this,currentTarget:this,pointerId:n});this._fire("contentMousemove",{evt:t})}t.cancelable&&t.preventDefault()},n.prototype._mousedown=function(t){if(c.Konva.UA.ieMobile)return this._touchstart(t);this.setPointersPositions(t);var e=o.Util._getFirstPointerId(t),n=this.getIntersection(this.getPointerPosition());u.DD.justDragged=!1,c.Konva.listenClickTap=!0,n&&n.isListening()?(this.clickStartShape=n,n._fireAndBubble("mousedown",{evt:t,pointerId:e})):this._fire("mousedown",{evt:t,target:this,currentTarget:this,pointerId:e}),this._fire("contentMousedown",{evt:t})},n.prototype._mouseup=function(t){if(c.Konva.UA.ieMobile)return this._touchend(t);this.setPointersPositions(t);var e=o.Util._getFirstPointerId(t),n=this.getIntersection(this.getPointerPosition()),r=this.clickStartShape,i=this.clickEndShape,s=!1;c.Konva.inDblClickWindow?(s=!0,clearTimeout(this.dblTimeout)):u.DD.justDragged||(c.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){c.Konva.inDblClickWindow=!1}),c.Konva.dblClickWindow),n&&n.isListening()?(this.clickEndShape=n,n._fireAndBubble("mouseup",{evt:t,pointerId:e}),c.Konva.listenClickTap&&r&&r._id===n._id&&(n._fireAndBubble("click",{evt:t,pointerId:e}),s&&i&&i===n&&n._fireAndBubble("dblclick",{evt:t,pointerId:e}))):(this._fire("mouseup",{evt:t,target:this,currentTarget:this,pointerId:e}),c.Konva.listenClickTap&&this._fire("click",{evt:t,target:this,currentTarget:this,pointerId:e}),s&&this._fire("dblclick",{evt:t,target:this,currentTarget:this,pointerId:e})),this._fire("contentMouseup",{evt:t}),c.Konva.listenClickTap&&(this._fire("contentClick",{evt:t}),s&&this._fire("contentDblclick",{evt:t})),c.Konva.listenClickTap=!1,t.cancelable&&t.preventDefault()},n.prototype._contextmenu=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble("contextmenu",{evt:t}):this._fire("contextmenu",{evt:t,target:this,currentTarget:this}),this._fire("contentContextmenu",{evt:t})},n.prototype._touchstart=function(t){var e=this;this.setPointersPositions(t);var n=!1;this._changedPointerPositions.forEach((function(r){var i=e.getIntersection(r);c.Konva.listenClickTap=!0,u.DD.justDragged=!1,i&&i.isListening()&&(c.Konva.captureTouchEventsEnabled&&i.setPointerCapture(r.id),e.tapStartShape=i,i._fireAndBubble("touchstart",{evt:t,pointerId:r.id},e),n=!0,i.isListening()&&i.preventDefault()&&t.cancelable&&t.preventDefault())})),n||this._fire("touchstart",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchstart",{evt:t})},n.prototype._touchmove=function(t){var e=this;if(this.setPointersPositions(t),!u.DD.isDragging||c.Konva.hitOnDragEnabled){var n=!1,r={};this._changedPointerPositions.forEach((function(i){var o=d.getCapturedShape(i.id)||e.getIntersection(i);o&&o.isListening()&&(r[o._id]||(r[o._id]=!0,o._fireAndBubble("touchmove",{evt:t,pointerId:i.id}),n=!0,o.isListening()&&o.preventDefault()&&t.cancelable&&t.preventDefault()))})),n||this._fire("touchmove",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchmove",{evt:t})}u.DD.isDragging&&u.DD.node.preventDefault()&&t.cancelable&&t.preventDefault()},n.prototype._touchend=function(t){var e=this;this.setPointersPositions(t);var n=this.clickEndShape,r=!1;c.Konva.inDblClickWindow?(r=!0,clearTimeout(this.dblTimeout)):u.DD.justDragged||(c.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){c.Konva.inDblClickWindow=!1}),c.Konva.dblClickWindow);var i=!1,o={},s=!1,a=!1;this._changedPointerPositions.forEach((function(l){var u=d.getCapturedShape(l.id)||e.getIntersection(l);u&&u.releaseCapture(l.id),u&&u.isListening()&&(o[u._id]||(o[u._id]=!0,e.clickEndShape=u,u._fireAndBubble("touchend",{evt:t,pointerId:l.id}),i=!0,c.Konva.listenClickTap&&u===e.tapStartShape&&(s=!0,u._fireAndBubble("tap",{evt:t,pointerId:l.id}),r&&n&&n===u&&(a=!0,u._fireAndBubble("dbltap",{evt:t,pointerId:l.id}))),u.isListening()&&u.preventDefault()&&t.cancelable&&t.preventDefault()))})),i||this._fire("touchend",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),c.Konva.listenClickTap&&!s&&this._fire("tap",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),r&&!a&&this._fire("dbltap",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchend",{evt:t}),c.Konva.listenClickTap&&(this._fire("contentTap",{evt:t}),r&&this._fire("contentDbltap",{evt:t})),c.Konva.listenClickTap=!1},n.prototype._wheel=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble("wheel",{evt:t}):this._fire("wheel",{evt:t,target:this,currentTarget:this}),this._fire("contentWheel",{evt:t})},n.prototype._pointerdown=function(t){if(c.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=d.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointerdown",d.createEvent(t))}},n.prototype._pointermove=function(t){if(c.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=d.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointermove",d.createEvent(t))}},n.prototype._pointerup=function(t){if(c.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=d.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointerup",d.createEvent(t)),d.releaseCapture(t.pointerId)}},n.prototype._pointercancel=function(t){if(c.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=d.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointerup",d.createEvent(t)),d.releaseCapture(t.pointerId)}},n.prototype._lostpointercapture=function(t){d.releaseCapture(t.pointerId)},n.prototype.setPointersPositions=function(t){var e=this,n=this._getContentPosition(),r=null,i=null;void 0!==(t=t||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],o.Collection.prototype.each.call(t.touches,(function(t){e._pointerPositions.push({id:t.identifier,x:(t.clientX-n.left)/n.scaleX,y:(t.clientY-n.top)/n.scaleY})})),o.Collection.prototype.each.call(t.changedTouches||t.touches,(function(t){e._changedPointerPositions.push({id:t.identifier,x:(t.clientX-n.left)/n.scaleX,y:(t.clientY-n.top)/n.scaleY})}))):(r=(t.clientX-n.left)/n.scaleX,i=(t.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:o.Util._getFirstPointerId(t)}],this._changedPointerPositions=[{x:r,y:i,id:o.Util._getFirstPointerId(t)}])},n.prototype._setPointerPosition=function(t){o.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)},n.prototype._getContentPosition=function(){var t=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0,width:1e3,height:1e3};return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}},n.prototype._buildDOM=function(){if(this.bufferCanvas=new l.SceneCanvas,this.bufferHitCanvas=new l.HitCanvas({pixelRatio:1}),c.Konva.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}},n.prototype.cache=function(){return o.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this},n.prototype.clearCache=function(){return this},n.prototype.batchDraw=function(){return this.children.each((function(t){t.batchDraw()})),this},n}(a.Container);e.Stage=v,v.prototype.nodeType="Stage",h._registerNode(v),s.Factory.addGetterSetter(v,"container")},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(27),a=n(4),c=n(80),l=n(33),u=n(12),h=n(6),d=n(5),p=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],f=p.length,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hitCanvas=new l.HitCanvas({pixelRatio:1}),e}return i(e,t),e.prototype._setCanvasSize=function(t,e){this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e),this._checkSmooth()},e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&o.Util.throw("You may only add groups and shapes to a layer.")},e.prototype.getIntersection=function(t,e){var n,r,i,o;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(var s=1,a=!1;;){for(r=0;r<f;r++){if(i=p[r],(o=(n=this._getIntersection({x:t.x+i.x*s,y:t.y+i.y*s})).shape)&&e)return o.findAncestor(e,!0);if(o)return o;if(a=!!n.antialiased,!n.antialiased)break}if(!a)return null;s+=1}},e.prototype._getIntersection=function(t){var e,n,r=this.hitCanvas.pixelRatio,i=this.hitCanvas.context.getImageData(Math.round(t.x*r),Math.round(t.y*r),1,1).data,s=i[3];return 255===s?(e=o.Util._rgbToHex(i[0],i[1],i[2]),(n=u.shapes["#"+e])?{shape:n}:{antialiased:!0}):s>0?{antialiased:!0}:{}},e.prototype.drawScene=function(t,e){var n=this.getLayer(),r=t||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),s.Container.prototype.drawScene.call(this,r,e),this._fire("draw",{node:this}),this},e.prototype.drawHit=function(t,e){var n=this.getLayer(),r=t||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),s.Container.prototype.drawHit.call(this,r,e),this},e.prototype.clear=function(t){return c.BaseLayer.prototype.clear.call(this,t),this.getHitCanvas().getContext().clear(t),this},e.prototype.enableHitGraph=function(){return this.hitGraphEnabled(!0),this},e.prototype.disableHitGraph=function(){return this.hitGraphEnabled(!1),this},e.prototype.toggleHitCanvas=function(){if(this.parent){var t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}},e.prototype.setSize=function(e){var n=e.width,r=e.height;return t.prototype.setSize.call(this,{width:n,height:r}),this.hitCanvas.setSize(n,r),this},e}(c.BaseLayer);e.Layer=g,g.prototype.nodeType="Layer",d._registerNode(g),a.Factory.addGetterSetter(g,"hitGraphEnabled",!0,h.getBooleanValidator()),o.Collection.mapMethods(g)},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(27),a=n(80),c=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._validateAdd=function(t){"Shape"!==t.getType()&&o.Util.throw("You may only add shapes to a fast layer.")},e.prototype._setCanvasSize=function(t,e){this.canvas.setSize(t,e),this._checkSmooth()},e.prototype.hitGraphEnabled=function(){return!1},e.prototype.drawScene=function(t){var e=this.getLayer(),n=t||e&&e.getCanvas();return this.clearBeforeDraw()&&n.getContext().clear(),s.Container.prototype.drawScene.call(this,n),this},e.prototype.draw=function(){return this.drawScene(),this},e}(a.BaseLayer);e.FastLayer=l,l.prototype.nodeType="FastLayer",c._registerNode(l),o.Collection.mapMethods(l)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=n(56),o=n(9),s=n(5),a={node:1,duration:1,easing:1,onFinish:1,yoyo:1},c=0,l=["fill","stroke","shadowColor"],u=function(){function t(t,e,n,r,i,o,s){this.prop=t,this.propFunc=e,this.begin=r,this._pos=r,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=s,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=i-this.begin,this.pause()}return t.prototype.fire=function(t){var e=this[t];e&&e()},t.prototype.setTime=function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},t.prototype.getTime=function(){return this._time},t.prototype.setPosition=function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},t.prototype.getPosition=function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},t.prototype.play=function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},t.prototype.reverse=function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},t.prototype.seek=function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},t.prototype.reset=function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},t.prototype.finish=function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},t.prototype.update=function(){this.setPosition(this.getPosition(this._time))},t.prototype.onEnterFrame=function(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)},t.prototype.pause=function(){this.state=1,this.fire("onPause")},t.prototype.getTimer=function(){return(new Date).getTime()},t}(),h=function(){function t(n){var o,l,h=this,d=n.node,p=d._id,f=n.easing||e.Easings.Linear,g=!!n.yoyo;o=void 0===n.duration?.3:0===n.duration?.001:n.duration,this.node=d,this._id=c++;var m=d.getLayer()||(d instanceof s.Konva.Stage?d.getLayers():null);for(l in m||r.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new i.Animation((function(){h.tween.onEnterFrame()}),m),this.tween=new u(l,(function(t){h._tweenFunc(t)}),f,0,1,1e3*o,g),this._addListeners(),t.attrs[p]||(t.attrs[p]={}),t.attrs[p][this._id]||(t.attrs[p][this._id]={}),t.tweens[p]||(t.tweens[p]={}),n)void 0===a[l]&&this._addAttr(l,n[l]);this.reset(),this.onFinish=n.onFinish,this.onReset=n.onReset}return t.prototype._addAttr=function(e,n){var i,o,s,a,c,u,h,d,p=this.node,f=p._id;if((s=t.tweens[f][e])&&delete t.attrs[f][s][e],i=p.getAttr(e),r.Util._isArray(n))if(o=[],c=Math.max(n.length,i.length),"points"===e&&n.length!==i.length&&(n.length>i.length?(h=i,i=r.Util._prepareArrayForTween(i,n,p.closed())):(u=n,n=r.Util._prepareArrayForTween(n,i,p.closed()))),0===e.indexOf("fill"))for(a=0;a<c;a++)if(a%2==0)o.push(n[a]-i[a]);else{var g=r.Util.colorToRGBA(i[a]);d=r.Util.colorToRGBA(n[a]),i[a]=g,o.push({r:d.r-g.r,g:d.g-g.g,b:d.b-g.b,a:d.a-g.a})}else for(a=0;a<c;a++)o.push(n[a]-i[a]);else-1!==l.indexOf(e)?(i=r.Util.colorToRGBA(i),o={r:(d=r.Util.colorToRGBA(n)).r-i.r,g:d.g-i.g,b:d.b-i.b,a:d.a-i.a}):o=n-i;t.attrs[f][this._id][e]={start:i,diff:o,end:n,trueEnd:u,trueStart:h},t.tweens[f][e]=this._id},t.prototype._tweenFunc=function(e){var n,i,o,s,a,c,u,h,d=this.node,p=t.attrs[d._id][this._id];for(n in p){if(o=(i=p[n]).start,s=i.diff,h=i.end,r.Util._isArray(o))if(a=[],u=Math.max(o.length,h.length),0===n.indexOf("fill"))for(c=0;c<u;c++)c%2==0?a.push((o[c]||0)+s[c]*e):a.push("rgba("+Math.round(o[c].r+s[c].r*e)+","+Math.round(o[c].g+s[c].g*e)+","+Math.round(o[c].b+s[c].b*e)+","+(o[c].a+s[c].a*e)+")");else for(c=0;c<u;c++)a.push((o[c]||0)+s[c]*e);else a=-1!==l.indexOf(n)?"rgba("+Math.round(o.r+s.r*e)+","+Math.round(o.g+s.g*e)+","+Math.round(o.b+s.b*e)+","+(o.a+s.a*e)+")":o+s*e;d.setAttr(n,a)}},t.prototype._addListeners=function(){var e=this;this.tween.onPlay=function(){e.anim.start()},this.tween.onReverse=function(){e.anim.start()},this.tween.onPause=function(){e.anim.stop()},this.tween.onFinish=function(){var n=e.node,r=t.attrs[n._id][e._id];r.points&&r.points.trueEnd&&n.setAttr("points",r.points.trueEnd),e.onFinish&&e.onFinish.call(e)},this.tween.onReset=function(){var n=e.node,r=t.attrs[n._id][e._id];r.points&&r.points.trueStart&&n.points(r.points.trueStart),e.onReset&&e.onReset()}},t.prototype.play=function(){return this.tween.play(),this},t.prototype.reverse=function(){return this.tween.reverse(),this},t.prototype.reset=function(){return this.tween.reset(),this},t.prototype.seek=function(t){return this.tween.seek(1e3*t),this},t.prototype.pause=function(){return this.tween.pause(),this},t.prototype.finish=function(){return this.tween.finish(),this},t.prototype.destroy=function(){var e,n=this.node._id,r=this._id,i=t.tweens[n];for(e in this.pause(),i)delete t.tweens[n][e];delete t.attrs[n][r]},t.attrs={},t.tweens={},t}();e.Tween=h,o.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new h(t).play()},e.Easings={BackEaseIn:function(t,e,n,r){var i=1.70158;return n*(t/=r)*t*((i+1)*t-i)+e},BackEaseOut:function(t,e,n,r){var i=1.70158;return n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},BackEaseInOut:function(t,e,n,r){var i=1.70158;return(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},ElasticEaseIn:function(t,e,n,r,i,o){var s=0;return 0===t?e:1==(t/=r)?e+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,s=o/4):s=o/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/o)+e)},ElasticEaseOut:function(t,e,n,r,i,o){var s=0;return 0===t?e:1==(t/=r)?e+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,s=o/4):s=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-s)*(2*Math.PI)/o)+n+e)},ElasticEaseInOut:function(t,e,n,r,i,o){var s=0;return 0===t?e:2==(t/=r/2)?e+n:(o||(o=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,s=o/4):s=o/(2*Math.PI)*Math.asin(n/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/o)*-.5+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/o)*.5+n+e)},BounceEaseOut:function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,n,r,i){return r-e.Easings.BounceEaseOut(i-t,0,r,i)+n},BounceEaseInOut:function(t,n,r,i){return t<i/2?.5*e.Easings.BounceEaseIn(2*t,0,r,i)+n:.5*e.Easings.BounceEaseOut(2*t-i,0,r,i)+.5*r+n},EaseIn:function(t,e,n,r){return n*(t/=r)*t+e},EaseOut:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,n,r){return n*t/r+e}}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(4),a=n(12),c=n(5),l=n(6),u=n(5),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=c.Konva.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,n),t.arc(0,0,this.innerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(a.Shape);e.Arc=h,h.prototype._centroid=!0,h.prototype.className="Arc",h.prototype._attrsAffectingSize=["innerRadius","outerRadius"],u._registerNode(h),s.Factory.addGetterSetter(h,"innerRadius",0,l.getNumberValidator()),s.Factory.addGetterSetter(h,"outerRadius",0,l.getNumberValidator()),s.Factory.addGetterSetter(h,"angle",0,l.getNumberValidator()),s.Factory.addGetterSetter(h,"clockwise",!1,l.getBooleanValidator()),o.Collection.mapMethods(h)},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(4),a=n(81),c=n(6),l=n(5),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(e){t.prototype._sceneFunc.call(this,e);var n=2*Math.PI,r=this.points(),i=r,o=0!==this.tension()&&r.length>4;o&&(i=this.getTensionPoints());var s,a,c=r.length;o?(s=r[c-2]-(i[i.length-2]+i[i.length-4])/2,a=r[c-1]-(i[i.length-1]+i[i.length-3])/2):(s=r[c-2]-r[c-4],a=r[c-1]-r[c-3]);var l=(Math.atan2(a,s)+n)%n,u=this.pointerLength(),h=this.pointerWidth();e.save(),e.beginPath(),e.translate(r[c-2],r[c-1]),e.rotate(l),e.moveTo(0,0),e.lineTo(-u,h/2),e.lineTo(-u,-h/2),e.closePath(),e.restore(),this.pointerAtBeginning()&&(e.save(),e.translate(r[0],r[1]),o?(s=(i[0]+i[2])/2-r[0],a=(i[1]+i[3])/2-r[1]):(s=r[2]-r[0],a=r[3]-r[1]),e.rotate((Math.atan2(-a,-s)+n)%n),e.moveTo(0,0),e.lineTo(-u,h/2),e.lineTo(-u,-h/2),e.closePath(),e.restore());var d=this.dashEnabled();d&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),d&&(this.attrs.dashEnabled=!0)},e.prototype.getSelfRect=function(){var e=t.prototype.getSelfRect.call(this),n=this.pointerWidth()/2;return{x:e.x-n,y:e.y-n,width:e.width+2*n,height:e.height+2*n}},e}(a.Line);e.Arrow=u,u.prototype.className="Arrow",l._registerNode(u),s.Factory.addGetterSetter(u,"pointerLength",10,c.getNumberValidator()),s.Factory.addGetterSetter(u,"pointerWidth",10,c.getNumberValidator()),s.Factory.addGetterSetter(u,"pointerAtBeginning",!1),o.Collection.mapMethods(u)},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(4),a=n(12),c=n(6),l=n(5),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius()!==t/2&&this.radius(t/2)},e.prototype.setHeight=function(t){this.radius()!==t/2&&this.radius(t/2)},e}(a.Shape);e.Circle=u,u.prototype._centroid=!0,u.prototype.className="Circle",u.prototype._attrsAffectingSize=["radius"],l._registerNode(u),s.Factory.addGetterSetter(u,"radius",0,c.getNumberValidator()),o.Collection.mapMethods(u)},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(4),a=n(12),c=n(6),l=n(5),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.radiusX(),n=this.radiusY();t.beginPath(),t.save(),e!==n&&t.scale(1,n/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radiusX()},e.prototype.getHeight=function(){return 2*this.radiusY()},e.prototype.setWidth=function(t){this.radiusX(t/2)},e.prototype.setHeight=function(t){this.radiusY(t/2)},e}(a.Shape);e.Ellipse=u,u.prototype.className="Ellipse",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["radiusX","radiusY"],l._registerNode(u),s.Factory.addComponentsGetterSetter(u,"radius",["x","y"]),s.Factory.addGetterSetter(u,"radiusX",0,c.getNumberValidator()),s.Factory.addGetterSetter(u,"radiusY",0,c.getNumberValidator()),o.Collection.mapMethods(u)},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(4),a=n(12),c=n(6),l=n(5),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._useBufferCanvas=function(){return!(!this.hasShadow()&&1===this.getAbsoluteOpacity()||!this.hasStroke()||!this.getStage())},e.prototype._sceneFunc=function(t){var e,n,r,i=this.width(),o=this.height(),s=this.image();s&&(e=this.cropWidth(),n=this.cropHeight(),r=e&&n?[s,this.cropX(),this.cropY(),e,n,0,0,i,o]:[s,0,0,i,o]),(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,i,o),t.closePath(),t.fillStrokeShape(this)),s&&t.drawImage.apply(t,r)},e.prototype._hitFunc=function(t){var e=this.width(),n=this.height();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){var t,e=this.image();return null!=(t=this.attrs.width)?t:e?e.width:0},e.prototype.getHeight=function(){var t,e=this.image();return null!=(t=this.attrs.height)?t:e?e.height:0},e.fromURL=function(t,n){var r=o.Util.createImageElement();r.onload=function(){var t=new e({image:r});n(t)},r.crossOrigin="Anonymous",r.src=t},e}(a.Shape);e.Image=u,u.prototype.className="Image",l._registerNode(u),s.Factory.addGetterSetter(u,"image"),s.Factory.addComponentsGetterSetter(u,"crop",["x","y","width","height"]),s.Factory.addGetterSetter(u,"cropX",0,c.getNumberValidator()),s.Factory.addGetterSetter(u,"cropY",0,c.getNumberValidator()),s.Factory.addGetterSetter(u,"cropWidth",0,c.getNumberValidator()),s.Factory.addGetterSetter(u,"cropHeight",0,c.getNumberValidator()),o.Collection.mapMethods(u)},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(4),a=n(12),c=n(55),l=n(6),u=n(5),h=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width"],d=h.length,p=function(t){function e(e){var n=t.call(this,e)||this;return n.on("add.konva",(function(t){this._addListeners(t.child),this._sync()})),n}return i(e,t),e.prototype.getText=function(){return this.find("Text")[0]},e.prototype.getTag=function(){return this.find("Tag")[0]},e.prototype._addListeners=function(t){var e,n=this,r=function(){n._sync()};for(e=0;e<d;e++)t.on(h[e]+"Change.konva",r)},e.prototype.getWidth=function(){return this.getText().width()},e.prototype.getHeight=function(){return this.getText().height()},e.prototype._sync=function(){var t,e,n,r,i,o,s,a=this.getText(),c=this.getTag();if(a&&c){switch(t=a.width(),e=a.height(),n=c.pointerDirection(),r=c.pointerWidth(),s=c.pointerHeight(),i=0,o=0,n){case"up":i=t/2,o=-1*s;break;case"right":i=t+r,o=e/2;break;case"down":i=t/2,o=e+s;break;case"left":i=-1*r,o=e/2}c.setAttrs({x:-1*i,y:-1*o,width:t,height:e}),a.setAttrs({x:-1*i,y:-1*o})}},e}(c.Group);e.Label=p,p.prototype.className="Label",u._registerNode(p),o.Collection.mapMethods(p);var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.width(),n=this.height(),r=this.pointerDirection(),i=this.pointerWidth(),o=this.pointerHeight(),s=Math.min(this.cornerRadius(),e/2,n/2);t.beginPath(),s?t.moveTo(s,0):t.moveTo(0,0),"up"===r&&(t.lineTo((e-i)/2,0),t.lineTo(e/2,-1*o),t.lineTo((e+i)/2,0)),s?(t.lineTo(e-s,0),t.arc(e-s,s,s,3*Math.PI/2,0,!1)):t.lineTo(e,0),"right"===r&&(t.lineTo(e,(n-o)/2),t.lineTo(e+i,n/2),t.lineTo(e,(n+o)/2)),s?(t.lineTo(e,n-s),t.arc(e-s,n-s,s,0,Math.PI/2,!1)):t.lineTo(e,n),"down"===r&&(t.lineTo((e+i)/2,n),t.lineTo(e/2,n+o),t.lineTo((e-i)/2,n)),s?(t.lineTo(s,n),t.arc(s,n-s,s,Math.PI/2,Math.PI,!1)):t.lineTo(0,n),"left"===r&&(t.lineTo(0,(n+o)/2),t.lineTo(-1*i,n/2),t.lineTo(0,(n-o)/2)),s&&(t.lineTo(0,s),t.arc(s,s,s,Math.PI,3*Math.PI/2,!1)),t.closePath(),t.fillStrokeShape(this)},e.prototype.getSelfRect=function(){var t=0,e=0,n=this.pointerWidth(),r=this.pointerHeight(),i=this.pointerDirection(),o=this.width(),s=this.height();return"up"===i?(e-=r,s+=r):"down"===i?s+=r:"left"===i?(t-=1.5*n,o+=n):"right"===i&&(o+=1.5*n),{x:t,y:e,width:o,height:s}},e}(a.Shape);e.Tag=f,f.prototype.className="Tag",u._registerNode(f),s.Factory.addGetterSetter(f,"pointerDirection","none"),s.Factory.addGetterSetter(f,"pointerWidth",0,l.getNumberValidator()),s.Factory.addGetterSetter(f,"pointerHeight",0,l.getNumberValidator()),s.Factory.addGetterSetter(f,"cornerRadius",0,l.getNumberValidator()),o.Collection.mapMethods(f)},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(4),a=n(12),c=n(6),l=n(5),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e,n,r,i=this.sides(),o=this.radius();for(t.beginPath(),t.moveTo(0,0-o),e=1;e<i;e++)n=o*Math.sin(2*e*Math.PI/i),r=-1*o*Math.cos(2*e*Math.PI/i),t.lineTo(n,r);t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(a.Shape);e.RegularPolygon=u,u.prototype.className="RegularPolygon",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["radius"],l._registerNode(u),s.Factory.addGetterSetter(u,"radius",0,c.getNumberValidator()),s.Factory.addGetterSetter(u,"sides",0,c.getNumberValidator()),o.Collection.mapMethods(u)},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(4),a=n(12),c=n(6),l=n(5),u=2*Math.PI,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,u,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),u,0,!0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(a.Shape);e.Ring=h,h.prototype.className="Ring",h.prototype._centroid=!0,h.prototype._attrsAffectingSize=["innerRadius","outerRadius"],l._registerNode(h),s.Factory.addGetterSetter(h,"innerRadius",0,c.getNumberValidator()),s.Factory.addGetterSetter(h,"outerRadius",0,c.getNumberValidator()),o.Collection.mapMethods(h)},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(4),a=n(12),c=n(56),l=n(6),u=n(5),h=function(t){function e(e){var n=t.call(this,e)||this;return n._updated=!0,n.anim=new c.Animation((function(){var t=n._updated;return n._updated=!1,t})),n.on("animationChange.konva",(function(){this.frameIndex(0)})),n.on("frameIndexChange.konva",(function(){this._updated=!0})),n.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})),n}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[e],o=this.frameOffsets(),s=i[r+0],a=i[r+1],c=i[r+2],l=i[r+3],u=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,c,l),t.closePath(),t.fillStrokeShape(this)),u)if(o){var h=o[e],d=2*n;t.drawImage(u,s,a,c,l,h[d+0],h[d+1],c,l)}else t.drawImage(u,s,a,c,l,0,0,c,l)},e.prototype._hitFunc=function(t){var e=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[e],o=this.frameOffsets(),s=i[r+2],a=i[r+3];if(t.beginPath(),o){var c=o[e],l=2*n;t.rect(c[l+0],c[l+1],s,a)}else t.rect(0,0,s,a);t.closePath(),t.fillShape(this)},e.prototype._useBufferCanvas=function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},e.prototype._setInterval=function(){var t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())},e.prototype.start=function(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}},e.prototype.stop=function(){this.anim.stop(),clearInterval(this.interval)},e.prototype.isRunning=function(){return this.anim.isRunning()},e.prototype._updateIndex=function(){var t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)},e}(a.Shape);e.Sprite=h,h.prototype.className="Sprite",u._registerNode(h),s.Factory.addGetterSetter(h,"animation"),s.Factory.addGetterSetter(h,"animations"),s.Factory.addGetterSetter(h,"frameOffsets"),s.Factory.addGetterSetter(h,"image"),s.Factory.addGetterSetter(h,"frameIndex",0,l.getNumberValidator()),s.Factory.addGetterSetter(h,"frameRate",17,l.getNumberValidator()),s.Factory.backCompat(h,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),o.Collection.mapMethods(h)},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(4),a=n(12),c=n(6),l=n(5),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.innerRadius(),n=this.outerRadius(),r=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var i=1;i<2*r;i++){var o=i%2==0?n:e,s=o*Math.sin(i*Math.PI/r),a=-1*o*Math.cos(i*Math.PI/r);t.lineTo(s,a)}t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(a.Shape);e.Star=u,u.prototype.className="Star",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["innerRadius","outerRadius"],l._registerNode(u),s.Factory.addGetterSetter(u,"numPoints",5,c.getNumberValidator()),s.Factory.addGetterSetter(u,"innerRadius",0,c.getNumberValidator()),s.Factory.addGetterSetter(u,"outerRadius",0,c.getNumberValidator()),o.Collection.mapMethods(u)},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(4),a=n(12),c=n(82),l=n(84),u=n(6),h=n(5);function d(t){t.fillText(this.partialText,0,0)}function p(t){t.strokeText(this.partialText,0,0)}var f=function(t){function e(e){var n=t.call(this,e)||this;return n.dummyCanvas=o.Util.createCanvasElement(),n.dataArray=[],n.dataArray=c.Path.parsePathData(n.attrs.data),n.on("dataChange.konva",(function(){this.dataArray=c.Path.parsePathData(this.attrs.data),this._setTextData()})),n.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva",n._setTextData),e&&e.getKerning&&(o.Util.warn('getKerning TextPath API is deprecated. Please use "kerningFunc" instead.'),n.kerningFunc(e.getKerning)),n._setTextData(),n}return i(e,t),e.prototype._sceneFunc=function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),n=this.fill(),r=this.fontSize(),i=this.glyphInfo;"underline"===e&&t.beginPath();for(var o=0;o<i.length;o++){t.save();var s=i[o].p0;t.translate(s.x,s.y),t.rotate(i[o].rotation),this.partialText=i[o].text,t.fillStrokeShape(this),"underline"===e&&(0===o&&t.moveTo(0,r/2+1),t.lineTo(r,r/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=n,t.lineWidth=r/20,t.stroke()),t.restore()},e.prototype._hitFunc=function(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var n=e[0].p0;t.moveTo(n.x,n.y)}for(var r=0;r<e.length;r++){var i=e[r].p1;t.lineTo(i.x,i.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return o.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.setText=function(t){return l.Text.prototype.setText.call(this,t)},e.prototype._getContextFont=function(){return l.Text.prototype._getContextFont.call(this)},e.prototype._getTextSize=function(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var n=e.measureText(t);return e.restore(),{width:n.width,height:parseInt(this.attrs.fontSize,10)}},e.prototype._setTextData=function(){var t=this,e=this._getTextSize(this.attrs.text),n=this.letterSpacing(),r=this.align(),i=this.kerningFunc();this.textWidth=e.width,this.textHeight=e.height;var o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var s=0,a=0;a<t.dataArray.length;a++)t.dataArray[a].pathLength>0&&(s+=t.dataArray[a].pathLength);var l=0;"center"===r&&(l=Math.max(0,s/2-o/2)),"right"===r&&(l=Math.max(0,s-o));for(var u,h,d,p=this.text().split(""),f=this.text().split(" ").length-1,g=-1,m=0,v=function(){m=0;for(var e=t.dataArray,n=g+1;n<e.length;n++){if(e[n].pathLength>0)return g=n,e[n];"M"===e[n].command&&(u={x:e[n].points[0],y:e[n].points[1]})}return{}},y=function(e){var i=t._getTextSize(e).width+n;" "===e&&"justify"===r&&(i+=(s-o)/f);var a=0,l=0;for(h=void 0;Math.abs(i-a)/i>.01&&l<25;){l++;for(var p=a;void 0===d;)(d=v())&&p+d.pathLength<i&&(p+=d.pathLength,d=void 0);if(d==={}||void 0===u)return;var g=!1;switch(d.command){case"L":c.Path.getLineLength(u.x,u.y,d.points[0],d.points[1])>i?h=c.Path.getPointOnLine(i,u.x,u.y,d.points[0],d.points[1],u.x,u.y):d=void 0;break;case"A":var y=d.points[4],b=d.points[5],w=d.points[4]+b;0===m?m=y+1e-8:i>a?m+=Math.PI/180*b/Math.abs(b):m-=Math.PI/360*b/Math.abs(b),(b<0&&m<w||b>=0&&m>w)&&(m=w,g=!0),h=c.Path.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],m,d.points[6]);break;case"C":0===m?m=i>d.pathLength?1e-8:i/d.pathLength:i>a?m+=(i-a)/d.pathLength:m-=(a-i)/d.pathLength,m>1&&(m=1,g=!0),h=c.Path.getPointOnCubicBezier(m,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3],d.points[4],d.points[5]);break;case"Q":0===m?m=i/d.pathLength:i>a?m+=(i-a)/d.pathLength:m-=(a-i)/d.pathLength,m>1&&(m=1,g=!0),h=c.Path.getPointOnQuadraticBezier(m,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3])}void 0!==h&&(a=c.Path.getLineLength(u.x,u.y,h.x,h.y)),g&&(g=!1,d=void 0)}},b=l/(t._getTextSize("C").width+n)-1,w=0;w<b&&(y("C"),void 0!==u&&void 0!==h);w++)u=h;for(var _=0;_<p.length&&(y(p[_]),void 0!==u&&void 0!==h);_++){var x=c.Path.getLineLength(u.x,u.y,h.x,h.y),O=0;if(i)try{O=i(p[_-1],p[_])*this.fontSize()}catch(t){O=0}u.x+=O,h.x+=O,this.textWidth+=O;var S=c.Path.getPointOnLine(O+x/2,u.x,u.y,h.x,h.y),j=Math.atan2(h.y-u.y,h.x-u.x);this.glyphInfo.push({transposeX:S.x,transposeY:S.y,text:p[_],rotation:j,p0:u,p1:h}),u=h}},e.prototype.getSelfRect=function(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));for(var e,n,r=t[0]||0,i=t[0]||0,o=t[1]||0,s=t[1]||0,a=0;a<t.length/2;a++)e=t[2*a],n=t[2*a+1],r=Math.min(r,e),i=Math.max(i,e),o=Math.min(o,n),s=Math.max(s,n);var c=this.fontSize();return{x:Math.round(r)-c/2,y:Math.round(o)-c/2,width:Math.round(i-r)+c,height:Math.round(s-o)+c}},e}(a.Shape);e.TextPath=f,f.prototype._fillFunc=d,f.prototype._strokeFunc=p,f.prototype._fillFuncHit=d,f.prototype._strokeFuncHit=p,f.prototype.className="TextPath",f.prototype._attrsAffectingSize=["text","fontSize","data"],h._registerNode(f),s.Factory.addGetterSetter(f,"data"),s.Factory.addGetterSetter(f,"fontFamily","Arial"),s.Factory.addGetterSetter(f,"fontSize",12,u.getNumberValidator()),s.Factory.addGetterSetter(f,"fontStyle","normal"),s.Factory.addGetterSetter(f,"align","left"),s.Factory.addGetterSetter(f,"letterSpacing",0,u.getNumberValidator()),s.Factory.addGetterSetter(f,"textBaseline","middle"),s.Factory.addGetterSetter(f,"fontVariant","normal"),s.Factory.addGetterSetter(f,"text",""),s.Factory.addGetterSetter(f,"textDecoration",null),s.Factory.addGetterSetter(f,"kerningFunc",null),o.Collection.mapMethods(f)},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(4),a=n(9),c=n(12),l=n(83),u=n(55),h=n(5),d=n(6),p=n(5),f=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((function(t){return t+".tr-konva"})).join(" "),g=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"].map((function(t){return t+".tr-konva"})).join(" "),m={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},v="ontouchstart"in h.Konva._global;var y=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],b=function(t){function e(e){var n=t.call(this,e)||this;return n._transforming=!1,n._createElements(),n._handleMouseMove=n._handleMouseMove.bind(n),n._handleMouseUp=n._handleMouseUp.bind(n),n.update=n.update.bind(n),n.on(f,n.update),n.getNode()&&n.update(),n}return i(e,t),e.prototype.attachTo=function(t){return this.setNode(t),this},e.prototype.setNode=function(t){var e=this;this._node&&this.detach(),this._node=t,this._resetTransformCache();var n=t._attrsAffectingSize.map((function(t){return t+"Change.tr-konva"})).join(" "),r=function(){e._resetTransformCache(),e._transforming||e.update()};return t.on(n,r),t.on(g,r),t.on("xChange.tr-konva yChange.tr-konva",(function(){return e._resetTransformCache()})),!!this.findOne(".top-left")&&this.update(),this},e.prototype.getNode=function(){return this._node},e.prototype.detach=function(){this.getNode()&&(this.getNode().off(".tr-konva"),this._node=void 0),this._resetTransformCache()},e.prototype._resetTransformCache=function(){this._clearCache("nodeRect"),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},e.prototype._getNodeRect=function(){return this._getCache("nodeRect",this.__getNodeRect)},e.prototype.__getNodeRect=function(){var t=this.getNode();if(!t)return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};t.parent&&this.parent&&t.parent!==this.parent&&o.Util.warn("Transformer and attached node have different parents. Konva does not support such case right now. Please move Transformer to the parent of attaching node.");var e=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),n=h.Konva.getAngle(t.rotation()),r=e.x*t.scaleX()-t.offsetX()*t.scaleX(),i=e.y*t.scaleY()-t.offsetY()*t.scaleY();return{x:t.x()+r*Math.cos(n)+i*Math.sin(-n),y:t.y()+i*Math.cos(n)+r*Math.sin(n),width:e.width*t.scaleX(),height:e.height*t.scaleY(),rotation:t.rotation()}},e.prototype.getX=function(){return this._getNodeRect().x},e.prototype.getY=function(){return this._getNodeRect().y},e.prototype.getRotation=function(){return this._getNodeRect().rotation},e.prototype.getWidth=function(){return this._getNodeRect().width},e.prototype.getHeight=function(){return this._getNodeRect().height},e.prototype._createElements=function(){this._createBack(),y.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")},e.prototype._createAnchor=function(t){var e=this,n=new l.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:v?10:"auto"}),r=this;n.on("mousedown touchstart",(function(t){r._handleMouseDown(t)})),n.on("dragstart",(function(t){t.cancelBubble=!0})),n.on("dragmove",(function(t){t.cancelBubble=!0})),n.on("dragend",(function(t){t.cancelBubble=!0})),n.on("mouseenter",(function(){var r=h.Konva.getAngle(e.getAbsoluteRotation()),i=e.getNode().getAbsoluteScale(),s=i.y*i.x<0,a=function(t,e,n){if("rotater"===t)return"crosshair";e+=o.Util._degToRad(m[t]||0),n&&(e*=-1);var r=(o.Util._radToDeg(e)%360+360)%360;return o.Util._inRange(r,337.5,360)||o.Util._inRange(r,0,22.5)?"ns-resize":o.Util._inRange(r,22.5,67.5)?"nesw-resize":o.Util._inRange(r,67.5,112.5)?"ew-resize":o.Util._inRange(r,112.5,157.5)?"nwse-resize":o.Util._inRange(r,157.5,202.5)?"ns-resize":o.Util._inRange(r,202.5,247.5)?"nesw-resize":o.Util._inRange(r,247.5,292.5)?"ew-resize":o.Util._inRange(r,292.5,337.5)?"nwse-resize":(o.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}(t,r,s);n.getStage().content.style.cursor=a,e._cursorChange=!0})),n.on("mouseout",(function(){n.getStage()&&n.getParent()&&(n.getStage().content.style.cursor="",e._cursorChange=!1)})),this.add(n)},e.prototype._createBack=function(){var t=new c.Shape({name:"back",width:0,height:0,listening:!1,sceneFunc:function(t){var e=this.getParent(),n=e.padding();t.beginPath(),t.rect(-n,-n,this.width()+2*n,this.height()+2*n),t.moveTo(this.width()/2,-n),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*o.Util._sign(this.height())-n),t.fillStrokeShape(this)}});this.add(t)},e.prototype._handleMouseDown=function(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),n=e.width,r=e.height,i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));this.sin=Math.abs(r/i),this.cos=Math.abs(n/i),window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0),this._transforming=!0,this._fire("transformstart",{evt:t}),this.getNode()._fire("transformstart",{evt:t})},e.prototype._handleMouseMove=function(t){var e,n,r,i=this.findOne("."+this._movingAnchorName),s=i.getStage().getContent().getBoundingClientRect(),a=s.left,c=s.top,l={x:(void 0!==t.clientX?t.clientX:t.touches[0].clientX)-a,y:(void 0!==t.clientX?t.clientY:t.touches[0].clientY)-c};i.setAbsolutePosition(l);var u=this.keepRatio()||t.shiftKey,d=this.padding();if("top-left"===this._movingAnchorName){if(u){r=Math.sqrt(Math.pow(this.findOne(".bottom-right").x()-i.x()-2*d,2)+Math.pow(this.findOne(".bottom-right").y()-i.y()-2*d,2));var p=this.findOne(".top-left").x()>this.findOne(".bottom-right").x()?-1:1,f=this.findOne(".top-left").y()>this.findOne(".bottom-right").y()?-1:1;e=r*this.cos*p,n=r*this.sin*f,this.findOne(".top-left").x(this.findOne(".bottom-right").x()-e-2*d),this.findOne(".top-left").y(this.findOne(".bottom-right").y()-n-2*d)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(i.y());else if("top-right"===this._movingAnchorName){if(u){r=Math.sqrt(Math.pow(i.x()-this.findOne(".bottom-left").x()-2*d,2)+Math.pow(this.findOne(".bottom-left").y()-i.y()-2*d,2));p=this.findOne(".top-right").x()<this.findOne(".top-left").x()?-1:1,f=this.findOne(".top-right").y()>this.findOne(".bottom-left").y()?-1:1;e=r*this.cos*p,n=r*this.sin*f,this.findOne(".top-right").x(e+d),this.findOne(".top-right").y(this.findOne(".bottom-left").y()-n-2*d)}var g=i.position();this.findOne(".top-left").y(g.y),this.findOne(".bottom-right").x(g.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(i.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(i.x());else if("bottom-left"===this._movingAnchorName){if(u){r=Math.sqrt(Math.pow(this.findOne(".top-right").x()-i.x()-2*d,2)+Math.pow(i.y()-this.findOne(".top-right").y()-2*d,2));p=this.findOne(".top-right").x()<this.findOne(".bottom-left").x()?-1:1,f=this.findOne(".bottom-right").y()<this.findOne(".top-left").y()?-1:1;e=r*this.cos*p,n=r*this.sin*f,this.findOne(".bottom-left").x(this.findOne(".top-right").x()-e-2*d),this.findOne(".bottom-left").y(n+d)}g=i.position(),this.findOne(".top-left").x(g.x),this.findOne(".bottom-right").y(g.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(i.y());else if("bottom-right"===this._movingAnchorName){if(u){r=Math.sqrt(Math.pow(this.findOne(".bottom-right").x()-d,2)+Math.pow(this.findOne(".bottom-right").y()-d,2));p=this.findOne(".top-left").x()>this.findOne(".bottom-right").x()?-1:1,f=this.findOne(".top-left").y()>this.findOne(".bottom-right").y()?-1:1;e=r*this.cos*p,n=r*this.sin*f,this.findOne(".bottom-right").x(e+d),this.findOne(".bottom-right").y(n+d)}}else if("rotater"===this._movingAnchorName){var m=this._getNodeRect();e=i.x()-m.width/2,n=-i.y()+m.height/2;var v=Math.atan2(-n,e)+Math.PI/2;m.height<0&&(v-=Math.PI);for(var y=h.Konva.getAngle(this.rotation()),b=o.Util._radToDeg(y)+o.Util._radToDeg(v),w=h.Konva.getAngle(this.getNode().rotation()),_=o.Util._degToRad(b),x=this.rotationSnaps(),O=0;O<x.length;O++){var S=h.Konva.getAngle(x[O]);Math.abs(S-o.Util._degToRad(b))%(2*Math.PI)<.1&&(b=o.Util._radToDeg(S),_=o.Util._degToRad(b))}var j=d,E=d;this._fitNodeInto({rotation:h.Konva.angleDeg?b:o.Util._degToRad(b),x:m.x+(m.width/2+d)*(Math.cos(w)-Math.cos(_))+(m.height/2+d)*(Math.sin(-w)-Math.sin(-_))-(j*Math.cos(y)+E*Math.sin(-y)),y:m.y+(m.height/2+d)*(Math.cos(w)-Math.cos(_))+(m.width/2+d)*(Math.sin(w)-Math.sin(_))-(E*Math.cos(y)+j*Math.sin(y)),width:m.width+2*d,height:m.height+2*d},t)}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if("rotater"!==this._movingAnchorName){if(this.centeredScaling()||t.altKey){var T=this.findOne(".top-left"),P=this.findOne(".bottom-right"),C=T.x()+d,A=T.y()+d,k=this.getWidth()-P.x()+d,D=this.getHeight()-P.y()+d;P.move({x:-C,y:-A}),T.move({x:k,y:D})}var I=this.findOne(".top-left").getAbsolutePosition(this.getParent());e=I.x,n=I.y;var M=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),R=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodeInto({x:e+this.offsetX(),y:n+this.offsetY(),width:M,height:R},t)}},e.prototype._handleMouseUp=function(t){this._removeEvents(t)},e.prototype._removeEvents=function(t){if(this._transforming){this._transforming=!1,window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0),this._fire("transformend",{evt:t});var e=this.getNode();e&&e.fire("transformend",{evt:t})}},e.prototype._fitNodeInto=function(t,e){var n=this.boundBoxFunc();if(n){var r=this._getNodeRect();t=n.call(this,r,t)}var i=this.getNode();void 0!==t.rotation&&this.getNode().rotation(t.rotation);var o=i.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=this.padding(),a=o.width?(t.width-2*s)/o.width:1,c=o.height?(t.height-2*s)/o.height:1,l=h.Konva.getAngle(i.rotation()),u=o.x*a-s-i.offsetX()*a,d=o.y*c-s-i.offsetY()*c;this.getNode().setAttrs({scaleX:a,scaleY:c,x:t.x-(u*Math.cos(l)+d*Math.sin(-l)),y:t.y-(d*Math.cos(l)+u*Math.sin(l))}),this._fire("transform",{evt:e}),this.getNode()._fire("transform",{evt:e}),this.update(),this.getLayer().batchDraw()},e.prototype.forceUpdate=function(){this._resetTransformCache(),this.update()},e.prototype.update=function(){var t=this,e=this._getNodeRect(),n=this.getNode(),r={x:1,y:1};n&&n.getParent()&&(r=n.getParent().getAbsoluteScale());var i={x:1/r.x,y:1/r.y},s=e.width,a=e.height,c=this.enabledAnchors(),l=this.resizeEnabled(),u=this.padding(),h=this.anchorSize();this.find("._anchor").each((function(e){return e.setAttrs({width:h,height:h,offsetX:h/2,offsetY:h/2,stroke:t.anchorStroke(),strokeWidth:t.anchorStrokeWidth(),fill:t.anchorFill(),cornerRadius:t.anchorCornerRadius()})})),this.findOne(".top-left").setAttrs({x:-u,y:-u,scale:i,visible:l&&c.indexOf("top-left")>=0}),this.findOne(".top-center").setAttrs({x:s/2,y:-u,scale:i,visible:l&&c.indexOf("top-center")>=0}),this.findOne(".top-right").setAttrs({x:s+u,y:-u,scale:i,visible:l&&c.indexOf("top-right")>=0}),this.findOne(".middle-left").setAttrs({x:-u,y:a/2,scale:i,visible:l&&c.indexOf("middle-left")>=0}),this.findOne(".middle-right").setAttrs({x:s+u,y:a/2,scale:i,visible:l&&c.indexOf("middle-right")>=0}),this.findOne(".bottom-left").setAttrs({x:-u,y:a+u,scale:i,visible:l&&c.indexOf("bottom-left")>=0}),this.findOne(".bottom-center").setAttrs({x:s/2,y:a+u,scale:i,visible:l&&c.indexOf("bottom-center")>=0}),this.findOne(".bottom-right").setAttrs({x:s+u,y:a+u,scale:i,visible:l&&c.indexOf("bottom-right")>=0});var d=-this.rotateAnchorOffset()*Math.abs(i.y);this.findOne(".rotater").setAttrs({x:s/2,y:d*o.Util._sign(a)-u,scale:i,visible:this.rotateEnabled()}),this.findOne(".back").setAttrs({width:s*r.x,height:a*r.y,scale:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash()})},e.prototype.isTransforming=function(){return this._transforming},e.prototype.stopTransform=function(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}},e.prototype.destroy=function(){return this.getStage()&&this._cursorChange&&(this.getStage().content.style.cursor=""),u.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this},e.prototype.toObject=function(){return a.Node.prototype.toObject.call(this)},e}(u.Group);e.Transformer=b,b.prototype.className="Transformer",p._registerNode(b),s.Factory.addGetterSetter(b,"enabledAnchors",y,(function(t){return t instanceof Array||o.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach((function(t){-1===y.indexOf(t)&&o.Util.warn("Unknown anchor name: "+t+". Available names are: "+y.join(", "))})),t||[]})),s.Factory.addGetterSetter(b,"resizeEnabled",!0),s.Factory.addGetterSetter(b,"anchorSize",10,d.getNumberValidator()),s.Factory.addGetterSetter(b,"rotateEnabled",!0),s.Factory.addGetterSetter(b,"rotationSnaps",[]),s.Factory.addGetterSetter(b,"rotateAnchorOffset",50,d.getNumberValidator()),s.Factory.addGetterSetter(b,"borderEnabled",!0),s.Factory.addGetterSetter(b,"anchorStroke","rgb(0, 161, 255)"),s.Factory.addGetterSetter(b,"anchorStrokeWidth",1,d.getNumberValidator()),s.Factory.addGetterSetter(b,"anchorFill","white"),s.Factory.addGetterSetter(b,"anchorCornerRadius",0,d.getNumberValidator()),s.Factory.addGetterSetter(b,"borderStroke","rgb(0, 161, 255)"),s.Factory.addGetterSetter(b,"borderStrokeWidth",1,d.getNumberValidator()),s.Factory.addGetterSetter(b,"borderDash"),s.Factory.addGetterSetter(b,"keepRatio",!0),s.Factory.addGetterSetter(b,"centeredScaling",!1),s.Factory.addGetterSetter(b,"ignoreStroke",!1),s.Factory.addGetterSetter(b,"padding",0,d.getNumberValidator()),s.Factory.addGetterSetter(b,"node"),s.Factory.addGetterSetter(b,"boundBoxFunc"),s.Factory.backCompat(b,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),o.Collection.mapMethods(b)},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(4),a=n(12),c=n(5),l=n(6),u=n(5),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,c.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(a.Shape);e.Wedge=h,h.prototype.className="Wedge",h.prototype._centroid=!0,h.prototype._attrsAffectingSize=["radius"],u._registerNode(h),s.Factory.addGetterSetter(h,"radius",0,l.getNumberValidator()),s.Factory.addGetterSetter(h,"angle",0,l.getNumberValidator()),s.Factory.addGetterSetter(h,"clockwise",!1),s.Factory.backCompat(h,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),o.Collection.mapMethods(h)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(9),o=n(6);function s(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var a=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],c=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];e.Blur=function(t){var e=Math.round(this.blurRadius());e>0&&function(t,e){var n,r,i,o,l,u,h,d,p,f,g,m,v,y,b,w,_,x,O,S,j,E,T,P,C=t.data,A=t.width,k=t.height,D=e+e+1,I=A-1,M=k-1,R=e+1,L=R*(R+1)/2,N=new s,F=null,B=N,U=null,z=null,X=a[e],Y=c[e];for(i=1;i<D;i++)B=B.next=new s,i===R&&(F=B);for(B.next=N,h=u=0,r=0;r<k;r++){for(w=_=x=O=d=p=f=g=0,m=R*(S=C[u]),v=R*(j=C[u+1]),y=R*(E=C[u+2]),b=R*(T=C[u+3]),d+=L*S,p+=L*j,f+=L*E,g+=L*T,B=N,i=0;i<R;i++)B.r=S,B.g=j,B.b=E,B.a=T,B=B.next;for(i=1;i<R;i++)o=u+((I<i?I:i)<<2),d+=(B.r=S=C[o])*(P=R-i),p+=(B.g=j=C[o+1])*P,f+=(B.b=E=C[o+2])*P,g+=(B.a=T=C[o+3])*P,w+=S,_+=j,x+=E,O+=T,B=B.next;for(U=N,z=F,n=0;n<A;n++)C[u+3]=T=g*X>>Y,0!==T?(T=255/T,C[u]=(d*X>>Y)*T,C[u+1]=(p*X>>Y)*T,C[u+2]=(f*X>>Y)*T):C[u]=C[u+1]=C[u+2]=0,d-=m,p-=v,f-=y,g-=b,m-=U.r,v-=U.g,y-=U.b,b-=U.a,o=h+((o=n+e+1)<I?o:I)<<2,d+=w+=U.r=C[o],p+=_+=U.g=C[o+1],f+=x+=U.b=C[o+2],g+=O+=U.a=C[o+3],U=U.next,m+=S=z.r,v+=j=z.g,y+=E=z.b,b+=T=z.a,w-=S,_-=j,x-=E,O-=T,z=z.next,u+=4;h+=A}for(n=0;n<A;n++){for(_=x=O=w=p=f=g=d=0,m=R*(S=C[u=n<<2]),v=R*(j=C[u+1]),y=R*(E=C[u+2]),b=R*(T=C[u+3]),d+=L*S,p+=L*j,f+=L*E,g+=L*T,B=N,i=0;i<R;i++)B.r=S,B.g=j,B.b=E,B.a=T,B=B.next;for(l=A,i=1;i<=e;i++)u=l+n<<2,d+=(B.r=S=C[u])*(P=R-i),p+=(B.g=j=C[u+1])*P,f+=(B.b=E=C[u+2])*P,g+=(B.a=T=C[u+3])*P,w+=S,_+=j,x+=E,O+=T,B=B.next,i<M&&(l+=A);for(u=n,U=N,z=F,r=0;r<k;r++)C[(o=u<<2)+3]=T=g*X>>Y,T>0?(T=255/T,C[o]=(d*X>>Y)*T,C[o+1]=(p*X>>Y)*T,C[o+2]=(f*X>>Y)*T):C[o]=C[o+1]=C[o+2]=0,d-=m,p-=v,f-=y,g-=b,m-=U.r,v-=U.g,y-=U.b,b-=U.a,o=n+((o=r+R)<M?o:M)*A<<2,d+=w+=U.r=C[o],p+=_+=U.g=C[o+1],f+=x+=U.b=C[o+2],g+=O+=U.a=C[o+3],U=U.next,m+=S=z.r,v+=j=z.g,y+=E=z.b,b+=T=z.a,w-=S,_-=j,x-=E,O-=T,z=z.next,u+=A}}(t,e)},r.Factory.addGetterSetter(i.Node,"blurRadius",0,o.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(9),o=n(6);e.Brighten=function(t){var e,n=255*this.brightness(),r=t.data,i=r.length;for(e=0;e<i;e+=4)r[e]+=n,r[e+1]+=n,r[e+2]+=n},r.Factory.addGetterSetter(i.Node,"brightness",0,o.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(9),o=n(6);e.Contrast=function(t){var e,n=Math.pow((this.contrast()+100)/100,2),r=t.data,i=r.length,o=150,s=150,a=150;for(e=0;e<i;e+=4)o=r[e],s=r[e+1],a=r[e+2],o/=255,o-=.5,o*=n,o+=.5,s/=255,s-=.5,s*=n,s+=.5,a/=255,a-=.5,a*=n,a+=.5,o=(o*=255)<0?0:o>255?255:o,s=(s*=255)<0?0:s>255?255:s,a=(a*=255)<0?0:a>255?255:a,r[e]=o,r[e+1]=s,r[e+2]=a},r.Factory.addGetterSetter(i.Node,"contrast",0,o.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(9),o=n(7),s=n(6);e.Emboss=function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),r=this.embossDirection(),i=this.embossBlend(),s=0,a=0,c=t.data,l=t.width,u=t.height,h=4*l,d=u;switch(r){case"top-left":s=-1,a=-1;break;case"top":s=-1,a=0;break;case"top-right":s=-1,a=1;break;case"right":s=0,a=1;break;case"bottom-right":s=1,a=1;break;case"bottom":s=1,a=0;break;case"bottom-left":s=1,a=-1;break;case"left":s=0,a=-1;break;default:o.Util.error("Unknown emboss direction: "+r)}do{var p=(d-1)*h,f=s;d+f<1&&(f=0),d+f>u&&(f=0);var g=(d-1+f)*l*4,m=l;do{var v=p+4*(m-1),y=a;m+y<1&&(y=0),m+y>l&&(y=0);var b=g+4*(m-1+y),w=c[v]-c[b],_=c[v+1]-c[b+1],x=c[v+2]-c[b+2],O=w,S=O>0?O:-O;if((_>0?_:-_)>S&&(O=_),(x>0?x:-x)>S&&(O=x),O*=e,i){var j=c[v]+O,E=c[v+1]+O,T=c[v+2]+O;c[v]=j>255?255:j<0?0:j,c[v+1]=E>255?255:E<0?0:E,c[v+2]=T>255?255:T<0?0:T}else{var P=n-O;P<0?P=0:P>255&&(P=255),c[v]=c[v+1]=c[v+2]=P}}while(--m)}while(--d)},r.Factory.addGetterSetter(i.Node,"embossStrength",.5,s.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossWhiteLevel",.5,s.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossDirection","top-left",null,r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossBlend",!1,null,r.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(9),o=n(6);function s(t,e,n,r,i){var o=n-e,s=i-r;return 0===o?r+s/2:0===s?r:s*((t-e)/o)+r}e.Enhance=function(t){var e,n,r,i,o=t.data,a=o.length,c=o[0],l=c,u=o[1],h=u,d=o[2],p=d,f=this.enhance();if(0!==f){for(i=0;i<a;i+=4)(e=o[i+0])<c?c=e:e>l&&(l=e),(n=o[i+1])<u?u=n:n>h&&(h=n),(r=o[i+2])<d?d=r:r>p&&(p=r);var g,m,v,y,b,w,_,x,O;for(l===c&&(l=255,c=0),h===u&&(h=255,u=0),p===d&&(p=255,d=0),f>0?(m=l+f*(255-l),v=c-f*(c-0),b=h+f*(255-h),w=u-f*(u-0),x=p+f*(255-p),O=d-f*(d-0)):(m=l+f*(l-(g=.5*(l+c))),v=c+f*(c-g),b=h+f*(h-(y=.5*(h+u))),w=u+f*(u-y),x=p+f*(p-(_=.5*(p+d))),O=d+f*(d-_)),i=0;i<a;i+=4)o[i+0]=s(o[i+0],c,l,v,m),o[i+1]=s(o[i+1],u,h,w,b),o[i+2]=s(o[i+2],d,p,O,x)}},r.Factory.addGetterSetter(i.Node,"enhance",0,o.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Grayscale=function(t){var e,n,r=t.data,i=r.length;for(e=0;e<i;e+=4)n=.34*r[e]+.5*r[e+1]+.16*r[e+2],r[e]=n,r[e+1]=n,r[e+2]=n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(9),o=n(6);r.Factory.addGetterSetter(i.Node,"hue",0,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"saturation",0,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"luminance",0,o.getNumberValidator(),r.Factory.afterSetFilter),e.HSL=function(t){var e,n,r,i,o,s=t.data,a=s.length,c=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u=127*this.luminance(),h=1*c*Math.cos(l*Math.PI/180),d=1*c*Math.sin(l*Math.PI/180),p=.299+.701*h+.167*d,f=.587-.587*h+.33*d,g=.114-.114*h-.497*d,m=.299-.299*h-.328*d,v=.587+.413*h+.035*d,y=.114-.114*h+.293*d,b=.299-.3*h+1.25*d,w=.587-.586*h-1.05*d,_=.114+.886*h-.2*d;for(e=0;e<a;e+=4)n=s[e+0],r=s[e+1],i=s[e+2],o=s[e+3],s[e+0]=p*n+f*r+g*i+u,s[e+1]=m*n+v*r+y*i+u,s[e+2]=b*n+w*r+_*i+u,s[e+3]=o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(9),o=n(6);e.HSV=function(t){var e,n,r,i,o,s=t.data,a=s.length,c=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,h=c*l*Math.cos(u*Math.PI/180),d=c*l*Math.sin(u*Math.PI/180),p=.299*c+.701*h+.167*d,f=.587*c-.587*h+.33*d,g=.114*c-.114*h-.497*d,m=.299*c-.299*h-.328*d,v=.587*c+.413*h+.035*d,y=.114*c-.114*h+.293*d,b=.299*c-.3*h+1.25*d,w=.587*c-.586*h-1.05*d,_=.114*c+.886*h-.2*d;for(e=0;e<a;e+=4)n=s[e+0],r=s[e+1],i=s[e+2],o=s[e+3],s[e+0]=p*n+f*r+g*i,s[e+1]=m*n+v*r+y*i,s[e+2]=b*n+w*r+_*i,s[e+3]=o},r.Factory.addGetterSetter(i.Node,"hue",0,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"saturation",0,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"value",0,o.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Invert=function(t){var e,n=t.data,r=n.length;for(e=0;e<r;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(9),o=n(7),s=n(6);e.Kaleidoscope=function(t){var e,n,r,i,s,a,c,l,u,h=t.width,d=t.height,p=Math.round(this.kaleidoscopePower()),f=Math.round(this.kaleidoscopeAngle()),g=Math.floor(h*(f%360)/360);if(!(p<1)){var m=o.Util.createCanvasElement();m.width=h,m.height=d;var v=m.getContext("2d").getImageData(0,0,h,d);!function(t,e,n){var r,i,o,s,a=t.data,c=e.data,l=t.width,u=t.height,h=n.polarCenterX||l/2,d=n.polarCenterY||u/2,p=0,f=0,g=0,m=0,v=Math.sqrt(h*h+d*d);i=l-h,o=u-d,v=(s=Math.sqrt(i*i+o*o))>v?s:v;var y,b,w,_,x=u,O=l,S=360/O*Math.PI/180;for(b=0;b<O;b+=1)for(w=Math.sin(b*S),_=Math.cos(b*S),y=0;y<x;y+=1)i=Math.floor(h+v*y/x*_),p=a[(r=4*((o=Math.floor(d+v*y/x*w))*l+i))+0],f=a[r+1],g=a[r+2],m=a[r+3],c[(r=4*(b+y*l))+0]=p,c[r+1]=f,c[r+2]=g,c[r+3]=m}(t,v,{polarCenterX:h/2,polarCenterY:d/2});for(var y=h/Math.pow(2,p);y<=8;)y*=2,p-=1;var b=y=Math.ceil(y),w=0,_=b,x=1;for(g+y>h&&(w=b,_=0,x=-1),n=0;n<d;n+=1)for(e=w;e!==_;e+=x)l=4*(h*n+Math.round(e+g)%h),i=v.data[l+0],s=v.data[l+1],a=v.data[l+2],c=v.data[l+3],u=4*(h*n+e),v.data[u+0]=i,v.data[u+1]=s,v.data[u+2]=a,v.data[u+3]=c;for(n=0;n<d;n+=1)for(b=Math.floor(y),r=0;r<p;r+=1){for(e=0;e<b+1;e+=1)l=4*(h*n+e),i=v.data[l+0],s=v.data[l+1],a=v.data[l+2],c=v.data[l+3],u=4*(h*n+2*b-e-1),v.data[u+0]=i,v.data[u+1]=s,v.data[u+2]=a,v.data[u+3]=c;b*=2}!function(t,e,n){var r,i,o,s,a,c,l=t.data,u=e.data,h=t.width,d=t.height,p=n.polarCenterX||h/2,f=n.polarCenterY||d/2,g=0,m=0,v=0,y=0,b=Math.sqrt(p*p+f*f);i=h-p,o=d-f,b=(c=Math.sqrt(i*i+o*o))>b?c:b;var w,_,x,O=d,S=h,j=n.polarRotation||0;for(i=0;i<h;i+=1)for(o=0;o<d;o+=1)s=i-p,a=o-f,w=Math.sqrt(s*s+a*a)*O/b,_=(_=(180*Math.atan2(a,s)/Math.PI+360+j)%360)*S/360,x=Math.floor(_),g=l[(r=4*(Math.floor(w)*h+x))+0],m=l[r+1],v=l[r+2],y=l[r+3],u[(r=4*(o*h+i))+0]=g,u[r+1]=m,u[r+2]=v,u[r+3]=y}(v,t,{polarRotation:0})}},r.Factory.addGetterSetter(i.Node,"kaleidoscopePower",2,s.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"kaleidoscopeAngle",0,s.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(9),o=n(6);function s(t,e,n){var r=4*(n*t.width+e),i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function a(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}e.Mask=function(t){var e=function(t,e){var n=s(t,0,0),r=s(t,t.width-1,0),i=s(t,0,t.height-1),o=s(t,t.width-1,t.height-1),c=e||10;if(a(n,r)<c&&a(r,o)<c&&a(o,i)<c&&a(i,n)<c){for(var l=function(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([r,n,o,i]),u=[],h=0;h<t.width*t.height;h++){var d=a(l,[t.data[4*h],t.data[4*h+1],t.data[4*h+2]]);u[h]=d<c?0:255}return u}}(t,this.threshold());return e&&function(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}(t,e=function(t,e,n){for(var r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[],a=0;a<n;a++)for(var c=0;c<e;c++){for(var l=a*e+c,u=0,h=0;h<i;h++)for(var d=0;d<i;d++){var p=a+h-o,f=c+d-o;if(p>=0&&p<n&&f>=0&&f<e){var g=r[h*i+d];u+=t[p*e+f]*g}}s[l]=u}return s}(e=function(t,e,n){for(var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[],a=0;a<n;a++)for(var c=0;c<e;c++){for(var l=a*e+c,u=0,h=0;h<i;h++)for(var d=0;d<i;d++){var p=a+h-o,f=c+d-o;if(p>=0&&p<n&&f>=0&&f<e){var g=r[h*i+d];u+=t[p*e+f]*g}}s[l]=u>=1020?255:0}return s}(e=function(t,e,n){for(var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[],a=0;a<n;a++)for(var c=0;c<e;c++){for(var l=a*e+c,u=0,h=0;h<i;h++)for(var d=0;d<i;d++){var p=a+h-o,f=c+d-o;if(p>=0&&p<n&&f>=0&&f<e){var g=r[h*i+d];u+=t[p*e+f]*g}}s[l]=2040===u?255:0}return s}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},r.Factory.addGetterSetter(i.Node,"threshold",0,o.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(9),o=n(6);e.Noise=function(t){var e,n=255*this.noise(),r=t.data,i=r.length,o=n/2;for(e=0;e<i;e+=4)r[e+0]+=o-2*o*Math.random(),r[e+1]+=o-2*o*Math.random(),r[e+2]+=o-2*o*Math.random()},r.Factory.addGetterSetter(i.Node,"noise",.2,o.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(7),o=n(9),s=n(6);e.Pixelate=function(t){var e,n,r,o,s,a,c,l,u,h,d,p,f,g,m=Math.ceil(this.pixelSize()),v=t.width,y=t.height,b=Math.ceil(v/m),w=Math.ceil(y/m),_=t.data;if(m<=0)i.Util.error("pixelSize value can not be <= 0");else for(p=0;p<b;p+=1)for(f=0;f<w;f+=1){for(o=0,s=0,a=0,c=0,u=(l=p*m)+m,d=(h=f*m)+m,g=0,e=l;e<u;e+=1)if(!(e>=v))for(n=h;n<d;n+=1)n>=y||(o+=_[(r=4*(v*n+e))+0],s+=_[r+1],a+=_[r+2],c+=_[r+3],g+=1);for(o/=g,s/=g,a/=g,c/=g,e=l;e<u;e+=1)if(!(e>=v))for(n=h;n<d;n+=1)n>=y||(_[(r=4*(v*n+e))+0]=o,_[r+1]=s,_[r+2]=a,_[r+3]=c)}},r.Factory.addGetterSetter(o.Node,"pixelSize",8,s.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(9),o=n(6);e.Posterize=function(t){var e,n=Math.round(254*this.levels())+1,r=t.data,i=r.length,o=255/n;for(e=0;e<i;e+=1)r[e]=Math.floor(r[e]/o)*o},r.Factory.addGetterSetter(i.Node,"levels",.5,o.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(9),o=n(6);e.RGB=function(t){var e,n,r=t.data,i=r.length,o=this.red(),s=this.green(),a=this.blue();for(e=0;e<i;e+=4)n=(.34*r[e]+.5*r[e+1]+.16*r[e+2])/255,r[e]=n*o,r[e+1]=n*s,r[e+2]=n*a,r[e+3]=r[e+3]},r.Factory.addGetterSetter(i.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(i.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(i.Node,"blue",0,o.RGBComponent,r.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(9),o=n(6);e.RGBA=function(t){var e,n,r=t.data,i=r.length,o=this.red(),s=this.green(),a=this.blue(),c=this.alpha();for(e=0;e<i;e+=4)n=1-c,r[e]=o*c+r[e]*n,r[e+1]=s*c+r[e+1]*n,r[e+2]=a*c+r[e+2]*n},r.Factory.addGetterSetter(i.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(i.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(i.Node,"blue",0,o.RGBComponent,r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sepia=function(t){var e,n,r,i,o=t.data,s=o.length;for(e=0;e<s;e+=4)n=o[e+0],r=o[e+1],i=o[e+2],o[e+0]=Math.min(255,.393*n+.769*r+.189*i),o[e+1]=Math.min(255,.349*n+.686*r+.168*i),o[e+2]=Math.min(255,.272*n+.534*r+.131*i)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Solarize=function(t){var e=t.data,n=t.width,r=4*n,i=t.height;do{var o=(i-1)*r,s=n;do{var a=o+4*(s-1),c=e[a],l=e[a+1],u=e[a+2];c>127&&(c=255-c),l>127&&(l=255-l),u>127&&(u=255-u),e[a]=c,e[a+1]=l,e[a+2]=u}while(--s)}while(--i)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(9),o=n(6);e.Threshold=function(t){var e,n=255*this.threshold(),r=t.data,i=r.length;for(e=0;e<i;e+=1)r[e]=r[e]<n?0:255},r.Factory.addGetterSetter(i.Node,"threshold",.5,o.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,n){"use strict";e.__esModule=!0,e.SmoothPen=void 0;var r=n(8),i=n(170);e.SmoothPen=function(t){function e(n,r,o,s,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o,s,a)),l=document.createElement("canvas");Math.max(window.devicePixelRatio||1,1);return l.width=n.width(),l.height=n.height(),c.shape=new Konva.Image({image:l}),c.templayer.add(c.shape),window.sg=c.signaturePad=new i.SignaturePad(l,{penColor:c.style.stroke,maxWidth:c.style.strokeWidth,minWidth:.5,minDistance:1}),c.replyData=[],c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){return[t.x,t.y,this.clientid,this.toolname,[this.style.strokeWidth,this.style.stroke],this.pressure,Date.now()]},e.prototype.centerDataTemp=function(t){return[t.x,t.y,this.clientid,this.pressure,Date.now()]},e.prototype.endDataTemp=function(t){return[[t.x,t.y,this.clientid,this.pressure,Date.now(),!0]]},e.prototype.pushPoint=function(e,n){if(t.prototype.pushPoint.call(this,e),n){var r=this.middlePoints[this.middlePoints.length-2],i=this.middlePoints[this.middlePoints.length-1];this.replyData.push({time:n,x:r,y:i})}else{if(this.signaturePad.minWidth=.5*this.pressure,this.signaturePad.maxWidth=this.style.strokeWidth*this.pressure,2===this.middlePoints.length){var o={x:this.middlePoints[0],y:this.middlePoints[1]};this.signaturePad._mouseButtonDown=!0,this.signaturePad._strokeBegin({clientX:o.x,clientY:o.y})}var s={x:this.middlePoints[this.middlePoints.length-2],y:this.middlePoints[this.middlePoints.length-1]};this.signaturePad._strokeUpdate({clientX:s.x,clientY:s.y})}},e.prototype.draw=function(){"replayData"!==this.showtype&&this.templayer.batchDraw()},e.prototype.endDraw=function(e){t.prototype.endDraw.call(this);var n={x:this.middlePoints[this.middlePoints.length-2],y:this.middlePoints[this.middlePoints.length-1]};e?(this.replyData.push({time:e,x:n.x,y:n.y}),this.signaturePad.fromData([{color:this.style.stroke,points:this.replyData}]),this.replyData=[]):(this.signaturePad._strokeEnd({clientX:n.x,clientY:n.y}),this.signaturePad._mouseButtonDown=!1)},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0;
/*!
 * canvas 
 */
var r=function(){function t(t,e,n){this.x=t,this.y=e,this.time=n||Date.now()}return t.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time},t.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0},t}(),i=function(){function t(t,e,n,r,i,o){this.startPoint=t,this.control2=e,this.control1=n,this.endPoint=r,this.startWidth=i,this.endWidth=o}return t.fromPoints=function(e,n){var r=this.calculateControlPoints(e[0],e[1],e[2]).c2,i=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new t(e[1],r,i,e[2],n.start,n.end)},t.calculateControlPoints=function(t,e,n){var i=t.x-e.x,o=t.y-e.y,s=e.x-n.x,a=e.y-n.y,c=(t.x+e.x)/2,l=(t.y+e.y)/2,u=(e.x+n.x)/2,h=(e.y+n.y)/2,d=Math.sqrt(i*i+o*o),p=Math.sqrt(s*s+a*a),f=p/(d+p),g=u+(c-u)*f,m=h+(l-h)*f,v=e.x-g,y=e.y-m;return{c1:new r(c+v,l+y),c2:new r(u+v,h+y)}},t.prototype.length=function(){for(var t,e,n=0,r=0;r<=10;r+=1){var i=r/10,o=this.point(i,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),s=this.point(i,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){var a=o-t,c=s-e;n+=Math.sqrt(a*a+c*c)}t=o,e=s}return n},t.prototype.point=function(t,e,n,r,i){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+i*t*t*t},t}();e.SignaturePad=function(){function t(e,n){void 0===n&&(n={isAction:!1});var r=this;this.canvas=e,this.options=n,this._handleMouseDown=function(t){1===t.which&&(r._mouseButtonDown=!0,r._strokeBegin(t))},this._handleMouseMove=function(t){r._mouseButtonDown&&r._strokeMoveUpdate(t)},this._handleMouseUp=function(t){1===t.which&&r._mouseButtonDown&&(r._mouseButtonDown=!1,r._strokeEnd(t))},this._handleTouchStart=function(t){if(t.preventDefault(),1===t.targetTouches.length){var e=t.changedTouches[0];r._strokeBegin(e)}},this._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];r._strokeMoveUpdate(e)},this._handleTouchEnd=function(t){if(t.target===r.canvas){t.preventDefault();var e=t.changedTouches[0];r._strokeEnd(e)}},this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.throttle="throttle"in n?n.throttle:16,this.minDistance="minDistance"in n?n.minDistance:5,this.throttle?this._strokeMoveUpdate=function(t,e){void 0===e&&(e=250);var n,r,i,o=0,s=null,a=function(){o=Date.now(),s=null,n=t.apply(r,i),s||(r=null,i=[])};return function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];var u=Date.now(),h=e-(u-o);return r=this,i=c,h<=0||h>e?(s&&(clearTimeout(s),s=null),o=u,n=t.apply(r,i),s||(r=null,i=[])):s||(s=window.setTimeout(a,h)),n}}(t.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=t.prototype._strokeUpdate,this.dotSize=n.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this.onBegin=n.onBegin,this.onEnd=n.onEnd,this._ctx=e.getContext("2d"),this.clear(),n.isAction&&this.on()}return t.prototype.clear=function(){var t=this._ctx,e=this.canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0},t.prototype.fromDataURL=function(t,e,n){var r=this;void 0===e&&(e={});var i=new Image,o=e.ratio||window.devicePixelRatio||1,s=e.width||this.canvas.width/o,a=e.height||this.canvas.height/o;this._reset(),i.onload=function(){r._ctx.drawImage(i,0,0,s,a),n&&n()},i.onerror=function(t){n&&n(t)},i.src=t,this._isEmpty=!1},t.prototype.toDataURL=function(t,e){switch(void 0===t&&(t="image/png"),t){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(t,e)}},t.prototype.on=function(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())},t.prototype.off=function(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)},t.prototype.isEmpty=function(){return this._isEmpty},t.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,(function(t){var n=t.color,r=t.curve;return e._drawCurve({color:n,curve:r})}),(function(t){var n=t.color,r=t.point;return e._drawDot({color:n,point:r})})),this._data=t},t.prototype.toData=function(){return this._data},t.prototype._strokeBegin=function(t){var e={color:this.penColor,points:[]};"function"==typeof this.onBegin&&this.onBegin(t),this._data.push(e),this._reset(),this._strokeUpdate(t)},t.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,r=this._createPoint(e,n),i=this._data[this._data.length-1],o=i.points,s=o.length>0&&o[o.length-1],a=!!s&&r.distanceTo(s)<=this.minDistance,c=i.color;if(!s||!s||!a){var l=this._addPoint(r);s?l&&this._drawCurve({color:c,curve:l}):this._drawDot({color:c,point:r}),o.push({time:r.time,x:r.x,y:r.y})}},t.prototype._strokeEnd=function(t){this._strokeUpdate(t),"function"==typeof this.onEnd&&this.onEnd(t)},t.prototype._handlePointerEvents=function(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)},t.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},t.prototype._handleTouchEvents=function(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)},t.prototype._reset=function(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},t.prototype._createPoint=function(t,e){var n=this.canvas.getBoundingClientRect();return new r(t-n.left,e-n.top,(new Date).getTime())},t.prototype._addPoint=function(t){var e=this._lastPoints;if(e.push(t),e.length>2){3===e.length&&e.unshift(e[0]);var n=this._calculateCurveWidths(e[1],e[2]),r=i.fromPoints(e,n);return e.shift(),r}return null},t.prototype._calculateCurveWidths=function(t,e){var n=this.velocityFilterWeight*e.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,r=this._strokeWidth(n),i={end:r,start:this._lastWidth};return this._lastVelocity=n,this._lastWidth=r,i},t.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)},t.prototype._drawCurveSegment=function(t,e,n){var r=this._ctx;r.moveTo(t,e),r.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1},t.prototype._drawCurve=function(t){var e=t.color,n=t.curve,r=this._ctx,i=n.endWidth-n.startWidth,o=2*Math.floor(n.length());r.beginPath(),r.fillStyle=e,r.strokeStyle=e;for(var s=0;s<o;s+=1){var a=s/o,c=a*a,l=c*a,u=1-a,h=u*u,d=h*u,p=d*n.startPoint.x;p+=3*h*a*n.control1.x,p+=3*u*c*n.control2.x,p+=l*n.endPoint.x;var f=d*n.startPoint.y;f+=3*h*a*n.control1.y,f+=3*u*c*n.control2.y,f+=l*n.endPoint.y;var g=n.startWidth+l*i;this._drawCurveSegment(p,f,g)}r.closePath(),r.fill(),r.stroke()},t.prototype._drawDot=function(t){var e=t.color,n=t.point,r=this._ctx,i="function"==typeof this.dotSize?this.dotSize():this.dotSize;r.beginPath(),this._drawCurveSegment(n.x,n.y,i),r.closePath(),r.fillStyle=e,r.strokeStyle=e,r.fill(),r.stroke()},t.prototype._fromData=function(t,e,n){for(var i=0,o=t;i<o.length;i++){var s=o[i],a=s.color,c=s.points;if(c.length>1)for(var l=0;l<c.length;l+=1){var u=c[l],h=new r(u.x,u.y,u.time);this.penColor=a,0===l&&this._reset();var d=this._addPoint(h);d&&e({color:a,curve:d})}else this._reset(),n({color:a,point:c[0]})}},t.prototype._toSVG=function(){var t=this,e=this._data,n=Math.max(window.devicePixelRatio||1,1),r=this.canvas.width/n,i=this.canvas.height/n,o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("width",this.canvas.width.toString()),o.setAttribute("height",this.canvas.height.toString()),this._fromData(e,(function(t){var e=t.color,n=t.curve,r=document.createElement("path");if(!(isNaN(n.control1.x)||isNaN(n.control1.y)||isNaN(n.control2.x)||isNaN(n.control2.y))){var i="M "+n.startPoint.x.toFixed(3)+","+n.startPoint.y.toFixed(3)+" C "+n.control1.x.toFixed(3)+","+n.control1.y.toFixed(3)+" "+n.control2.x.toFixed(3)+","+n.control2.y.toFixed(3)+" "+n.endPoint.x.toFixed(3)+","+n.endPoint.y.toFixed(3);r.setAttribute("d",i),r.setAttribute("stroke-width",(2.25*n.endWidth).toFixed(3)),r.setAttribute("stroke",e),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),o.appendChild(r)}}),(function(e){var n=e.color,r=e.point,i=document.createElement("circle"),s="function"==typeof t.dotSize?t.dotSize():t.dotSize;i.setAttribute("r",s.toString()),i.setAttribute("cx",r.x.toString()),i.setAttribute("cy",r.y.toString()),i.setAttribute("fill",n),o.appendChild(i)}));var s='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+r+" "+i+'" width="'+r+'" height="'+i+'">',a=o.innerHTML;if(void 0===a){var c=document.createElement("dummy"),l=o.childNodes;c.innerHTML="";for(var u=0;u<l.length;u+=1)c.appendChild(l[u].cloneNode(!0));a=c.innerHTML}return"data:image/svg+xml;base64,"+btoa(s+a+"</svg>")},t}()},function(t,e,n){"use strict";e.__esModule=!0,e.RoboPen=void 0;var r=n(8);e.RoboPen=function(t){function e(n,r,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,o,s));return a.canvas=document.createElement("canvas"),a.canvas.width=n.width(),a.canvas.height=n.height(),a.shape=new Konva.Image({image:a.canvas}),a.canvas.getContext("2d").translate(.5,.5),a.templayer.add(a.shape),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){return[t.x,t.y,this.clientid,this.toolname,[this.style.strokeWidth,this.style.stroke],this.pressure]},e.prototype.centerDataTemp=function(t){return[t.x,t.y,this.clientid,this.pressure]},e.prototype.endDataTemp=function(t){return[[t.x,t.y,this.clientid,this.pressure,!0]]},e.prototype.pushPoint=function(e,n){if(t.prototype.pushPoint.call(this,e),2===this.middlePoints.length){var r={x:this.middlePoints[0],y:this.middlePoints[1]};this.begin(r.x,r.y)}else{var i={x:this.middlePoints[this.middlePoints.length-2],y:this.middlePoints[this.middlePoints.length-1]};this.drawPen(i.x,i.y,this.pressure*this.style.strokeWidth,this.style.stroke)}},e.prototype.draw=function(){"replayData"!==this.showtype&&this.templayer.batchDraw()},e.prototype.endDraw=function(t){this.end();var e=this.shape.clone();this.shape.remove(),this.shape.destroy(),this.canvas=null,this.showlayer.add(e),"replayData"===this.showtype?this.showlayer.batchDraw():e.draw()},e.prototype.begin=function(t,e){this.canvas[this.clientid]={},this.canvas[this.clientid].index=0,this.canvas[this.clientid].lastX=t/1,this.canvas[this.clientid].lastY=e/1},e.prototype.drawPen=function(t,e,n,r){var i=this.canvas.getContext("2d");this.drawBezier(i,t/1,e/1,n,r)},e.prototype.end=function(){if(this.canvas[this.clientid].index>0){var t=this.canvas.getContext("2d");t.beginPath(),t.fillStyle=this.style.stroke,t.moveTo(this.canvas[this.clientid].lastMidX,this.canvas[this.clientid].lastMidY),t.lineTo(this.canvas[this.clientid].lastX,this.canvas[this.clientid].lastY),t.stroke(),t.fill()}},e.prototype.drawBezier=function(t,e,n,r,i){t.lineWidth=r,t.strokeStyle=i,t.lineCap="round",t.lineJoin="round",t.beginPath();var o=(e+this.canvas[this.clientid].lastX)/2,s=(n+this.canvas[this.clientid].lastY)/2;this.canvas[this.clientid].index++>0?(t.moveTo(this.canvas[this.clientid].lastMidX,this.canvas[this.clientid].lastMidY),t.quadraticCurveTo(this.canvas[this.clientid].lastX,this.canvas[this.clientid].lastY,o,s)):(t.moveTo(this.canvas[this.clientid].lastX,this.canvas[this.clientid].lastY),t.lineTo(o,s)),this.canvas[this.clientid].lastMidX=o,this.canvas[this.clientid].lastMidY=s,this.canvas[this.clientid].lastX=e,this.canvas[this.clientid].lastY=n,t.stroke()},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.RectEdit=void 0;var r=n(8),i=n(11),o=n(15);e.RectEdit=function(t){function e(n,r,i,s,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,s,a));return c.stage=n,r.name="editshape",c.shape=new Konva.Rect(r),c.templayer.add(c.shape),c.tr=(0,o.makeTransformer)(),c.tr.on("mousedown touchstart",(function(t){c.stage.canvasaction.isSelectMode()&&(t.cancelBubble=!0)})),c.startData=null,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){return this.startData=[t.x,t.y,this.clientid,this.toolname,[this.style.strokeWidth,this.isFill?1:0,this.isFill?this.style.fill:this.style.stroke,this.isShift?1:0],[],[this.uid]],null},e.prototype.centerDataTemp=function(t){},e.prototype.endDataTemp=function(t){return this.startData&&(this.startData[4][3]=this.isShift?1:0),[this.startData,[t.x,t.y,this.clientid,!0]]},e.prototype.draw=function(){this.middlePoints.length>3&&(this.shape.x(this.middlePoints[0]),this.shape.y(this.middlePoints[1]),this.isShift?(this.shape.width(this.middlePoints[this.middlePoints.length-2]-this.middlePoints[0]),this.shape.height(this.middlePoints[this.middlePoints.length-2]-this.middlePoints[0])):(this.shape.width(this.middlePoints[this.middlePoints.length-2]-this.middlePoints[0]),this.shape.height(this.middlePoints[this.middlePoints.length-1]-this.middlePoints[1])),"replayData"!==this.showtype&&this.templayer.batchDraw())},e.prototype.endDraw=function(){var t=this,e=this.shape.clone();this.shape.remove(),this.shape.destroy(),this.showlayer.add(e),e.me=this,e.id(this.uid),"replayData"===this.showtype||e.draw(),e.on("click",(function(n){if(t.stage.canvasaction.isSelectMode()){var r=t.isSelected;t.stage.canvasaction.removeSelectShape(),t.isSelected=r,t.isSelected?t.unfireEdit(e):t.fireEdit(e);var i=t.stage.canvasaction.options;i&&i.selectShapeCb&&i.selectShapeCb()}n.cancelBubble=!0})),e.on("mousedown touchstart",(function(e){t.stage.canvasaction.isSelectMode()&&(e.cancelBubble=!0)})),e.on("dragmove",(function(){console.log("dragmove")})),e.on("dragend",(function(){if(console.log("dragend"),t.isSelected){t.stage.canvasaction.localClientId++;var n=e.x(),r=e.y(),s=[n*t.stage.scale().x,r*t.stage.scale().x,t.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.id(),0],!0];t.stage.canvasaction.sendMessageToOutSider(s),t.stage.canvasaction.pushCatchData(s)}})),e.on("transform",(function(){console.log("transform")})),e.on("transformend",(function(){console.log("transform end"),t.stage.canvasaction.localClientId++;var n=e.x(),r=e.y(),s=e.scaleX(),a=e.scaleY(),c=[n*t.stage.scale().x,r*t.stage.scale().x,t.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.id(),1,s,a],!0];t.stage.canvasaction.sendMessageToOutSider(c),t.stage.canvasaction.pushCatchData(c)}))},e.prototype.fireEdit=function(t){var e=this;this.isSelected=!0,t.draggable(!0),this.stage.container().style.cursor="move",this.tr&&this.tr.remove(),this.showlayer.add(this.tr),this.tr.attachTo(t),t.off("mouseenter"),t.off("mouseleave"),t.on("mouseenter",(function(){console.log("mouseenter"),e.stage.container().style.cursor="move"})),t.on("mouseleave",(function(){console.log("mouseleave"),e.stage.getIntersection(e.stage.getPointerPosition(),"Rect")!==t&&(e.stage.container().style.cursor="")})),this.showlayer.batchDraw()},e.prototype.unfireEdit=function(t){this.isSelected=!1,this.tr&&this.tr.remove(),t.off("mouseenter"),t.off("mouseleave"),this.stage.container().style.cursor="",t.draggable(!1),this.showlayer.batchDraw()},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.SelectShape=void 0;var r=n(8);e.SelectShape=function(t){function e(n,r,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,o,s));return a.shape=new Konva.Rect(Object.assign({},{fill:"green",shadowEnabled:!1,strokeWidth:1,opacity:.4})),a.templayer.add(a.shape),a.startData=null,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){return null},e.prototype.centerDataTemp=function(t){return null},e.prototype.endDataTemp=function(t){var e=this.shape.getClientRect();for(var n in e)e[n]=e[n]*this.stage.scaleX();e.y=e.y+this.stage.y(),this.showlayer.find(".editshape").forEach((function(t){Konva.Util.haveIntersection(t.getClientRect(),e)?t.me&&t.me.fireEdit&&t.me.fireEdit(t):t.me&&t.me.unfireEdit&&t.me.unfireEdit(t)})),this.showlayer.batchDraw();var r=this.stage.canvasaction.options;r&&r.selectShapeCb&&r.selectShapeCb();var i=this.stage.getIntersection(this.stage.getPointerPosition(),".editshape");return console.log("lastShapess",i),this.stage.container().style.cursor=i?"move":"",null},e.prototype.draw=function(){this.middlePoints.length>3&&(this.shape.x(this.middlePoints[0]),this.shape.y(this.middlePoints[1]),this.isShift?(this.shape.width(this.middlePoints[this.middlePoints.length-2]-this.middlePoints[0]),this.shape.height(this.middlePoints[this.middlePoints.length-2]-this.middlePoints[0])):(this.shape.width(this.middlePoints[this.middlePoints.length-2]-this.middlePoints[0]),this.shape.height(this.middlePoints[this.middlePoints.length-1]-this.middlePoints[1])),"replayData"!==this.showtype&&this.templayer.batchDraw())},e.prototype.endDraw=function(){this.shape.remove(),this.templayer.draw()},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.EditRegularShape=void 0;var r=n(8);e.EditRegularShape=function(t){function e(n,r,i,o,s,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,o,s,a));return c.data=a,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushPoint=function(e){t.prototype.pushPoint.call(this,e);var n=this.middlePoints.splice(this.middlePoints.length-2);console.log("this.middlePoints",n);var r=this.data,i=r[0],o=r[1],s=r[2],a=r[3],c=this.showlayer.findOne("#"+i);c&&(0===o?(c.x(n[0]),c.y(n[1])):1===o?(c.x(n[0]),c.y(n[1]),c.scaleX(s),c.scaleY(a)):2===o?c.me.changeByPoint(c,n,s):3===o&&c.me.changeTextVal(c,s))},e.prototype.startDataTemp=function(t){return null},e.prototype.centerDataTemp=function(t){return null},e.prototype.endDataTemp=function(t){return null},e.prototype.draw=function(){},e.prototype.endDraw=function(){},e.prototype.changeRegular=function(){},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.PolygonEdit=void 0;var r=n(8),i=n(11),o=n(15);e.PolygonEdit=function(t){function e(n,r,s,a,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,s,a,c));return l.shape=new Konva.Group({draggable:!1,name:"editshape"}),l.tr=(0,o.makeTransformer)(),l.tr.on("mousedown touchstart",(function(t){l.stage.canvasaction.isSelectMode()&&(t.cancelBubble=!0)})),l.line=new Konva.Line(r),l.line.lineCap("round"),l.line.lineJoin("round"),l.line.fill((0,o.hexToRgba)(r.stroke,.1)),l.shape.add(l.line),l.templayer.add(l.shape),l.controlPoints=[],l.tempAchor=(0,o.makeEditPoi)(r),l.isTempAchor=!0,o.makeMoveHover.bind(l)(l.tempAchor),l.tempAchor.on("dragmove",(function(t){t.cancelBubble=!0;var e=t.target,n=e.parent,r=n.findOne("Line"),o=e.getAttr("pIndex"),s=r.points();s[o]=e.x(),s[o+1]=e.y(),n.children[o+2].x(e.x()+i.EDIT_LABLE_DXY.dx),n.children[o+2].y(e.y()+i.EDIT_LABLE_DXY.dy),r.points(s),r.draw(),l.fireEdit(n,!0)})),l.tempAchor.on("dragend",(function(t){t.cancelBubble=!0;var e=t.target,n=e.getAttr("pIndex");l.stage.canvasaction.localClientId++;var r=e.x(),s=e.y(),a=[r*l.stage.scale().x,s*l.stage.scale().x,l.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.parent.id(),2,n/2],!0];l.stage.canvasaction.sendMessageToOutSider(a),l.stage.canvasaction.pushCatchData(a)})),l.shape.add(l.tempAchor),l.achorTextCode=(0,o.getCharLabel)(),l.achorText=(0,o.makeTextPoi)(r,l.achorTextCode),l.shape.add(l.achorText),l.firstAchor=null,l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){return null},e.prototype.moveAchorText=function(t,e){var n=this,r=e.points();t.find("Text").forEach((function(e,i){console.log("index",2*i,2*i+1,r[2*i],r[2*i+1]),e.x(r[2*i]),e.y(r[2*i+1]),n.fitAchorText(e,t)}))},e.prototype.fitAchorText=function(t,e){var n=e.findOne("Line"),r=n.getClientRect(),i=t.getClientRect(),o=t.getClientRect(),s=t.getClientRect(),a=t.getClientRect();i.y=i.y-16,o.y=o.y+16,s.x=s.x-16,a.x=a.x+16;var c=[{rect:i,rect2:Object.assign({},i,{x:i.x+16}),dx:0,dy:-16,align:"center",verticalAlign:"bottom"},{rect:o,rect2:Object.assign({},o,{x:o.x+16}),dx:0,dy:6,align:"center",verticalAlign:"top"},{rect:s,rect2:s,dx:-16,dy:0,align:"right",verticalAlign:"middle"},{rect:a,rect2:a,dx:6,dy:0,align:"left",verticalAlign:"middle"}],l=c.length,u=n.points(),h=t.getAttr("pIndex");if(isNaN(r.x))return t.x(this.controlPoints[h]+c[0].dx),void t.y(this.controlPoints[h+1]+c[0].dy);for(var d=2,p=0;p<l;p++)if(this.stage.getIntersection(c[p].rect)!==n&&this.stage.getIntersection(c[p].rect2)!==n){d=p;break}t.x(u[h]+c[d].dx),t.y(u[h+1]+c[d].dy)},e.prototype.centerDataTemp=function(t){return null},e.prototype.endDataTemp=function(t){return[[0,0,this.clientid,this.toolname,[this.style.strokeWidth,this.style.stroke],[],[this.uid,this.controlPoints,this.isTempAchor?1:0]]]},e.prototype.pushPoint=function(t){this.middlePoints=this.controlPoints.concat([t.x/this.stage.scale().x,t.y/this.stage.scale().x]),this.tempAchor.x(this.middlePoints[this.middlePoints.length-2]),this.tempAchor.y(this.middlePoints[this.middlePoints.length-1]),this.achorText.x(this.middlePoints[this.middlePoints.length-2]+i.EDIT_LABLE_DXY.dx),this.achorText.y(this.middlePoints[this.middlePoints.length-1]+i.EDIT_LABLE_DXY.dy),this.firstAchor&&(Konva.Util.haveIntersection(this.tempAchor.getClientRect(),this.firstAchor.getClientRect())?(this.firstAchor.stroke("red"),this.tempAchor.stroke("red"),this.tempAchor.isEnd=!0,this.tempAchor.hide(),this.achorText.hide(),this.middlePoints[this.middlePoints.length-2]=this.middlePoints[0],this.middlePoints[this.middlePoints.length-1]=this.middlePoints[1]):(this.firstAchor.stroke(this.style.stroke),this.tempAchor.stroke(this.style.stroke),this.tempAchor.isEnd=!1,this.tempAchor.show(),this.isTempAchor&&this.achorText.show()))},e.prototype.pushControlPoint=function(t){if(this.tempAchor.isEnd)console.log("this.tempAchor remove");else{var e=this.controlPoints.length;this.controlPoints.push(t.x/this.stage.scale().x),this.controlPoints.push(t.y/this.stage.scale().x);var n=this.tempAchor.clone({pIndex:e});n.x(this.controlPoints[this.controlPoints.length-2]),n.y(this.controlPoints[this.controlPoints.length-1]);var r=this.achorText.clone({pIndex:e,visible:this.isTempAchor});r.x(this.controlPoints[this.controlPoints.length-2]+i.EDIT_LABLE_DXY.dx),r.y(this.controlPoints[this.controlPoints.length-1]+i.EDIT_LABLE_DXY.dy),r.text(this.achorTextCode),this.achorTextCode=(0,o.makeCharLabel)(),this.achorText.text(this.achorTextCode),this.shape.add(n),this.shape.add(r),this.firstAchor||(this.firstAchor=n)}},e.prototype.draw=function(){this.line.points(this.middlePoints),"replayData"!==this.showtype&&this.templayer.batchDraw()},e.prototype.endDraw=function(){var t=this,e=this.line.points();this.line.points(e.slice(0,e.length-2)),this.line.closed(!0),this.tempAchor.remove(),this.achorText.remove(),this.firstAchor&&this.firstAchor.stroke(this.style.stroke);var n=this.shape.clone();this.isTempAchor||n.find(".editpoi").forEach((function(t){return t.hide()})),this.shape.remove(),this.shape.destroy(),this.showlayer.add(n),n.me=this,n.id(this.uid),"replayData"===this.showtype||(n.draw(),this.templayer.batchDraw()),n.on("click",(function(e){if(t.stage.canvasaction.isSelectMode()){var r=t.isSelected;t.stage.canvasaction.removeSelectShape(),t.isSelected=r,t.isSelected?t.unfireEdit(n):(console.log("fireEdit"),t.fireEdit(n));var i=t.stage.canvasaction.options;i&&i.selectShapeCb&&i.selectShapeCb()}e.cancelBubble=!0})),n.on("mousedown touchstart",(function(e){console.log("mousedown",t.stage.canvasaction.isSelectMode()),t.stage.canvasaction.isSelectMode()&&(e.cancelBubble=!0)})),n.on("dragmove",(function(){console.log("dragmove")})),n.on("dragend",(function(){if(console.log("dragend"),t.isSelected){t.stage.canvasaction.localClientId++;var e=n.x(),r=n.y(),s=[e*t.stage.scale().x,r*t.stage.scale().x,t.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[n.id(),0],!0];t.stage.canvasaction.sendMessageToOutSider(s),t.stage.canvasaction.pushCatchData(s)}})),n.on("transform",(function(){console.log("transform")})),n.on("transformend",(function(){console.log("transform end"),t.stage.canvasaction.localClientId++;var e=n.x(),r=n.y(),s=n.scaleX(),a=n.scaleY(),c=[e*t.stage.scale().x,r*t.stage.scale().x,t.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[n.id(),1,s,a],!0];t.stage.canvasaction.sendMessageToOutSider(c),t.stage.canvasaction.pushCatchData(c)}))},e.prototype.fireEdit=function(t,e){var n=this;this.isSelected=!0,t.draggable(!0),e||(this.stage.container().style.cursor="move"),this.tr&&this.tr.remove(),this.showlayer.add(this.tr),this.tr.attachTo(t),t.off("mouseenter"),t.off("mouseleave"),t.on("mouseenter",(function(){console.log("mouseenter"),n.stage.container().style.cursor="move"})),t.on("mouseleave",(function(){console.log("mouseleave",n.stage.getPointerPosition()),n.stage.getIntersection(n.stage.getPointerPosition(),"Group")!==t&&(n.stage.container().style.cursor="")})),t.find("Circle").forEach((function(t){t.draggable(!0)})),this.showlayer.batchDraw()},e.prototype.unfireEdit=function(t){this.isSelected=!1,t.draggable(!1),this.tr&&this.tr.remove(),t.off("mouseenter"),t.off("mouseleave"),this.stage.container().style.cursor="",t.find("Circle").forEach((function(t){t.draggable(!1)})),this.showlayer.batchDraw()},e.prototype.changeByPoint=function(t,e,n){var r=t.find("Circle"),o=t.find("Text"),s=t.findOne("Line");if(r&&r[n]){var a=s.points();r[n].x(e[0]),r[n].y(e[1]),o[n].x(e[0]+i.EDIT_LABLE_DXY.dx),o[n].y(e[1]+i.EDIT_LABLE_DXY.dy),a[2*n]=e[0],a[2*n+1]=e[1],s.points(a)}},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.EditDeleteShape=void 0;var r=n(8);e.EditDeleteShape=function(t){function e(n,r,i,o,s,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,o,s,a));return c.data=a,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushPoint=function(t){var e=this,n=this.data;console.log("pushPoint pushPoint",t,n);var r=this.stage.canvasaction.cacheDataInstance,i=r.layerCachData[r.currentLayerId],o=[];if(i){i.filter((function(t){if(t[6]&&t[6][0]&&n.includes(t[6][0])){o.push(t[2]);var r=e.showlayer.findOne("#"+t[6][0]);r&&(r.me&&r.me.unfireEdit(r),r.remove())}return!o.includes(t[2])}));this.endDraw()}},e.prototype.startDataTemp=function(t){return null},e.prototype.centerDataTemp=function(t){return null},e.prototype.endDataTemp=function(t){return null},e.prototype.draw=function(){},e.prototype.endDraw=function(){},e.prototype.changeRegular=function(){},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.EllipseEdit=void 0;var r=n(8),i=n(11),o=n(15);e.EllipseEdit=function(t){function e(n,r,s,a,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,s,a,c));return l.shape=new Konva.Group({draggable:!1,name:"editshape"}),l.templayer.add(l.shape),l.tr=(0,o.makeTransformer)(),l.tr.on("mousedown touchstart",(function(t){l.stage.canvasaction.isSelectMode()&&(t.cancelBubble=!0)})),r.x=-10,r.y=-10,l.ellipse=new Konva.Ellipse(Object.assign({},r,{fill:(0,o.hexToRgba)(r.stroke,.1)})),l.tempAchor=(0,o.makeEditPoi)(r),o.makeMoveHover.bind(l)(l.tempAchor),l.tempAchor.on("dragmove",(function(t){t.cancelBubble=!0;var e=t.target,n=e.parent,r=e.getAttr("pIndex");l.middlePoints[r]=e.x(),l.middlePoints[r+1]=e.y(),n.children[r+2].x(e.x()+i.EDIT_LABLE_DXY.dx),n.children[r+2].y(e.y()+i.EDIT_LABLE_DXY.dy),console.log("tempAchor dragmove",r),l.fireEdit(n,!0),l.reCal(n.findOne("Ellipse"))})),l.tempAchor.on("dragend",(function(t){if(console.log("dragend1",l.isSelected),l.isSelected){t.cancelBubble=!0;var e=t.target,n=e.getAttr("pIndex");l.stage.canvasaction.localClientId++;var r=e.x(),s=e.y(),a=[r*l.stage.scale().x,s*l.stage.scale().x,l.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.parent.id(),2,n/2],!0];l.stage.canvasaction.sendMessageToOutSider(a),l.stage.canvasaction.pushCatchData(a)}})),l.shape.add(l.tempAchor),l.achorTextCode=(0,o.getCharLabel)(),l.achorText=(0,o.makeTextPoi)(r,l.achorTextCode),l.shape.add(l.achorText),l.shape.add(l.ellipse),l.firstAchor=null,l.isTempAchor=!0,l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){return null},e.prototype.moveAchorText=function(t,e){},e.prototype.fitAchorText=function(t,e){},e.prototype.centerDataTemp=function(t){return null},e.prototype.endDataTemp=function(t){return[[0,0,this.clientid,this.toolname,[this.style.strokeWidth,0,this.style.stroke,0],[],[this.uid,this.middlePoints.concat(),this.isTempAchor?1:0]]]},e.prototype.pushPoint=function(t){var e=this.middlePoints.length;if(e<6){this.middlePoints.push(t.x/this.stage.scale().x),this.middlePoints.push(t.y/this.stage.scale().x);var n=this.tempAchor.clone({pIndex:e});n.x(this.middlePoints[e]),n.y(this.middlePoints[e+1]);var r=this.achorText.clone({pIndex:e,visible:this.isTempAchor});r.x(this.middlePoints[e]+i.EDIT_LABLE_DXY.dx),r.y(this.middlePoints[e+1]+i.EDIT_LABLE_DXY.dy),r.text(this.achorTextCode),this.achorTextCode=(0,o.makeCharLabel)(),this.shape.add(n),this.shape.add(r),2===e?this.tempAchor.setAttr("status","fixed"):4===e&&(this.tempAchor.setAttr("status","end"),console.log("pushPoint",e,this.middlePoints),this.reCal(this.ellipse))}else this.middlePoints[4]=t.x/this.stage.scale().x,this.middlePoints[5]=t.y/this.stage.scale().x,this.shape.children[this.shape.children.length-1].x(this.middlePoints[4]+i.EDIT_LABLE_DXY.dx),this.shape.children[this.shape.children.length-1].y(this.middlePoints[5]+i.EDIT_LABLE_DXY.dy),this.shape.children[this.shape.children.length-2].x(this.middlePoints[4]),this.shape.children[this.shape.children.length-2].y(this.middlePoints[5]),this.reCal(this.ellipse)},e.prototype.reCal=function(t){var e=this.middlePoints[0],n=this.middlePoints[1],r=this.middlePoints[2],i=this.middlePoints[3],o=this.middlePoints[4],s=this.middlePoints[5],a=n-i,c=e-r,l=Math.atan(a/c),u={x:(e+r)/2,y:(n+i)/2},h=o-u.x,d=s-u.y,p=Math.pow(u.x-e,2)+Math.pow(u.y-n,2),f=Math.pow(o-u.x,2),g=Math.pow(s-u.y,2),m=d/Math.cos(l),v=(h+m*Math.sin(l))*Math.sin(l),y=Math.pow(v-m,2),b=p-f-g,w=(-b+Math.sqrt(Math.pow(b,2)+4*p*y,2))/2,_=Math.sqrt(w,2),x=Math.sqrt(w+p,2);t.x(u.x),t.y(u.y),t.radiusX(x),t.radiusY(_),t.rotation(l/(Math.PI/180))},e.prototype.draw=function(){"replayData"!==this.showtype&&this.templayer.batchDraw()},e.prototype.endDraw=function(){var t=this;this.tempAchor.remove(),this.achorText.remove();var e=this.shape.clone();this.isTempAchor||e.find(".editpoi").forEach((function(t){return t.hide()})),this.shape.remove(),this.shape.destroy(),this.showlayer.add(e),e.me=this,e.id(this.uid),"replayData"===this.showtype||e.draw(),e.on("click",(function(n){if(t.stage.canvasaction.isSelectMode()){var r=t.isSelected;t.stage.canvasaction.removeSelectShape(),t.isSelected=r,t.isSelected?t.unfireEdit(e):(console.log("fireEdit"),t.fireEdit(e));var i=t.stage.canvasaction.options;i&&i.selectShapeCb&&i.selectShapeCb()}n.cancelBubble=!0})),e.on("mousedown touchstart",(function(e){console.log("mousedown",t.stage.canvasaction.isSelectMode()),t.stage.canvasaction.isSelectMode()&&(e.cancelBubble=!0)})),e.on("dragmove",(function(){console.log("dragmove")})),e.on("dragend",(function(){if(console.log("dragend",t.isSelected),t.isSelected){t.stage.canvasaction.localClientId++;var n=e.x(),r=e.y(),s=[n*t.stage.scale().x,r*t.stage.scale().x,t.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.id(),0],!0];t.stage.canvasaction.sendMessageToOutSider(s),t.stage.canvasaction.pushCatchData(s)}})),e.on("transform",(function(){console.log("transform")})),e.on("transformend",(function(){console.log("transform end"),t.stage.canvasaction.localClientId++;var n=e.x(),r=e.y(),s=e.scaleX(),a=e.scaleY(),c=[n*t.stage.scale().x,r*t.stage.scale().x,t.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.id(),1,s,a],!0];t.stage.canvasaction.sendMessageToOutSider(c),t.stage.canvasaction.pushCatchData(c)}))},e.prototype.fireEdit=function(t,e){var n=this;this.isSelected=!0,t.draggable(!0),e||(this.stage.container().style.cursor="move"),this.tr&&this.tr.remove(),this.showlayer.add(this.tr),this.tr.attachTo(t),t.off("mouseenter"),t.off("mouseleave"),t.on("mouseenter",(function(){console.log("mouseenter"),n.stage.container().style.cursor="move"})),t.on("mouseleave",(function(){console.log("mouseleave"),n.stage.getIntersection(n.stage.getPointerPosition(),"Group")!==t&&(n.stage.container().style.cursor="")})),t.find("Circle").forEach((function(t){t.draggable(!0)})),this.showlayer.batchDraw()},e.prototype.unfireEdit=function(t){this.isSelected=!1,t.draggable(!1),this.tr&&this.tr.remove(),t.off("mouseenter"),t.off("mouseleave"),this.stage.container().style.cursor="",t.find("Circle").forEach((function(t){t.draggable(!1)})),this.showlayer.batchDraw()},e.prototype.changeByPoint=function(t,e,n){var r=t.find("Circle"),o=t.findOne("Ellipse"),s=t.find("Text");this.middlePoints[2*n]=e[0],this.middlePoints[2*n+1]=e[1],r&&r[n]&&(r[n].x(e[0]),r[n].y(e[1]),s[n].x(e[0]+i.EDIT_LABLE_DXY.dx),s[n].y(e[1]+i.EDIT_LABLE_DXY.dy),this.reCal(o))},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.CircleEdit=void 0;var r=n(8),i=n(11),o=n(15);e.CircleEdit=function(t){function e(n,r,s,a,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,s,a,c));return l.shape=new Konva.Group({draggable:!1,name:"editshape"}),l.templayer.add(l.shape),l.tr=(0,o.makeTransformer)(),l.tr.on("mousedown touchstart",(function(t){l.stage.canvasaction.isSelectMode()&&(t.cancelBubble=!0)})),r.x=-10,r.y=-10,l.circle=new Konva.Circle(Object.assign({},r,{fill:(0,o.hexToRgba)(r.stroke,.1)})),l.tempAchor=(0,o.makeEditPoi)(r),o.makeMoveHover.bind(l)(l.tempAchor),l.tempAchor.on("dragmove",(function(t){t.cancelBubble=!0;var e=t.target,n=e.parent,r=e.getAttr("pIndex");l.middlePoints[r]=e.x(),l.middlePoints[r+1]=e.y(),n.children[r+2].x(e.x()+i.EDIT_LABLE_DXY.dx),n.children[r+2].y(e.y()+i.EDIT_LABLE_DXY.dy),console.log("tempAchor dragmove",r),l.fireEdit(n,!0),l.reCal(n.findOne("Circle"))})),l.tempAchor.on("dragend",(function(t){t.cancelBubble=!0;var e=t.target,n=e.getAttr("pIndex");l.stage.canvasaction.localClientId++;var r=e.x(),s=e.y(),a=[r*l.stage.scale().x,s*l.stage.scale().x,l.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.parent.id(),2,n/2],!0];l.stage.canvasaction.sendMessageToOutSider(a),l.stage.canvasaction.pushCatchData(a)})),l.shape.add(l.tempAchor),l.achorTextCode=(0,o.getCharLabel)(),l.achorText=(0,o.makeTextPoi)(r,l.achorTextCode),l.shape.add(l.achorText),l.shape.add(l.circle),l.firstAchor=null,l.isTempAchor=!0,l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){return null},e.prototype.moveAchorText=function(t,e){e.points(),t.find("Text")},e.prototype.fitAchorText=function(t,e){},e.prototype.centerDataTemp=function(t){return null},e.prototype.endDataTemp=function(t){return[[0,0,this.clientid,this.toolname,[this.style.strokeWidth,0,this.style.stroke,0],[],[this.uid,this.middlePoints.concat(),this.isTempAchor?1:0]]]},e.prototype.pushPoint=function(t){var e=this.middlePoints.length;if(4===e)this.middlePoints[2]=t.x/this.stage.scale().x,this.middlePoints[3]=t.y/this.stage.scale().x,this.shape.children[this.shape.children.length-1].x(this.middlePoints[2]+i.EDIT_LABLE_DXY.dx),this.shape.children[this.shape.children.length-1].y(this.middlePoints[3]+i.EDIT_LABLE_DXY.dy),this.shape.children[this.shape.children.length-2].x(this.middlePoints[2]),this.shape.children[this.shape.children.length-2].y(this.middlePoints[3]),this.reCal(this.circle);else{this.middlePoints.push(t.x/this.stage.scale().x),this.middlePoints.push(t.y/this.stage.scale().x);var n=this.tempAchor.clone({pIndex:e});n.x(this.middlePoints[e]),n.y(this.middlePoints[e+1]);var r=this.achorText.clone({pIndex:e,visible:this.isTempAchor});r.x(this.middlePoints[e]+i.EDIT_LABLE_DXY.dx),r.y(this.middlePoints[e+1]+i.EDIT_LABLE_DXY.dy),r.text(this.achorTextCode),this.achorTextCode=(0,o.makeCharLabel)(),this.shape.add(n),this.shape.add(r),0===e?this.tempAchor.setAttr("status","fixed"):2===e&&(this.tempAchor.setAttr("status","end"),this.reCal(this.circle))}},e.prototype.reCal=function(t){var e={x:this.middlePoints[0],y:this.middlePoints[1]},n=this.middlePoints[2],r=this.middlePoints[3],i=Math.pow(n-e.x,2)+Math.pow(r-e.y,2),o=Math.sqrt(i,2);t.x(e.x),t.y(e.y),t.radius(o)},e.prototype.draw=function(){"replayData"!==this.showtype&&this.templayer.batchDraw()},e.prototype.endDraw=function(){var t=this;this.tempAchor.remove(),this.achorText.remove();var e=this.shape.clone();this.isTempAchor||e.find(".editpoi").forEach((function(t){return t.hide()})),this.shape.remove(),this.shape.destroy(),this.showlayer.add(e),e.me=this,e.id(this.uid),"replayData"===this.showtype||e.draw(),e.on("click",(function(n){if(t.stage.canvasaction.isSelectMode()){var r=t.isSelected;t.stage.canvasaction.removeSelectShape(),t.isSelected=r,t.isSelected?(console.log("unfireEdit"),t.unfireEdit(e)):(console.log("fireEdit"),t.fireEdit(e));var i=t.stage.canvasaction.options;i&&i.selectShapeCb&&i.selectShapeCb()}n.cancelBubble=!0})),e.on("mousedown touchstart",(function(e){console.log("mousedown",t.stage.canvasaction.isSelectMode()),t.stage.canvasaction.isSelectMode()&&(e.cancelBubble=!0)})),e.on("dragmove",(function(){console.log("dragmove")})),e.on("dragend",(function(n,r,s){if(console.log("dragend",n,r,s),t.isSelected){t.stage.canvasaction.localClientId++;var a=e.x(),c=e.y(),l=[a*t.stage.scale().x,c*t.stage.scale().x,t.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.id(),0],!0];t.stage.canvasaction.sendMessageToOutSider(l),t.stage.canvasaction.pushCatchData(l)}})),e.on("transform",(function(){console.log("transform")})),e.on("transformend",(function(){console.log("transform end"),t.stage.canvasaction.localClientId++;var n=e.x(),r=e.y(),s=e.scaleX(),a=e.scaleY(),c=[n*t.stage.scale().x,r*t.stage.scale().x,t.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.id(),1,s,a],!0];t.stage.canvasaction.sendMessageToOutSider(c),t.stage.canvasaction.pushCatchData(c)}))},e.prototype.fireEdit=function(t,e){var n=this;this.isSelected=!0,t.draggable(!0),e||(this.stage.container().style.cursor="move"),this.tr&&this.tr.remove(),this.showlayer.add(this.tr),this.tr.attachTo(t),t.off("mouseenter"),t.off("mouseleave"),t.on("mouseenter",(function(){console.log("mouseenter"),n.stage.container().style.cursor="move"})),t.on("mouseleave",(function(){console.log("mouseleave"),n.stage.getIntersection(n.stage.getPointerPosition(),"Group")!==t&&(n.stage.container().style.cursor="")})),t.find("Circle").forEach((function(t,e){0!==e&&t.draggable(!0)})),this.showlayer.batchDraw()},e.prototype.unfireEdit=function(t){this.isSelected=!1,t.draggable(!1),this.tr&&this.tr.remove(),t.off("mouseenter"),t.off("mouseleave"),this.stage.container().style.cursor="",t.find("Circle").forEach((function(t){t.draggable(!1)})),this.showlayer.batchDraw()},e.prototype.changeByPoint=function(t,e,n){var r=t.find("Circle"),o=r[0],s=t.find("Text");this.middlePoints[2*n]=e[0],this.middlePoints[2*n+1]=e[1],r&&r[n+1]&&(r[n+1].x(e[0]),r[n+1].y(e[1]),s[n].x(e[0]+i.EDIT_LABLE_DXY.dx),s[n].y(e[1]+i.EDIT_LABLE_DXY.dy),this.reCal(o))},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.SimpleEllipseEdit=void 0;var r=n(8),i=n(11),o=n(15);e.SimpleEllipseEdit=function(t){function e(n,r,i,s,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,s,a));return r.name="editshape",c.shape=new Konva.Ellipse(r),c.templayer.add(c.shape),c.tr=(0,o.makeTransformer)(),c.tr.on("mousedown touchstart",(function(t){c.stage.canvasaction.isSelectMode()&&(t.cancelBubble=!0)})),c.startData=null,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){return this.startData=[t.x,t.y,this.clientid,this.toolname,[this.style.strokeWidth,this.isFill?1:0,this.isFill?this.style.fill:this.style.stroke,this.isShift?1:0],[],[this.uid]],null},e.prototype.centerDataTemp=function(t){},e.prototype.endDataTemp=function(t){return this.startData&&(this.startData[4][3]=this.isShift?1:0),[this.startData,[t.x,t.y,this.clientid,!0]]},e.prototype.draw=function(){if(this.middlePoints.length>3){var t={x:this.middlePoints[0],y:this.middlePoints[1]},e={x:this.middlePoints[this.middlePoints.length-2],y:this.middlePoints[this.middlePoints.length-1]};if(this.isShift){var n=Math.min(Math.abs((e.x-t.x)/2),Math.abs((e.y-t.y)/2));t.x<e.x?(this.shape.x(t.x+n),this.shape.y(t.y+n)):(this.shape.x(t.x-n),this.shape.y(t.y-n)),this.shape.radius({x:n,y:n})}else this.shape.x((t.x+e.x)/2),this.shape.y((t.y+e.y)/2),this.shape.radius({x:Math.abs(t.x-e.x)/2,y:Math.max(Math.abs(t.y-e.y)/2,2)});"replayData"!==this.showtype&&this.templayer.batchDraw()}},e.prototype.endDraw=function(){var t=this,e=this.shape.clone();this.shape.remove(),this.shape.destroy(),this.showlayer.add(e),e.me=this,e.id(this.uid),"replayData"===this.showtype||e.draw(),e.on("click",(function(n){if(t.stage.canvasaction.isSelectMode()){var r=t.isSelected;t.stage.canvasaction.removeSelectShape(),t.isSelected=r,t.isSelected?t.unfireEdit(e):t.fireEdit(e);var i=t.stage.canvasaction.options;i&&i.selectShapeCb&&i.selectShapeCb()}n.cancelBubble=!0})),e.on("mousedown touchstart",(function(e){t.stage.canvasaction.isSelectMode()&&(e.cancelBubble=!0)})),e.on("dragmove",(function(){console.log("dragmove")})),e.on("dragend",(function(){if(console.log("dragend"),t.isSelected){t.stage.canvasaction.localClientId++;var n=e.x(),r=e.y(),s=[n*t.stage.scale().x,r*t.stage.scale().x,t.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.id(),0],!0];t.stage.canvasaction.sendMessageToOutSider(s),t.stage.canvasaction.pushCatchData(s)}})),e.on("transform",(function(){console.log("transform")})),e.on("transformend",(function(){console.log("transform end"),t.stage.canvasaction.localClientId++;var n=e.x(),r=e.y(),s=e.scaleX(),a=e.scaleY(),c=[n*t.stage.scale().x,r*t.stage.scale().x,t.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.id(),1,s,a],!0];t.stage.canvasaction.sendMessageToOutSider(c),t.stage.canvasaction.pushCatchData(c)}))},e.prototype.fireEdit=function(t){var e=this;this.isSelected=!0,t.draggable(!0),this.stage.container().style.cursor="move",this.tr&&this.tr.remove(),this.showlayer.add(this.tr),this.tr.attachTo(t),t.off("mouseenter"),t.off("mouseleave"),t.on("mouseenter",(function(){console.log("mouseenter"),e.stage.container().style.cursor="move"})),t.on("mouseleave",(function(){console.log("mouseleave"),e.stage.getIntersection(e.stage.getPointerPosition(),"Ellipse")!==t&&(e.stage.container().style.cursor="")})),this.showlayer.batchDraw()},e.prototype.unfireEdit=function(t){this.isSelected=!1,this.tr&&this.tr.remove(),t.off("mouseenter"),t.off("mouseleave"),this.stage.container().style.cursor="",t.draggable(!1),this.showlayer.batchDraw()},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.SimpleTriangleEdit=void 0;var r=n(8),i=n(11),o=n(15);e.SimpleTriangleEdit=function(t){function e(n,r,i,s,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,s,a));return r.name="editshape",c.shape=new Konva.Line(r),c.templayer.add(c.shape),c.tr=(0,o.makeTransformer)(),c.tr.on("mousedown touchstart",(function(t){c.stage.canvasaction.isSelectMode()&&(t.cancelBubble=!0)})),c.shiftPois=null,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){},e.prototype.centerDataTemp=function(t){},e.prototype.endDataTemp=function(t){return[[this.middlePoints[0]*this.stage.scale().x,this.middlePoints[1]*this.stage.scale().x,this.clientid,this.toolname,[this.style.strokeWidth,this.isFill?this.style.fill:this.style.stroke,this.shiftPois[0]*this.stage.scale().x,this.shiftPois[1]*this.stage.scale().x,(this.shiftPois.length<4?this.shiftPois[0]:this.shiftPois[2])*this.stage.scale().x,(this.shiftPois.length<4?this.shiftPois[1]:this.shiftPois[3])*this.stage.scale().x,this.isShift?1:0,this.isFill?1:0],[],[this.uid],!0]]},e.prototype.draw=function(){if(this.middlePoints.length>3){var t={x:this.middlePoints[0],y:this.middlePoints[1]},e={x:this.middlePoints[this.middlePoints.length-2],y:this.middlePoints[this.middlePoints.length-1]};if(this.isShift){var n=(e.y-t.y)/Math.sqrt(3)+t.x,r=t.x-(e.y-t.y)/Math.sqrt(3);this.shape.points([t.x,t.y,n,e.y,r,e.y]),this.shiftPois=[n,e.y,r,e.y]}else if((""+this.clientid).indexOf(".")>0){var i={x:this.middlePoints[this.middlePoints.length-4],y:this.middlePoints[this.middlePoints.length-3]};this.shape.points([t.x,t.y,i.x,i.y,e.x,e.y]),this.shiftPois=[i.x,i.y,e.x,e.y]}else{var o={x:2*t.x-e.x,y:e.y};o.y===t.y&&(o.y=t.y+1,e.y=e.y+1),this.shape.points([t.x,t.y,e.x,e.y,o.x,o.y]),this.shiftPois=[e.x,e.y,o.x,o.y]}this.shape.closed(!0),"replayData"!==this.showtype&&this.templayer.batchDraw()}},e.prototype.endDraw=function(){var t=this,e=this.shape.clone();this.shape.remove(),this.shape.destroy(),this.showlayer.add(e),e.me=this,e.id(this.uid),"replayData"===this.showtype||e.draw(),e.on("click",(function(n){if(t.stage.canvasaction.isSelectMode()){var r=t.isSelected;t.stage.canvasaction.removeSelectShape(),t.isSelected=r,t.isSelected?t.unfireEdit(e):t.fireEdit(e);var i=t.stage.canvasaction.options;i&&i.selectShapeCb&&i.selectShapeCb()}n.cancelBubble=!0})),e.on("mousedown touchstart",(function(e){t.stage.canvasaction.isSelectMode()&&(e.cancelBubble=!0)})),e.on("dragmove",(function(){console.log("dragmove")})),e.on("dragend",(function(){if(console.log("dragend"),t.isSelected){t.stage.canvasaction.localClientId++;var n=e.x(),r=e.y(),s=[n*t.stage.scale().x,r*t.stage.scale().x,t.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.id(),0],!0];t.stage.canvasaction.sendMessageToOutSider(s),t.stage.canvasaction.pushCatchData(s)}})),e.on("transform",(function(){console.log("transform")})),e.on("transformend",(function(){console.log("transform end"),t.stage.canvasaction.localClientId++;var n=e.x(),r=e.y(),s=e.scaleX(),a=e.scaleY(),c=[n*t.stage.scale().x,r*t.stage.scale().x,t.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.id(),1,s,a],!0];t.stage.canvasaction.sendMessageToOutSider(c),t.stage.canvasaction.pushCatchData(c)}))},e.prototype.fireEdit=function(t){var e=this;this.isSelected=!0,t.draggable(!0),this.stage.container().style.cursor="move",this.tr&&this.tr.remove(),this.showlayer.add(this.tr),this.tr.attachTo(t),t.off("mouseenter"),t.off("mouseleave"),t.on("mouseenter",(function(){console.log("mouseenter"),e.stage.container().style.cursor="move"})),t.on("mouseleave",(function(){console.log("mouseleave"),e.stage.getIntersection(e.stage.getPointerPosition(),"Line")!==t&&(e.stage.container().style.cursor="")})),this.showlayer.batchDraw()},e.prototype.unfireEdit=function(t){this.isSelected=!1,this.tr&&this.tr.remove(),t.off("mouseenter"),t.off("mouseleave"),this.stage.container().style.cursor="",t.draggable(!1),this.showlayer.batchDraw()},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.LineDashEdit=void 0;var r=n(85);e.LineDashEdit=function(t){function e(n,r,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,o,s));return a.line.setAttr("dash",[5,5]),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.LineEdit)},function(t,e,n){"use strict";e.__esModule=!0,e.CoordSys=void 0;var r=n(8),i=n(11),o=n(15);e.CoordSys=function(t){function e(n,r,i,s,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,s,a));return c.shape=new Konva.Group({draggable:!1,name:"editshape"}),c.templayer.add(c.shape),c.tr=(0,o.makeTransformer)({disableMiu:!0}),c.tr.on("mousedown touchstart",(function(t){c.stage.canvasaction.isSelectMode()&&(t.cancelBubble=!0)})),c.linex=new Konva.Line(Object.assign({},r,{dragBoundFunc:function(t){var e=t.y,n=this.parent,r=n.find("Line")[1];return e-r.getAbsolutePosition().y>Math.abs(n.me.middlePoints[3]-n.me.middlePoints[1])*n.scaleY()-10?e=Math.abs(n.me.middlePoints[3]-n.me.middlePoints[1])*n.scaleY()-10+r.getAbsolutePosition().y:e-r.getAbsolutePosition().y<-Math.abs(n.me.middlePoints[1]-r.points()[1])*n.scaleY()+10&&(e=-Math.abs(n.me.middlePoints[1]-r.points()[1])*n.scaleY()+10+r.getAbsolutePosition().y),{x:this.getAbsolutePosition().x,y:e}}})),c.linex.setAttr("pIndex",0),c.liney=new Konva.Line(Object.assign({},r,{dragBoundFunc:function(t){var e=t.x;console.log(this.getAbsolutePosition().x,t);var n=this.parent,r=n.find("Line")[0];return console.log(e,n.x(),n.me.middlePoints[0],r.points()[2],n.scaleX(),n.scaleY()),e-r.getAbsolutePosition().x>Math.abs(n.me.middlePoints[0]-r.points()[2])*n.scaleX()-10?e=Math.abs(n.me.middlePoints[0]-r.points()[2])*n.scaleX()-10+r.getAbsolutePosition().x:e-r.getAbsolutePosition().x<-Math.abs(n.me.middlePoints[2]-n.me.middlePoints[0])*n.scaleX()+10&&(e=-Math.abs(n.me.middlePoints[2]-n.me.middlePoints[0])*n.scaleX()+10+r.getAbsolutePosition().x),{x:e,y:this.getAbsolutePosition().y}}})),c.liney.setAttr("pIndex",1),c.centerPoi=new Konva.Circle({x:-10,y:-10,radius:r.strokeWidth+2,fill:"white",stroke:r.stroke,draggable:!1,pIndex:4,shadowEnabled:!1,shadowColor:r.stroke,shadowBlur:10,shadowOpacity:1}),c.tempAchor=new Konva.RegularPolygon({x:-10,y:-10,sides:3,radius:r.strokeWidth+3,fill:r.stroke,draggable:!1,shadowEnabled:!1,shadowColor:r.stroke,shadowBlur:10,shadowOpacity:1,pIndex:2,dragBoundFunc:function(t){console.log("pos",t);var e=t.x,n=this.parent.find("Circle")[0];return e<n.getClientRect().x+10&&(e=n.getClientRect().x+10),{x:e,y:this.getAbsolutePosition().y}}}),o.makeMoveHover.bind(c)(c.tempAchor),o.makeMoveHover.bind(c)(c.centerPoi),c.tempAchorY=c.tempAchor.clone({pIndex:3,dragBoundFunc:function(t){var e=t.y,n=this.parent.find("Circle")[0];return e>n.getClientRect().y-10&&(e=n.getClientRect().y-10),{x:this.getAbsolutePosition().x,y:e}}}),c.tempAchor.rotate(-30),c.achorText=(0,o.makeTextPoi)(r,"x"),c.achorTextY=c.achorText.clone({text:"y"}),c.shape.add(c.linex),c.shape.add(c.liney),c.shape.add(c.tempAchor),c.shape.add(c.tempAchorY),c.shape.add(c.achorText),c.shape.add(c.achorTextY),c.shape.add(c.centerPoi),c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDataTemp=function(t){return null},e.prototype.moveAchorText=function(t,e){},e.prototype.fitAchorText=function(t,e){},e.prototype.centerDataTemp=function(t){return null},e.prototype.endDataTemp=function(t){return[[0,0,this.clientid,this.toolname,[this.style.strokeWidth,0,this.style.stroke,0],[],[this.uid,this.middlePoints.concat()]]]},e.prototype.pushPoint=function(t){var e=this.middlePoints.length;console.log("isSHift",this.isShift),4===e?(this.middlePoints[2]=t.x/this.stage.scale().x,this.middlePoints[3]=t.y/this.stage.scale().x):(this.middlePoints.push(t.x/this.stage.scale().x),this.middlePoints.push(t.y/this.stage.scale().x),0===e?this.tempAchor.setAttr("status","fixed"):2===e&&this.tempAchor.setAttr("status","end")),this.isShift&&4===this.middlePoints.length&&(this.middlePoints[3]=this.middlePoints[1]+(this.middlePoints[2]-this.middlePoints[0])),this.reCal(this.shape)},e.prototype.reCal=function(t,e,n){if(Number.isInteger(e))switch(e){case 0:var r=t.find("RegularPolygon")[0],o=t.find("Text")[0],s=t.find("Line")[0],a=t.find("Circle")[0];s.position(n),a.y(s.points()[s.points().length-1]+n.y),r.y(s.points()[s.points().length-1]+n.y),o.y(s.points()[s.points().length-1]+n.y+i.EDIT_LABLE_DXY.dy);break;case 1:var c=t.find("RegularPolygon")[1],l=t.find("Text")[1],u=t.find("Line")[1],h=t.find("Circle")[0];u.position(n),h.x(u.points()[0]+n.x),c.x(u.points()[0]+n.x),l.x(u.points()[0]+n.x+i.EDIT_LABLE_DXY.dx);break;case 2:var d=t.find("RegularPolygon")[0],p=t.find("Text")[0],f=t.find("Line")[0];d.position(n),p.position({x:n.x+i.EDIT_LABLE_DXY.dx,y:n.y+i.EDIT_LABLE_DXY.dy}),f.points([f.points()[0],f.points()[1],n.x-f.x(),f.points()[1]]);break;case 3:var g=t.find("RegularPolygon")[1],m=t.find("Text")[1],v=t.find("Line")[1];g.position(n),m.position({x:n.x+i.EDIT_LABLE_DXY.dx,y:n.y+i.EDIT_LABLE_DXY.dy}),v.points([v.points()[0],n.y-v.y(),v.points()[0],v.points()[v.points().length-1]])}else if(2===this.middlePoints.length){var y=t.find("Circle")[0];y.x(this.middlePoints[0]),y.y(this.middlePoints[1])}else{var b={x:this.middlePoints[0],y:this.middlePoints[1]},w={x:this.middlePoints[2],y:this.middlePoints[3]},_=Math.abs(w.x-b.x),x=Math.abs(w.y-b.y);0===_?_=x:0===x&&(x=_);var O=t.find("Line"),S=t.find("RegularPolygon"),j=t.find("Text"),E=S[0],T=S[1],P=O[0],C=O[1],A=j[0],k=j[1],D=[b.x-_,b.y,b.x+_,b.y],I=[b.x,b.y-x,b.x,b.y+x];P.points(D),C.points(I),E.position({x:D[D.length-2],y:D[D.length-1]}),T.position({x:I[0],y:I[1]}),A.position({x:E.x()+i.EDIT_LABLE_DXY.dx,y:E.y()+i.EDIT_LABLE_DXY.dy}),k.position({x:T.x()+i.EDIT_LABLE_DXY.dx,y:T.y()+i.EDIT_LABLE_DXY.dy})}},e.prototype.draw=function(){"replayData"!==this.showtype&&this.templayer.batchDraw()},e.prototype.endDraw=function(){var t=this,e=this.shape.clone();this.shape.remove(),this.shape.destroy(),this.showlayer.add(e),e.me=this,e.id(this.uid),"replayData"===this.showtype||e.draw(),e.on("click",(function(n){if(t.stage.canvasaction.isSelectMode()){var r=t.isSelected;t.stage.canvasaction.removeSelectShape(),t.isSelected=r,t.isSelected?t.unfireEdit(e):(console.log("fireEdit"),t.fireEdit(e));var i=t.stage.canvasaction.options;i&&i.selectShapeCb&&i.selectShapeCb()}n.cancelBubble=!0})),e.on("mousedown touchstart",(function(e){console.log("mousedown",t.stage.canvasaction.isSelectMode()),t.stage.canvasaction.isSelectMode()&&(e.cancelBubble=!0)})),e.on("dragmove",(function(n){if(console.log("dragmove",n.target),n.target!=e){n.cancelBubble=!0;var r=n.target,i=r.getAttr("pIndex");t.fireEdit(e),t.reCal(e,i,r.position())}})),e.on("dragend",(function(n){if(console.log("dragend",n.target),t.isSelected){var r=n.target;t.stage.canvasaction.localClientId++;var s=[];if(r==e){var a=e.x(),c=e.y();s=[a*t.stage.scale().x,c*t.stage.scale().x,t.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.id(),0],!0]}else{var l=r.x(),u=r.y(),h=r.getAttr("pIndex");s=[l*t.stage.scale().x,u*t.stage.scale().x,t.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.id(),2,h],!0]}t.stage.canvasaction.sendMessageToOutSider(s),t.stage.canvasaction.pushCatchData(s)}})),e.on("transform",(function(){console.log("transform")})),e.on("transformend",(function(){console.log("transform end"),t.stage.canvasaction.localClientId++;var n=e.x(),r=e.y(),s=e.scaleX(),a=e.scaleY(),c=[n*t.stage.scale().x,r*t.stage.scale().x,t.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.id(),1,s,a],!0];t.stage.canvasaction.sendMessageToOutSider(c),t.stage.canvasaction.pushCatchData(c)}))},e.prototype.fireEdit=function(t){var e=this;this.isSelected=!0,t.draggable(!0),this.stage.container().style.cursor="move",this.tr&&this.tr.remove(),this.showlayer.add(this.tr),this.tr.attachTo(t),t.off("mouseenter"),t.off("mouseleave"),t.on("mouseenter",(function(){console.log("mouseenter"),e.stage.container().style.cursor="move"})),t.on("mouseleave",(function(){console.log("mouseleave"),e.stage.getIntersection(e.stage.getPointerPosition(),"Group")!==t&&(e.stage.container().style.cursor="")})),t.find("RegularPolygon").forEach((function(t,e){t.draggable(!0)})),t.find("Line").forEach((function(t,e){t.draggable(!0)})),this.showlayer.batchDraw()},e.prototype.unfireEdit=function(t){this.isSelected=!1,t.draggable(!1),this.tr&&this.tr.remove(),t.off("mouseenter"),t.off("mouseleave"),this.stage.container().style.cursor="",t.find("Line").forEach((function(t){t.draggable(!1)})),t.find("RegularPolygon").forEach((function(t){t.draggable(!1)})),this.showlayer.batchDraw()},e.prototype.changeByPoint=function(t,e,n){this.reCal(t,n,{x:e[0],y:e[1]})},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.TextEdit=void 0;var r=n(8),i=n(11),o=(n(26),n(15));e.TextEdit=function(t){function e(n,r,i,s,a,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,s));return l.shape=new Konva.Text({fill:r.stroke,fontFamily:r.fontFamily||"microsoft yahei",fontSize:r.fontSize||14,name:"editshape"}),l.text=c,l.templayer.add(l.shape),l.tr=(0,o.makeTransformer)(),l.tr.on("mousedown touchstart",(function(t){l.stage.canvasaction.isSelectMode()&&(t.cancelBubble=!0)})),l.textarea=document.createElement("div"),l.textarea.contentEditable=!0,l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushPoint=function(t){this.middlePoints[0]=t.x/this.stage.scale().x,this.middlePoints[1]=t.y/this.stage.scale().x},e.prototype.startDataTemp=function(t){},e.prototype.centerDataTemp=function(t){},e.prototype.endDataTemp=function(t){return[[t.x,t.y,this.clientid,this.toolname,[this.style.fontSize||14,this.style.stroke],[],[this.uid,this.text]]]},e.prototype.draw=function(){this.middlePoints.length>0&&(this.shape.x(this.middlePoints[0]),this.shape.y(this.middlePoints[1]),this.shape.text(this.text),"replayData"!==this.showtype&&this.templayer.batchDraw())},e.prototype.moveFunc=function(t){this.stage.canvasaction.localClientId++;var e=t.x(),n=t.y(),r=[e*this.stage.scale().x,n*this.stage.scale().x,this.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[t.id(),0],!0];this.stage.canvasaction.sendMessageToOutSider(r),this.stage.canvasaction.pushCatchData(r)},e.prototype.endDraw=function(){var t=this,e=this.shape.clone();this.shape.remove(),this.shape.destroy(),this.showlayer.add(e),e.me=this,e.id(this.uid),"replayData"===this.showtype||e.draw(),e.on("click",(function(n){if(t.stage.canvasaction.isSelectMode()){var r=t.isSelected;t.stage.canvasaction.removeSelectShape(),t.isSelected=r,t.isSelected?t.unfireEdit(e):(console.log("fireEdit"),t.fireEdit(e));var i=t.stage.canvasaction.options;i&&i.selectShapeCb&&i.selectShapeCb()}n.cancelBubble=!0})),e.on("mousedown touchstart",(function(e){console.log("mousedown",t.stage.canvasaction.isSelectMode()),t.stage.canvasaction.isSelectMode()&&(e.cancelBubble=!0)})),e.on("dragmove",(function(){console.log("dragmove")})),e.on("dragend",(function(){console.log("dragend"),t.isSelected&&t.moveFunc(e)})),e.on("transform",(function(){console.log("transform")})),e.on("transformend",(function(){console.log("transform end"),t.stage.canvasaction.localClientId++;var n=e.x(),r=e.y(),s=e.scaleX(),a=e.scaleY(),c=[n*t.stage.scale().x,r*t.stage.scale().x,t.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[e.id(),1,s,a],!0];t.stage.canvasaction.sendMessageToOutSider(c),t.stage.canvasaction.pushCatchData(c)})),e.on("dblclick",(function(n){t.stage.canvasaction.isSelectMode()&&(t.tr.remove(),e.hide(),e.setAttr("isEdit",!0),t.showTextEditInput(e)),n.cancelBubble=!0}))},e.prototype.resizeTextArea=function(t){var e=t.absolutePosition(),n=this.stage.container().getBoundingClientRect(),r=n.left+e.x,i=n.top+e.y;this.textarea.style.top=i+"px",this.textarea.style.left=r+"px",this.textarea.style.fontSize=t.fontSize()*t.scaleY()*this.stage.scaleY()+"px"},e.prototype.showTextEditInput=function(t){var e=this,n=t.absolutePosition(),r=this.stage.container().getBoundingClientRect(),i=r.left+n.x,s=r.top+n.y;this.textarea&&this.textarea.remove(),this.textarea=document.createElement("div"),this.textarea.contentEditable=!0,document.body.appendChild(this.textarea),this.textarea.innerText=t.text(),this.textarea.style.position="absolute",this.textarea.style.display="block",this.textarea.style.top=s+"px",this.textarea.style.left=i+"px",this.textarea.style.minWidth="100px";var a=t.fontSize()*t.scaleY()*this.stage.scaleY();this.textarea.style.fontSize=a+"px",this.textarea.style.border="none",this.textarea.style.padding="0px",this.textarea.style.margin="0px",this.textarea.style.overflow="hidden",this.textarea.style.background="none",this.textarea.style.outline="1px solid "+t.fill(),this.textarea.style.resize="none",this.textarea.style.lineHeight=t.lineHeight(),this.textarea.style.fontFamily=t.fontFamily(),this.textarea.style.textAlign=t.align(),this.textarea.style.color=t.fill(),this.textarea.style.height="fit-content",this.textarea.style.minHeight=a+5+"px",this.textarea.focus(),this.textarea.addEventListener("keyup",this.changeEditHeight.bind(this)),this.textarea.addEventListener("keydown",this.chagneEnterBr.bind(this)),console.log("zmMovedDom,zmMovedDom"),(0,o.zmMovedDom)({dragHandle:this.textarea,dragTarget:this.textarea,parentDom:this.stage.canvasaction.parentDom.querySelector(".konvajs-content"),cb:function(n){var i=n.type;n.x,n.y;window.shapeTest=e.shape,console.log("zmMovedDom cb",i),"move"===i?(t.x((e.textarea.offsetLeft-r.left)/e.stage.scale().x),t.y((e.textarea.offsetTop-r.top-e.stage.y())/e.stage.scale().x)):null===e.shape.parent&&e.moveFunc(t)}})},e.prototype.changeEditHeight=function(t){t.stopPropagation(),this.textarea.scrollHeight>this.textarea.clientHeight&&(this.textarea.style.height=this.textarea.scrollHeight+3+"px")},e.prototype.chagneEnterBr=function(t){t.stopPropagation()},e.prototype.fireEdit=function(t){var e=this;this.isSelected=!0,t.draggable(!0),this.stage.container().style.cursor="move",this.tr&&this.tr.remove(),this.showlayer.add(this.tr),this.tr.attachTo(t),t.off("mouseenter"),t.off("mouseleave"),t.on("mouseenter",(function(){console.log("mouseenter"),e.stage.container().style.cursor="move"})),t.on("mouseleave",(function(){console.log("mouseleave"),e.stage.container().style.cursor=""})),this.showlayer.batchDraw()},e.prototype.formatTextStr=function(t){if(!t)return"";var e=t.replace(/<div><br><\/div>/g,"\n").replace(/<div>/g,"\n").replace(/<\/div>/g,"").replace(/<br>/g,"\n"),n=document.createElement("DIV");return n.innerHTML=e,n.textContent||n.innerText||""},e.prototype.unfireEdit=function(t){if(console.log("unfireEdit",t),this.isSelected=!1,this.textarea.isConnected){var e=this.formatTextStr(this.textarea.innerHTML),n=this.text;console.log("asdsad",e,n),this.text=e,t.text(this.text),t.setAttr("isEdit",!1);var r=this.stage.container().getBoundingClientRect();if(t.x((this.textarea.offsetLeft-r.left)/this.stage.scale().x),t.y((this.textarea.offsetTop-r.top-this.stage.y())/this.stage.scale().x),t.show(),n!=e){this.stage.canvasaction.localClientId++;var s=t.x(),a=t.y(),c=[s*this.stage.scale().x,a*this.stage.scale().x,this.stage.canvasaction.localClientId,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,[],[(0,o.makeUUID)()],[t.id(),3,this.text],!0];this.stage.canvasaction.sendMessageToOutSider(c),this.stage.canvasaction.pushCatchData(c)}this.removeTextArea()}t.draggable(!1),this.tr&&this.tr.remove(),t.off("mouseenter"),t.off("mouseleave"),this.stage.container().style.cursor="",this.showlayer.batchDraw()},e.prototype.removeTextArea=function(){this.textarea.isConnected&&(this.textarea.removeEventListener("keyup",this.changeEditHeight.bind(this)),this.textarea.removeEventListener("keydown",this.chagneEnterBr.bind(this)),this.textarea.parentNode.removeChild(this.textarea))},e.prototype.changeTextVal=function(t,e){this.text=e,t.text(e)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.removeTextArea()},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.LineArrowDashEdit=void 0;var r=n(86);e.LineArrowDashEdit=function(t){function e(n,r,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,o,s));return a.line.setAttr("dash",[5,5]),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.LineArrowEdit)},function(t,e,n){"use strict";e.__esModule=!0,e.EditDeletePage=void 0;var r=n(8);n(11);e.EditDeletePage=function(t){function e(n,r,i,o,s,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,o,s,a));return c.data=a,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushPoint=function(t){this.showlayer.removeChildren(),this.endDraw()},e.prototype.startDataTemp=function(t){return null},e.prototype.centerDataTemp=function(t){return null},e.prototype.endDataTemp=function(t){return null},e.prototype.draw=function(){},e.prototype.endDraw=function(){"replayData"!==this.showtype&&this.showlayer.batchDraw()},e.prototype.changeRegular=function(){},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.EditRecover=void 0;var r=n(8);var i=null;e.EditRecover=function(t){function e(n,r,i,o,s,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,o,s,a));return c.data=a,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.redrawData=function(){this.showlayer.removeChildren(),this.stage.canvasaction.redraw(),this.endDraw()},e.prototype.pushPoint=function(t){var e=this;clearTimeout(i),i=setTimeout((function(){console.log("redrawdata"),e.redrawData(),"replayData"===e.showtype&&e.showlayer.batchDraw()}),20)},e.prototype.startDataTemp=function(t){return null},e.prototype.centerDataTemp=function(t){return null},e.prototype.endDataTemp=function(t){return null},e.prototype.draw=function(){},e.prototype.endDraw=function(){"replayData"!==this.showtype&&this.showlayer.batchDraw()},e.prototype.changeRegular=function(){},e}(r.Shape)},function(t,e,n){"use strict";e.__esModule=!0,e.CanvasAction=void 0;var r=n(52),i=n(11),o=n(15),s=n(188);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.DRAWTOOL_RECT_EDIT,i.DRAWTOOL_CIRCLE_EDIT,i.DRAWTOOL_POLYGON_EDIT,i.DRAWTOOL_EDIT_REGULAR_SHAPE_CHANGE,e.CanvasAction=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a(this,t),this.stage=e,this.msgport=null,this.dataCallBack=null,this.tooltype="brush",this.initEvent=this.initEvent.bind(this),this.shape=null,this.scaletoserver=null,this.cacheDataInstance=n,this.sendMessageToOutSider=this.sendMessageToOutSider.bind(this),this.isShift=!1,this.isFill=!1,this.isTempAchor=!0,this.keyDown=this.keyDown.bind(this),this.keyUp=this.keyUp.bind(this),this.localStyle={stroke:"#EF4C4F",strokeWidth:2},this.localClientId=0,this.pushCatchData=this.pushCatchData.bind(this),this.dataToServer=this.dataToServer.bind(this),this.isMouseEventFilter=this.isMouseEventFilter.bind(this),this.isMouseClickedDraw=this.isMouseClickedDraw.bind(this),this.mouseClickedDrawLogic=this.mouseClickedDrawLogic.bind(this),this.handleDownLogic=this.handleDownLogic.bind(this),this.handleDbClick=this.handleDbClick.bind(this),this.handleMoveLogic=this.handleMoveLogic.bind(this),this.handleStopLogic=this.handleStopLogic.bind(this),this.mouseClickedDrawStopLogic=this.mouseClickedDrawStopLogic.bind(this),this.outerStage=this.outerStage.bind(this),this.drawOuterStage=this.drawOuterStage.bind(this),this.deleteTempShape=this.deleteTempShape.bind(this),this.deletePageData=this.deletePageData.bind(this),this.recoverData=this.recoverData.bind(this),this.deleteSelectData=this.deleteSelectData.bind(this),this.calcRecoverNum=this.calcRecoverNum.bind(this),this.options=r,this.transformScale=1,this.clickedDrawTools=[i.DRAWTOOL_POLYGON_EDIT,i.DRAWTOOL_ELLIPSE_EDIT,i.DRAWTOOL_CIRCLE_EDIT,i.DRAWTOOL_LINE_EDIT,i.DRAWTOOL_TEXTTOOL_EDIT,i.DRAWTOOL_LINEDASH_EDIT,i.DRAWTOOL_LINEARROW_EDIT,i.DRAWTOOL_LINEARROWDASH_EDIT,i.DRAWTOOL_COORDSYS_EDIT],this.mousemovetime=performance.now(),this.recoverLeftNums={},this.disableRecover=!0,this.isMouseUpPaiting=!1,this.isMouseMovePaiting=!1}return t.prototype.handleDbClick=function(t){console.log("handleDbClick")},t.prototype.handleDownLogic=function(t){var e=t.evt&&(t.evt.data||t.evt.targetTouches&&t.evt.targetTouches[0]&&t.evt.targetTouches[0].force);if(!this.isMouseEventFilter())if(this.isMouseClickedDraw())this.mouseClickedDrawLogic(t);else{t&&t.evt&&2==t.evt.button&&this.options&&this.options.rightMouseDownCb&&this.options.rightMouseDownCb();var n=(0,r.makeShapeInstance)(this.tooltype);this.shape&&this.shape.shape&&this.shape.shape.remove(),this.localClientId=this.localClientId+1;var i=Object.assign({},this.localStyle);this.isFill||delete i.fill,this.shape=new n(this.stage,i,this.localClientId,this.tooltype),this.shape.isShift=this.isShift,this.shape.isFill=this.isFill,this.shape.uid=(0,o.makeUUID)(),e&&(this.shape.pressure=e);var s=this.stage.getPointerPosition();if(s){s.x=s.x/this.transformScale,s.y=(s.y-this.stage.y())/this.transformScale;var a=this.shape.startDataTemp(s);a&&(this.sendMessageToOutSider(a),this.pushCatchData(a)),this.shape.pushPoint(s),this.isMouseUpPaiting=!0,this.isMouseMovePaiting=!0}}},t.prototype.handleMoveLogic=function(t){if(this.isMouseMovePaiting&&!(performance.now()-this.mousemovetime<16)){this.mousemovetime=performance.now();var e=t.evt&&(t.evt.data||t.evt.targetTouches&&t.evt.targetTouches[0]&&t.evt.targetTouches[0].force);e&&(this.shape.pressure=e),this.shape.isShift=this.isShift;var n=this.stage.getPointerPosition();if(n){n.x=n.x/this.transformScale,n.y=(n.y-this.stage.y())/this.transformScale,this.shape.pushPoint(n),this.shape.draw();var r=this.shape.centerDataTemp(n);r&&(this.sendMessageToOutSider(r),this.pushCatchData(r))}}},t.prototype.mouseClickedDrawStopLogic=function(t){s.init.bind(this)(t)},t.prototype.handleStopLogic=function(t){var e=t.evt&&(t.evt.data||t.evt.targetTouches&&t.evt.targetTouches[0]&&t.evt.targetTouches[0].force);if(!this.isMouseEventFilter()&&this.isMouseUpPaiting)if(this.isMouseClickedDraw())this.mouseClickedDrawStopLogic(t);else{t&&t.evt&&2==t.evt.button&&this.options&&this.options.rightMouseUpCb&&this.options.rightMouseUpCb();var n=this.stage.getPointerPosition();if(n&&(n.x=n.x/this.transformScale,n.y=(n.y-this.stage.y())/this.transformScale),this.shape.isShift=this.isShift,this.shape){e&&(this.shape.pressure=e),n&&this.shape.pushPoint(n),this.shape.draw(),this.shape.endDraw();var r=n?this.shape.endDataTemp(n):this.shape.endDataTemp({x:this.shape.middlePoints[this.shape.middlePoints.length-2]*this.stage.scale().x,y:this.shape.middlePoints[this.shape.middlePoints.length-1]*this.stage.scale().x});if(r)for(var i=0;i<r.length;i++)this.sendMessageToOutSider(r[i]),this.pushCatchData(r[i]);this.shape=null}this.isMouseUpPaiting=!1,this.isMouseMovePaiting=!1}},t.prototype.keyDownEvent=function(){window.addEventListener("keydown",this.keyDown)},t.prototype.keyUpEvent=function(){window.addEventListener("keyup",this.keyUp)},t.prototype.setLocalStyle=function(t){this.localStyle=t},t.prototype.keyDown=function(t){16===t.keyCode?this.isShift=!0:46===t.keyCode||(27===t.keyCode?this.removePolyGonTemp():90===t.keyCode&&t.ctrlKey&&(console.log("ctrl z"),this.disableRecover||this.recoverData()))},t.prototype.removePolyGonTemp=function(){this.shape&&this.isMouseClickedDraw()&&this.deleteTempShape()},t.prototype.keyUp=function(t){16===t.keyCode&&(this.isShift=!1)},t.prototype.removeEvent=function(){window.removeEventListener("keydown",this.keyDown),window.removeEventListener("keyup",this.keyUp)},t.prototype.pushCatchData=function(t){this.cacheDataInstance.layerCachData&&this.cacheDataInstance.layerCachData[this.cacheDataInstance.currentLayerId]||(this.cacheDataInstance.layerCachData[this.cacheDataInstance.currentLayerId]=[]),this.cacheDataInstance.layerCachData[this.cacheDataInstance.currentLayerId].push(this.dataToServer(t)),this.calcRecoverNum(t)},t.prototype.calcRecoverNum=function(t){try{t[0],t[1],t[2];var e=t[3];if(e&&"string"==typeof e){var n=this.recoverLeftNums[this.cacheDataInstance.currentLayerId];void 0===n&&(n=[]),e!==i.DRAWTOOL_EDIT_RECOVER?n.push(t):n.splice(-1),this.recoverLeftNums[this.cacheDataInstance.currentLayerId]=n.slice(-i.RECOVER_NUM)}}catch(t){}},t.prototype.drawTextAction=function(t,e,n){var i=(0,r.makeShapeInstance)(this.tooltype);this.shape&&this.shape.shape&&this.shape.shape.remove(),this.localClientId=this.localClientId+1,this.shape=new i(this.stage,this.localStyle,this.localClientId,this.tooltype,"",n),this.shape.uid=(0,o.makeUUID)(),this.shape.pushPoint({x:t,y:e});var s=this.shape.endDataTemp({x:t,y:e});if(s)for(var a=0;a<s.length;a++)this.sendMessageToOutSider(s[a]),this.pushCatchData(s[a]);this.shape.draw(),this.shape.endDraw()},t.prototype.isMouseEventFilter=function(){return this.tooltype===i.DRAWTOOL_TEXTTOOL||this.tooltype.indexOf("nodraw")>0},t.prototype.isMouseClickedDraw=function(t){return this.clickedDrawTools.includes(t||this.tooltype)},t.prototype.mouseClickedDrawLogic=function(t){var e=this.options.drawingProcessCb;if(this.shape)e&&e({tool:this.tooltype,step:"middle"}),t&&t.evt&&2==t.evt.button&&(this.removePolyGonTemp(),this.options.rightMouseDownCb&&this.options.rightMouseDownCb({kind:"rightClearClickedDraw"}));else{this.localClientId=this.localClientId+1;var n=(0,r.makeShapeInstance)(this.tooltype),s=Object.assign({},this.localStyle);this.shape=new n(this.stage,s,this.localClientId,this.tooltype),this.isFill||delete s.fill,this.shape.isFill=this.isFill,this.shape.uid=(0,o.makeUUID)(),this.shape.isTempAchor=this.isTempAchor,this.tooltype===i.DRAWTOOL_POLYGON_EDIT&&(this.isMouseMovePaiting=!0),e&&e({tool:this.tooltype,step:"first"})}this.isMouseUpPaiting=!0},t.prototype.setSelectMode=function(){this.tooltype=i.DRAWTOOL_SELCTE_SHAPE},t.prototype.isSelectMode=function(){return this.tooltype===i.DRAWTOOL_SELCTE_SHAPE},t.prototype.outerStage=function(){this.stage.fire("mouseup")},t.prototype.drawOuterStage=function(){this.stage.fire("mouseup"),this.tooltype===i.DRAWTOOL_SELCTE_SHAPE&&this.stage.stopDrag()},t.prototype.closeDraw=function(){this.outerStage()},t.prototype.initEvent=function(){this.keyDownEvent(),this.keyUpEvent(),this.stage.on("mousedown touchstart",this.handleDownLogic),this.stage.on("contentMouseout.proto",this.drawOuterStage),this.stage.on("dblclick dbltap",this.handleDbClick),this.stage.on("mousemove touchmove",this.handleMoveLogic),this.stage.on("mouseup touchend",this.handleStopLogic)},t.prototype.setToolKind=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t!==i.DRAWTOOL_SELCTE_SHAPE?(this.removeSelectShape(),this.stage.showlayer.hitGraphEnabled(!1)):this.stage.showlayer.hitGraphEnabled(!0),this.deleteTempShape(),this.tooltype=t,this.isTempAchor=e,this.shape&&this.shape.shape&&this.shape.destroy(),this.shape=null},t.prototype.deleteTempShape=function(){if(this.shape&&this.shape.shape){var t=this.shape.shape.find&&this.shape.shape.find(".editpoi").length;t&&(0,o.changeCharLabel)(1-t),this.shape.destroy(),this.shape=null,this.stage.templayer.batchDraw()}this.isMouseUpPaiting=!1,this.isMouseMovePaiting=!1,this.stage.container().style.cursor="",this.isShift=!1},t.prototype.removeSelectShape=function(){try{this.stage.showlayer.find(".editshape").forEach((function(t){t.me&&t.me.unfireEdit&&t.me.unfireEdit(t)})),this.stage.showlayer.batchDraw(),this.options&&this.options.selectShapeCb&&this.options.selectShapeCb()}catch(t){}},t.prototype.getSelectData=function(){return this.stage.showlayer.find(".editshape").filter((function(t){return t.me.isSelected}))},t.prototype.hasSelectedData=function(){for(var t=this.stage.showlayer.find(".editshape"),e=!1,n=0;n<t.length;n++)if(t[n].me.isSelected){e=!0;break}return e},t.prototype.deletePageData=function(){this.deleteTempShape();var t=(0,r.makeShapeInstance)(i.DRAWTOOL_EDIT_PAGE_DELETE);this.shape&&this.shape.shape&&this.shape.shape.remove(),this.localClientId=this.localClientId+1,this.shape=new t(this.stage,{},this.localClientId,i.DRAWTOOL_EDIT_PAGE_DELETE,null),this.shape.uid=(0,o.makeUUID)();var e={x:0,y:0};this.localClientId++;var n=[e.x,e.y,this.localClientId,i.DRAWTOOL_EDIT_PAGE_DELETE,[],[],[this.shape.uid],!0];this.sendMessageToOutSider(n),this.pushCatchData(n),this.shape.pushPoint(e),this.shape=null},t.prototype.recoverData=function(){var t=this.cacheDataInstance,e=t.layerCachData[t.currentLayerId];e||(e=[]);e.length;var n=this.recoverLeftNums[t.currentLayerId];if(n&&n.length>0){var s=n[n.length-1],a=(s[0],s[1],s[2],s[3],(0,r.makeShapeInstance)(i.DRAWTOOL_EDIT_RECOVER));this.shape&&this.shape.shape&&this.shape.shape.remove(),this.localClientId=this.localClientId+1,this.shape=new a(this.stage,{},this.localClientId,i.DRAWTOOL_EDIT_RECOVER,null);var c={x:0,y:0};this.localClientId++;var l=[c.x,c.y,this.localClientId,i.DRAWTOOL_EDIT_RECOVER,[],[],[(0,o.getActionItemUid)(s)],!0];this.sendMessageToOutSider(l),this.pushCatchData(l),this.shape.pushPoint(c),this.shape=null}},t.prototype.deleteSelectData=function(){var t=this.stage.showlayer.find(".editshape");if(this.deleteTempShape(),this.shape=null,0!==t.length){var e=[];t.forEach((function(t){t.me.isSelected&&e.push(t.id())}));var n=(0,r.makeShapeInstance)(i.DRAWTOOL_EDIT_SHAPE_DELETE);this.shape&&this.shape.shape&&this.shape.shape.remove(),this.localClientId=this.localClientId+1,this.shape=new n(this.stage,{},this.localClientId,this.tooltype,null,e),this.shape.uid=(0,o.makeUUID)();var s={x:0,y:0};this.localClientId++;var a=[s.x,s.y,this.localClientId,i.DRAWTOOL_EDIT_SHAPE_DELETE,[],[this.shape.uid],e,!0];this.sendMessageToOutSider(a),this.pushCatchData(a),this.shape.pushPoint(s),this.options&&this.options.selectShapeCb&&this.options.selectShapeCb(),this.deleteTempShape(),this.shape=null}},t.prototype.dataToServer=function(t){var e=t[0],n=t[1],r=t.slice(2),o=e/this.scaletoserver,s=n/this.scaletoserver;if(r[1]===i.DRAWTOOL_TRIANGLE||r[1]===i.DRAWTOOL_SIMPLE_TRIANGLE_EDIT){var a=r[0],c=r[1],l=r[2],u=r.slice(3),h=l[2]/this.scaletoserver,d=l[3]/this.scaletoserver,p=l[4]/this.scaletoserver,f=l[5]/this.scaletoserver;return[o,s,a,c,[l[0],l[1],h,d,p,f,l[6],l[7]]].concat(u)}if(r[1]===i.DRAWTOOL_LINEARROW){var g=r[0],m=r[1],v=r[2],y=r.slice(3),b=v[2]/this.scaletoserver,w=v[3]/this.scaletoserver;return[o,s,g,m,[v[0],v[1],b,w]].concat(y)}return[o,s].concat(r)},t.prototype.sendMessageToOutSider=function(t){this.dataCallBack&&this.dataCallBack(this.dataToServer(t))},t}()},function(t,e,n){"use strict";e.__esModule=!0,e.init=function(t){if(this.isMouseEventFilter())return;var e=this.options.drawingProcessCb,n=this.stage.getPointerPosition();n&&(n.x=n.x/this.transformScale,n.y=(n.y-this.stage.y())/this.transformScale);if(this.shape)if(this.shape.toolname===r.DRAWTOOL_POLYGON_EDIT)if(this.shape.tempAchor.isEnd){if(this.shape.controlPoints.length<6)return;this.isMouseMovePaiting=!1,this.shape.endDraw();var s=this.shape.endDataTemp(n);if(s)for(var a=0;a<s.length;a++)this.sendMessageToOutSider(s[a]),this.pushCatchData(s[a]);this.shape=null,e&&e({tool:this.tooltype,step:"end"})}else this.shape.pushControlPoint(n);else if(o.includes(this.shape.toolname)){if(console.log("poi",n),this.shape.pushPoint(n),this.shape.draw(),"fixed"===this.shape.tempAchor.getAttr("status"))console.log("fire move move"),this.isMouseMovePaiting=!0;else if("end"===this.shape.tempAchor.getAttr("status")){this.isMouseMovePaiting=!1,this.shape.endDraw();var c=this.shape.endDataTemp(n);if(c)for(a=0;a<c.length;a++)this.sendMessageToOutSider(c[a]),this.pushCatchData(c[a]);this.shape=null,e&&e({tool:this.tooltype,step:"end"})}}else if(this.shape.toolname===r.DRAWTOOL_TEXTTOOL_EDIT){if(this.shape.textarea.innerText.replace(/ /g,"")){this.shape.text=this.shape.formatTextStr(this.shape.textarea.innerHTML),this.shape.shape.text(this.shape.text),this.shape.endDraw(),this.shape.removeTextArea(),i.x=this.shape.shape.x()*this.stage.scale().x,i.y=this.shape.shape.y()*this.stage.scale().x,console.log("xixixixix",this.shape.shape.x(),this.shape.shape.y(),i);var l=this.shape.endDataTemp(i);if(l)for(a=0;a<l.length;a++)this.sendMessageToOutSider(l[a]),this.pushCatchData(l[a]);return this.shape=null,void(e&&e({tool:this.tooltype,step:"end"}))}console.log("psuhPoint poi",n),this.shape.pushPoint(n),this.shape.shape.x(this.shape.middlePoints[0]),this.shape.shape.y(this.shape.middlePoints[1]),this.shape.showTextEditInput(this.shape.shape),i=n}this.isMouseUpPaiting=!1};var r=n(11),i=null,o=[r.DRAWTOOL_CIRCLE_EDIT,r.DRAWTOOL_ELLIPSE_EDIT,r.DRAWTOOL_LINE_EDIT,r.DRAWTOOL_LINEDASH_EDIT,r.DRAWTOOL_LINEARROW_EDIT,r.DRAWTOOL_LINEARROWDASH_EDIT,r.DRAWTOOL_COORDSYS_EDIT]},function(t,e,n){"use strict";e.__esModule=!0;e.CacheData=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.layerCachData={},this.currentLayerId="1"}},function(t,e,n){"use strict";e.__esModule=!0,e.RecordControl=void 0;var r,i=n(26),o=(n(52),n(54));(r=o)&&r.__esModule,n(11);e.RecordControl=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.el=(0,i.el)("div.recordcontrol",(0,i.el)("div.flexrow",this.playorpause=(0,i.el)("a.pointer",{onclick:function(t){var e=""===n.playorpause.textContent;n.playorpause.textContent=e?"":"",e||n.canvas.recordPlay()}},""),this.playtimetip=(0,i.el)("div","21:00/31:00"),this.progress=(0,i.el)("progress.controlprogress",{value:0,max:100}))),this.data={playingtime:0}}return t.prototype.init=function(){},t.prototype.onmount=function(){this.init()},t.prototype.onunmount=function(){},t.prototype.update=function(t){(0,i.setAttr)(this.progress,{value:t.playingtime/t.duration*100})},t}()},function(t,e,n){"use strict";e.__esModule=!0,e.api=void 0;var r,i=n(51),o=n(192),s=(r=o)&&r.__esModule?r:{default:r};e.api=function(t){var e=new s.default,n=void 0;(0,i.listen)(t,{hello:function(t){r("hello.subject",t)},playingtime:function(t){r("hello.playingtime",t)},duration:function(t){r("hello.duration",t)}});var r=function(r,i){e.set(r,i),n||(n=window.requestAnimationFrame((function(){n=!1,t.update(e.get())})))}}},function(t,e,n){"use strict";n.r(e);var r=function(){this.data={}};r.prototype.get=function(t){if(!t)return this.data;for(var e=t.split("."),n=this.data,r=0;r<e.length;r++){var i=e[r];if(!(i in n))return;n=n[i]}return n},r.prototype.set=function(t,e){for(var n=t.split("."),r=this.data=Object.assign({},this.data),i=0;i<n.length;i++){var o=n[i];i===n.length-1?r[o]=e:r=r[o]=Object.assign({},r[o])}},e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.init=function(t,e){a=e,f(t)},e.mockTest=function(t){a=t;var e=0,n=p;console.log("data",n);var r=setInterval((function(){var t;e<n.length?((t=n[e]).nX=t.nX/21050,t.nY=t.nY/14700,f(t),e++):clearInterval(r)}),1)},e.mockOneTest=function(t){a=window.zmSketchInstance;var e=p[t];e.nX=e.nX/21050,e.nY=e.nY/14700,f(e)},e.hideRoboPen=function(){s&&!s.style.transform.includes("-1000px")&&(s.style.transform="translate(-1000px, -1000px)")};var r=n(15),i=!1,o={},s=new Image;s.style.position="fixed",s.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDcvMDcvMTUv3CSZAAACQ0lEQVRYhb3XP2saYRzA8a96t0kpJQ5dhIDUIDkiOrVCbIMeaEKSPRLM1qVrh+5Bim/AF1Bfg4VmCmRoKJbuHbqlfyBNqp4aPX9d7uTSnPVP7vzBLerj5/s8x4EiIizjAh4B74Am8HL8+pLwJ8AnYAgI0ALeiAgB6wO+TSAQiAGnwGOXt1/7vfN1a7dSq9VkdXVVrBOwr57fuBGNRn+vrKyIpmnSaDQkFos5Az77iffi8fiVaZrSbDYlFApJPB6Xer0uiqKYwAWw7geeAHpra2vXnU5H7Dk/P5dIJCKqqg6BP8Azz58CC+9qmnZtGIb8O5qm/QAGwNPxGq/xjY2NVr/fv4NnMpnv1n1/fmudV3gwGOwlk8m2G57NZn9a+Is7az3EO2741tbWL7edexJg46lUquuG53K5SwvfnPgd98XT6XTPDdd1/WoavnCAjR8cHLgeu67r17PgCwXYeKlUcj32QqHQnhWfOwBIhEKh/iS8WCwa8+BzBdj44eHhjRu+vb3dnRefOcDGy+Xy0A3f2dnpL4LPFDAN393dHSyKTw1w4KYf+H8DgISiKDdHR0ejCfjwvvjEgGn43t6e6QXuGuDAxW/8TgCQUFV1MAnf398feYnfCpgBF6/xcQDwIBwOG/l8fqm4M6AIyPHx8VJxZ8Bb+6dypVJZGm7ZpIEz5x+GarUqpVLJd9wO2AQunQGABIPBkaqqWT9xEUEBXgEPAQP4Gg6Hv7Tb7Q+j0ejENM0LfB4F+AZ8BN4DJ61W68xv1Dl/AQ+g4z6prP8/AAAAAElFTkSuQmCC",s.style.left="0px",s.style.top="-32px",s.style.transform="translate(-1000px, -1000px)",s.style.zIndex=10,document.body.appendChild(s);var a=null,c=!1,l=1,u=0,h=0,d=1e6,p=[{nX:3709,nY:3349,nPress:0,nStatus:16},{nX:3710,nY:3354,nPress:0,nStatus:16},{nX:3703,nY:3383,nPress:0,nStatus:16},{nX:3696,nY:3413,nPress:0,nStatus:16},{nX:3676,nY:3458,nPress:0,nStatus:16},{nX:3654,nY:3487,nPress:0,nStatus:16},{nX:3632,nY:3496,nPress:0,nStatus:16},{nX:3616,nY:3494,nPress:0,nStatus:16},{nX:3605,nY:3484,nPress:0,nStatus:16},{nX:3594,nY:3476,nPress:0,nStatus:16},{nX:3583,nY:3473,nPress:0,nStatus:16},{nX:3579,nY:3475,nPress:0,nStatus:16},{nX:3585,nY:3472,nPress:0,nStatus:16},{nX:3598,nY:3464,nPress:0,nStatus:16},{nX:3618,nY:3452,nPress:0,nStatus:16},{nX:3638,nY:3442,nPress:0,nStatus:16},{nX:3664,nY:3435,nPress:0,nStatus:16},{nX:3693,nY:3441,nPress:0,nStatus:16},{nX:3730,nY:3454,nPress:0,nStatus:16},{nX:3772,nY:3470,nPress:0,nStatus:16},{nX:3807,nY:3487,nPress:0,nStatus:16},{nX:3827,nY:3512,nPress:0,nStatus:16},{nX:3829,nY:3546,nPress:0,nStatus:16},{nX:3810,nY:3585,nPress:0,nStatus:16},{nX:3774,nY:3625,nPress:0,nStatus:16},{nX:3720,nY:3667,nPress:0,nStatus:16},{nX:3660,nY:3707,nPress:0,nStatus:16},{nX:3598,nY:3740,nPress:0,nStatus:16},{nX:3546,nY:3769,nPress:0,nStatus:16},{nX:3510,nY:3796,nPress:0,nStatus:16},{nX:3492,nY:3821,nPress:0,nStatus:16},{nX:3490,nY:3840,nPress:0,nStatus:16},{nX:3493,nY:3847,nPress:0,nStatus:16},{nX:3498,nY:3843,nPress:0,nStatus:16},{nX:3501,nY:3836,nPress:0,nStatus:16},{nX:3492,nY:3852,nPress:0,nStatus:16},{nX:3476,nY:3879,nPress:0,nStatus:16},{nX:3454,nY:3910,nPress:0,nStatus:16},{nX:3424,nY:3947,nPress:0,nStatus:16},{nX:3390,nY:3988,nPress:0,nStatus:16},{nX:3353,nY:4025,nPress:0,nStatus:16},{nX:3325,nY:4044,nPress:0,nStatus:16},{nX:3304,nY:4041,nPress:0,nStatus:16},{nX:3286,nY:4027,nPress:0,nStatus:16},{nX:3261,nY:4010,nPress:0,nStatus:16},{nX:3231,nY:3991,nPress:0,nStatus:16},{nX:3204,nY:3967,nPress:0,nStatus:16},{nX:3187,nY:3938,nPress:0,nStatus:16},{nX:3185,nY:3907,nPress:0,nStatus:16},{nX:3198,nY:3884,nPress:0,nStatus:16},{nX:3250,nY:3848,nPress:158,nStatus:17},{nX:3265,nY:3841,nPress:322,nStatus:17},{nX:3282,nY:3837,nPress:496,nStatus:17},{nX:3329,nY:3825,nPress:523,nStatus:17},{nX:3406,nY:3822,nPress:525,nStatus:17},{nX:3521,nY:3843,nPress:556,nStatus:17},{nX:3673,nY:3918,nPress:572,nStatus:17},{nX:3832,nY:4041,nPress:622,nStatus:17},{nX:3961,nY:4191,nPress:615,nStatus:17},{nX:4028,nY:4336,nPress:614,nStatus:17},{nX:4047,nY:4468,nPress:600,nStatus:17},{nX:4041,nY:4572,nPress:605,nStatus:17},{nX:4025,nY:4623,nPress:593,nStatus:17},{nX:4005,nY:4575,nPress:469,nStatus:17},{nX:3988,nY:4485,nPress:267,nStatus:17},{nX:3979,nY:4403,nPress:78,nStatus:17},{nX:3977,nY:4383,nPress:0,nStatus:16},{nX:3972,nY:4229,nPress:0,nStatus:16},{nX:3941,nY:3452,nPress:100,nStatus:17},{nX:3942,nY:3457,nPress:291,nStatus:17},{nX:3925,nY:3487,nPress:489,nStatus:17},{nX:3869,nY:3601,nPress:615,nStatus:17},{nX:3767,nY:3823,nPress:668,nStatus:17},{nX:3631,nY:4131,nPress:670,nStatus:17},{nX:3489,nY:4455,nPress:644,nStatus:17},{nX:3387,nY:4696,nPress:587,nStatus:17},{nX:3349,nY:4826,nPress:449,nStatus:17},{nX:3357,nY:4859,nPress:247,nStatus:17},{nX:3369,nY:4864,nPress:60,nStatus:17},{nX:3369,nY:4864,nPress:0,nStatus:16},{nX:3474,nY:4712,nPress:0,nStatus:16},{nX:3627,nY:4514,nPress:0,nStatus:16},{nX:3827,nY:4286,nPress:0,nStatus:16},{nX:3956,nY:4197,nPress:0,nStatus:16},{nX:4057,nY:4150,nPress:0,nStatus:16},{nX:4145,nY:4138,nPress:61,nStatus:17},{nX:4144,nY:4134,nPress:257,nStatus:17},{nX:4145,nY:4130,nPress:451,nStatus:17},{nX:4160,nY:4118,nPress:588,nStatus:17},{nX:4212,nY:4090,nPress:613,nStatus:17},{nX:4309,nY:4052,nPress:632,nStatus:17},{nX:4444,nY:4015,nPress:659,nStatus:17},{nX:4592,nY:3994,nPress:644,nStatus:17},{nX:4719,nY:3988,nPress:627,nStatus:17},{nX:4798,nY:3994,nPress:468,nStatus:17},{nX:4828,nY:4e3,nPress:261,nStatus:17},{nX:4832,nY:4005,nPress:66,nStatus:17},{nX:4832,nY:4005,nPress:0,nStatus:16},{nX:4762,nY:3833,nPress:0,nStatus:16},{nX:4635,nY:3435,nPress:45,nStatus:17},{nX:4642,nY:3435,nPress:224,nStatus:17},{nX:4653,nY:3467,nPress:410,nStatus:17},{nX:4659,nY:3567,nPress:553,nStatus:17},{nX:4658,nY:3784,nPress:566,nStatus:17},{nX:4641,nY:4088,nPress:596,nStatus:17},{nX:4633,nY:4383,nPress:614,nStatus:17},{nX:4652,nY:4585,nPress:435,nStatus:17},{nX:4680,nY:4673,nPress:219,nStatus:17},{nX:4701,nY:4692,nPress:13,nStatus:17},{nX:4701,nY:4692,nPress:0,nStatus:16},{nX:4769,nY:4470,nPress:0,nStatus:16},{nX:4872,nY:4187,nPress:0,nStatus:16},{nX:5077,nY:3733,nPress:89,nStatus:17},{nX:5096,nY:3721,nPress:294,nStatus:17},{nX:5118,nY:3712,nPress:497,nStatus:17},{nX:5162,nY:3703,nPress:617,nStatus:17},{nX:5231,nY:3712,nPress:604,nStatus:17},{nX:5302,nY:3761,nPress:599,nStatus:17},{nX:5353,nY:3850,nPress:595,nStatus:17},{nX:5377,nY:3943,nPress:605,nStatus:17},{nX:5389,nY:4001,nPress:608,nStatus:17},{nX:5410,nY:3985,nPress:607,nStatus:17},{nX:5443,nY:3889,nPress:610,nStatus:17},{nX:5483,nY:3732,nPress:617,nStatus:17},{nX:5516,nY:3585,nPress:598,nStatus:17},{nX:5541,nY:3496,nPress:587,nStatus:17},{nX:5556,nY:3483,nPress:577,nStatus:17},{nX:5566,nY:3563,nPress:625,nStatus:17},{nX:5578,nY:3757,nPress:664,nStatus:17},{nX:5589,nY:4051,nPress:729,nStatus:17},{nX:5588,nY:4372,nPress:735,nStatus:17},{nX:5580,nY:4634,nPress:771,nStatus:17},{nX:5568,nY:4798,nPress:747,nStatus:17},{nX:5543,nY:4870,nPress:753,nStatus:17},{nX:5475,nY:4885,nPress:725,nStatus:17},{nX:5360,nY:4858,nPress:686,nStatus:17},{nX:5242,nY:4792,nPress:495,nStatus:17},{nX:5166,nY:4734,nPress:254,nStatus:17},{nX:5142,nY:4702,nPress:53,nStatus:17},{nX:5142,nY:4702,nPress:0,nStatus:16},{nX:5195,nY:4637,nPress:0,nStatus:16},{nX:5353,nY:4491,nPress:0,nStatus:16},{nX:5599,nY:4324,nPress:0,nStatus:16},{nX:5875,nY:4211,nPress:0,nStatus:16},{nX:6091,nY:4185,nPress:0,nStatus:16},{nX:6229,nY:4190,nPress:0,nStatus:16},{nX:6273,nY:4213,nPress:0,nStatus:16},{nX:6251,nY:4230,nPress:0,nStatus:16},{nX:6204,nY:4232,nPress:0,nStatus:16},{nX:6164,nY:4220,nPress:0,nStatus:16},{nX:6127,nY:4159,nPress:89,nStatus:17},{nX:6139,nY:4154,nPress:299,nStatus:17},{nX:6154,nY:4141,nPress:514,nStatus:17},{nX:6191,nY:4124,nPress:639,nStatus:17},{nX:6266,nY:4095,nPress:664,nStatus:17},{nX:6372,nY:4070,nPress:665,nStatus:17},{nX:6479,nY:4061,nPress:591,nStatus:17},{nX:6552,nY:4069,nPress:356,nStatus:17},{nX:6583,nY:4083,nPress:141,nStatus:17},{nX:6588,nY:4088,nPress:0,nStatus:16},{nX:6517,nY:4146,nPress:0,nStatus:16},{nX:6088,nY:4514,nPress:82,nStatus:17},{nX:6083,nY:4510,nPress:287,nStatus:17},{nX:6090,nY:4509,nPress:496,nStatus:17},{nX:6122,nY:4508,nPress:628,nStatus:17},{nX:6204,nY:4497,nPress:628,nStatus:17},{nX:6350,nY:4473,nPress:625,nStatus:17},{nX:6539,nY:4441,nPress:543,nStatus:17},{nX:6698,nY:4419,nPress:338,nStatus:17},{nX:6789,nY:4409,nPress:132,nStatus:17},{nX:6807,nY:4407,nPress:0,nStatus:16},{nX:6872,nY:4386,nPress:0,nStatus:16},{nX:7014,nY:4343,nPress:0,nStatus:16},{nX:7173,nY:4302,nPress:0,nStatus:16},{nX:7284,nY:4276,nPress:0,nStatus:16},{nX:7322,nY:4256,nPress:0,nStatus:16},{nX:7337,nY:4206,nPress:0,nStatus:16},{nX:7326,nY:4115,nPress:0,nStatus:16},{nX:7314,nY:3977,nPress:0,nStatus:16},{nX:7345,nY:3587,nPress:51,nStatus:17},{nX:7359,nY:3563,nPress:232,nStatus:17},{nX:7373,nY:3550,nPress:418,nStatus:17},{nX:7392,nY:3564,nPress:567,nStatus:17},{nX:7416,nY:3690,nPress:585,nStatus:17},{nX:7424,nY:3944,nPress:588,nStatus:17},{nX:7411,nY:4277,nPress:587,nStatus:17},{nX:7390,nY:4557,nPress:428,nStatus:17},{nX:7376,nY:4716,nPress:238,nStatus:17},{nX:7374,nY:4770,nPress:39,nStatus:17},{nX:7374,nY:4770,nPress:0,nStatus:16},{nX:7390,nY:4640,nPress:0,nStatus:16},{nX:7428,nY:4475,nPress:0,nStatus:16},{nX:7533,nY:4218,nPress:88,nStatus:17},{nX:7539,nY:4215,nPress:268,nStatus:17},{nX:7557,nY:4204,nPress:453,nStatus:17},{nX:7605,nY:4182,nPress:579,nStatus:17},{nX:7703,nY:4147,nPress:625,nStatus:17},{nX:7838,nY:4114,nPress:649,nStatus:17},{nX:7965,nY:4094,nPress:548,nStatus:17},{nX:8046,nY:4087,nPress:321,nStatus:17},{nX:8077,nY:4086,nPress:112,nStatus:17},{nX:8080,nY:4087,nPress:0,nStatus:16},{nX:8048,nY:4039,nPress:0,nStatus:16},{nX:7989,nY:3932,nPress:0,nStatus:16},{nX:7922,nY:3764,nPress:82,nStatus:17},{nX:7932,nY:3838,nPress:257,nStatus:17},{nX:7924,nY:3960,nPress:450,nStatus:17},{nX:7902,nY:4159,nPress:579,nStatus:17},{nX:7871,nY:4431,nPress:606,nStatus:17},{nX:7866,nY:4640,nPress:467,nStatus:17},{nX:7879,nY:4744,nPress:254,nStatus:17},{nX:7896,nY:4770,nPress:53,nStatus:17},{nX:7896,nY:4770,nPress:0,nStatus:16},{nX:7950,nY:4587,nPress:0,nStatus:16},{nX:8029,nY:4354,nPress:0,nStatus:16},{nX:8130,nY:4092,nPress:0,nStatus:16},{nX:8215,nY:3942,nPress:153,nStatus:17},{nX:8237,nY:3930,nPress:337,nStatus:17},{nX:8269,nY:3923,nPress:529,nStatus:17},{nX:8352,nY:3916,nPress:618,nStatus:17},{nX:8471,nY:3933,nPress:674,nStatus:17},{nX:8594,nY:3981,nPress:705,nStatus:17},{nX:8676,nY:4071,nPress:685,nStatus:17},{nX:8678,nY:4219,nPress:653,nStatus:17},{nX:8609,nY:4415,nPress:650,nStatus:17},{nX:8528,nY:4595,nPress:650,nStatus:17},{nX:8484,nY:4708,nPress:665,nStatus:17},{nX:8509,nY:4741,nPress:675,nStatus:17},{nX:8585,nY:4720,nPress:694,nStatus:17},{nX:8698,nY:4666,nPress:686,nStatus:17},{nX:8816,nY:4599,nPress:486,nStatus:17},{nX:8895,nY:4557,nPress:244,nStatus:17},{nX:8927,nY:4541,nPress:30,nStatus:17},{nX:8927,nY:4541,nPress:0,nStatus:16},{nX:9004,nY:4505,nPress:0,nStatus:16},{nX:9088,nY:4473,nPress:0,nStatus:16},{nX:9171,nY:4441,nPress:0,nStatus:16},{nX:9171,nY:4439,nPress:0,nStatus:16},{nX:9157,nY:4416,nPress:0,nStatus:16},{nX:9152,nY:4376,nPress:0,nStatus:16},{nX:9172,nY:4277,nPress:223,nStatus:17},{nX:9200,nY:4262,nPress:447,nStatus:17},{nX:9240,nY:4237,nPress:662,nStatus:17},{nX:9314,nY:4199,nPress:666,nStatus:17},{nX:9403,nY:4168,nPress:648,nStatus:17},{nX:9491,nY:4154,nPress:635,nStatus:17},{nX:9571,nY:4151,nPress:509,nStatus:17},{nX:9620,nY:4151,nPress:303,nStatus:17},{nX:9639,nY:4153,nPress:101,nStatus:17},{nX:9640,nY:4154,nPress:0,nStatus:16},{nX:9620,nY:4091,nPress:0,nStatus:16},{nX:9579,nY:3936,nPress:0,nStatus:16},{nX:9501,nY:3642,nPress:140,nStatus:17},{nX:9503,nY:3676,nPress:325,nStatus:17},{nX:9501,nY:3783,nPress:520,nStatus:17},{nX:9487,nY:4025,nPress:566,nStatus:17},{nX:9462,nY:4360,nPress:579,nStatus:17},{nX:9442,nY:4654,nPress:390,nStatus:17},{nX:9435,nY:4824,nPress:203,nStatus:17},{nX:9437,nY:4879,nPress:112,nStatus:17},{nX:9437,nY:4879,nPress:6,nStatus:17},{nX:9437,nY:4879,nPress:0,nStatus:16},{nX:9737,nY:4476,nPress:0,nStatus:16},{nX:10043,nY:4062,nPress:0,nStatus:16},{nX:10304,nY:3644,nPress:136,nStatus:17},{nX:10324,nY:3626,nPress:348,nStatus:17},{nX:10361,nY:3603,nPress:578,nStatus:17},{nX:10434,nY:3567,nPress:676,nStatus:17},{nX:10559,nY:3524,nPress:723,nStatus:17},{nX:10704,nY:3497,nPress:730,nStatus:17},{nX:10822,nY:3499,nPress:735,nStatus:17},{nX:10878,nY:3548,nPress:711,nStatus:17},{nX:10871,nY:3643,nPress:700,nStatus:17},{nX:10848,nY:3759,nPress:684,nStatus:17},{nX:10845,nY:3852,nPress:670,nStatus:17},{nX:10887,nY:3912,nPress:659,nStatus:17},{nX:10963,nY:3961,nPress:678,nStatus:17},{nX:11060,nY:4018,nPress:726,nStatus:17},{nX:11138,nY:4093,nPress:783,nStatus:17},{nX:11157,nY:4208,nPress:821,nStatus:17},{nX:11079,nY:4376,nPress:837,nStatus:17},{nX:10890,nY:4589,nPress:718,nStatus:17},{nX:10697,nY:4757,nPress:437,nStatus:17},{nX:10571,nY:4847,nPress:437,nStatus:17},{nX:10546,nY:4860,nPress:437,nStatus:17},{nX:0,nY:0,nPress:0,nStatus:0},{nX:4425,nY:6396,nPress:0,nStatus:16},{nX:4396,nY:6403,nPress:0,nStatus:16},{nX:4330,nY:6412,nPress:0,nStatus:16},{nX:4255,nY:6425,nPress:0,nStatus:16},{nX:4102,nY:6452,nPress:0,nStatus:16},{nX:3939,nY:6487,nPress:0,nStatus:16},{nX:3776,nY:6529,nPress:0,nStatus:16},{nX:3621,nY:6583,nPress:0,nStatus:16},{nX:3485,nY:6640,nPress:0,nStatus:16},{nX:3376,nY:6688,nPress:0,nStatus:16},{nX:3269,nY:6716,nPress:0,nStatus:16},{nX:3168,nY:6721,nPress:0,nStatus:16},{nX:3060,nY:6729,nPress:0,nStatus:16},{nX:2972,nY:6749,nPress:0,nStatus:16},{nX:2905,nY:6777,nPress:0,nStatus:16},{nX:2879,nY:6780,nPress:0,nStatus:16},{nX:2896,nY:6748,nPress:0,nStatus:16},{nX:2932,nY:6695,nPress:0,nStatus:16},{nX:2969,nY:6641,nPress:0,nStatus:16},{nX:2998,nY:6599,nPress:0,nStatus:16},{nX:3025,nY:6571,nPress:0,nStatus:16},{nX:3048,nY:6547,nPress:0,nStatus:16},{nX:3068,nY:6527,nPress:0,nStatus:16},{nX:3077,nY:6513,nPress:0,nStatus:16},{nX:3076,nY:6506,nPress:0,nStatus:16},{nX:3070,nY:6502,nPress:0,nStatus:16},{nX:3064,nY:6497,nPress:0,nStatus:16},{nX:3062,nY:6489,nPress:0,nStatus:16},{nX:3064,nY:6480,nPress:0,nStatus:16},{nX:3064,nY:6476,nPress:0,nStatus:16},{nX:3056,nY:6482,nPress:0,nStatus:16},{nX:3043,nY:6495,nPress:0,nStatus:16},{nX:3031,nY:6512,nPress:0,nStatus:16},{nX:3025,nY:6524,nPress:0,nStatus:16},{nX:3018,nY:6529,nPress:0,nStatus:16},{nX:3010,nY:6529,nPress:0,nStatus:16},{nX:2998,nY:6526,nPress:0,nStatus:16},{nX:2986,nY:6522,nPress:0,nStatus:16},{nX:2978,nY:6514,nPress:0,nStatus:16},{nX:2971,nY:6502,nPress:0,nStatus:16},{nX:2971,nY:6481,nPress:0,nStatus:16},{nX:2983,nY:6446,nPress:0,nStatus:16},{nX:3022,nY:6388,nPress:0,nStatus:16},{nX:3071,nY:6316,nPress:0,nStatus:16},{nX:3109,nY:6254,nPress:0,nStatus:16},{nX:3122,nY:6205,nPress:161,nStatus:17},{nX:3122,nY:6214,nPress:373,nStatus:17},{nX:3130,nY:6279,nPress:604,nStatus:17},{nX:3132,nY:6465,nPress:678,nStatus:17},{nX:3122,nY:6761,nPress:699,nStatus:17},{nX:3087,nY:7106,nPress:701,nStatus:17},{nX:3045,nY:7395,nPress:690,nStatus:17},{nX:3029,nY:7584,nPress:556,nStatus:17},{nX:3038,nY:7661,nPress:322,nStatus:17},{nX:3057,nY:7677,nPress:98,nStatus:17},{nX:3064,nY:7677,nPress:0,nStatus:16},{nX:3090,nY:7566,nPress:0,nStatus:16},{nX:3167,nY:7288,nPress:0,nStatus:16},{nX:3291,nY:6947,nPress:0,nStatus:16},{nX:3427,nY:6678,nPress:0,nStatus:16},{nX:3529,nY:6559,nPress:0,nStatus:16},{nX:3601,nY:6491,nPress:0,nStatus:16},{nX:3739,nY:6406,nPress:94,nStatus:17},{nX:3814,nY:6390,nPress:281,nStatus:17},{nX:3897,nY:6386,nPress:475,nStatus:17},{nX:4039,nY:6403,nPress:556,nStatus:17},{nX:4135,nY:6485,nPress:549,nStatus:17},{nX:4149,nY:6637,nPress:540,nStatus:17},{nX:4089,nY:6825,nPress:550,nStatus:17},{nX:3993,nY:7007,nPress:618,nStatus:17},{nX:3916,nY:7127,nPress:680,nStatus:17},{nX:3887,nY:7181,nPress:743,nStatus:17},{nX:3929,nY:7177,nPress:735,nStatus:17},{nX:4031,nY:7131,nPress:738,nStatus:17},{nX:4179,nY:7062,nPress:721,nStatus:17},{nX:4367,nY:6984,nPress:748,nStatus:17},{nX:4574,nY:6932,nPress:672,nStatus:17},{nX:4743,nY:6906,nPress:440,nStatus:17},{nX:4833,nY:6901,nPress:174,nStatus:17},{nX:4849,nY:6902,nPress:0,nStatus:16},{nX:4860,nY:6848,nPress:0,nStatus:16},{nX:4893,nY:6686,nPress:0,nStatus:16},{nX:4946,nY:6451,nPress:0,nStatus:16},{nX:5016,nY:6225,nPress:0,nStatus:16},{nX:5071,nY:6102,nPress:0,nStatus:16},{nX:5106,nY:6052,nPress:0,nStatus:16},{nX:5175,nY:5961,nPress:227,nStatus:17},{nX:5239,nY:5931,nPress:459,nStatus:17},{nX:5301,nY:5925,nPress:695,nStatus:17},{nX:5403,nY:5952,nPress:679,nStatus:17},{nX:5457,nY:6054,nPress:660,nStatus:17},{nX:5445,nY:6220,nPress:641,nStatus:17},{nX:5405,nY:6379,nPress:645,nStatus:17},{nX:5380,nY:6490,nPress:648,nStatus:17},{nX:5402,nY:6537,nPress:647,nStatus:17},{nX:5467,nY:6554,nPress:645,nStatus:17},{nX:5567,nY:6576,nPress:653,nStatus:17},{nX:5695,nY:6614,nPress:661,nStatus:17},{nX:5814,nY:6678,nPress:678,nStatus:17},{nX:5878,nY:6774,nPress:685,nStatus:17},{nX:5848,nY:6899,nPress:693,nStatus:17},{nX:5737,nY:7047,nPress:687,nStatus:17},{nX:5585,nY:7184,nPress:679,nStatus:17},{nX:5458,nY:7274,nPress:517,nStatus:17},{nX:5388,nY:7309,nPress:293,nStatus:17},{nX:5368,nY:7312,nPress:70,nStatus:17},{nX:5368,nY:7312,nPress:0,nStatus:16},{nX:5442,nY:7132,nPress:0,nStatus:16},{nX:5611,nY:6875,nPress:0,nStatus:16},{nX:5876,nY:6533,nPress:0,nStatus:16},{nX:6136,nY:6316,nPress:0,nStatus:16},{nX:6442,nY:6059,nPress:103,nStatus:17},{nX:6444,nY:6062,nPress:254,nStatus:17},{nX:6432,nY:6092,nPress:423,nStatus:17},{nX:6403,nY:6167,nPress:526,nStatus:17},{nX:6358,nY:6317,nPress:612,nStatus:17},{nX:6334,nY:6482,nPress:675,nStatus:17},{nX:6373,nY:6605,nPress:693,nStatus:17},{nX:6493,nY:6644,nPress:698,nStatus:17},{nX:6666,nY:6622,nPress:709,nStatus:17},{nX:6840,nY:6572,nPress:702,nStatus:17},{nX:6971,nY:6517,nPress:520,nStatus:17},{nX:7040,nY:6482,nPress:277,nStatus:17},{nX:7063,nY:6466,nPress:59,nStatus:17},{nX:7063,nY:6466,nPress:0,nStatus:16},{nX:6999,nY:6286,nPress:0,nStatus:16},{nX:6832,nY:5929,nPress:232,nStatus:17},{nX:6829,nY:5980,nPress:465,nStatus:17},{nX:6827,nY:6064,nPress:710,nStatus:17},{nX:6814,nY:6295,nPress:731,nStatus:17},{nX:6794,nY:6632,nPress:725,nStatus:17},{nX:6782,nY:7e3,nPress:659,nStatus:17},{nX:6796,nY:7273,nPress:412,nStatus:17},{nX:6819,nY:7406,nPress:186,nStatus:17},{nX:6833,nY:7441,nPress:6,nStatus:17},{nX:6833,nY:7441,nPress:0,nStatus:16},{nX:6950,nY:7171,nPress:0,nStatus:16},{nX:7110,nY:6839,nPress:0,nStatus:16},{nX:7294,nY:6480,nPress:0,nStatus:16},{nX:7404,nY:6339,nPress:162,nStatus:17},{nX:7423,nY:6344,nPress:330,nStatus:17},{nX:7459,nY:6358,nPress:511,nStatus:17},{nX:7541,nY:6398,nPress:531,nStatus:17},{nX:7658,nY:6487,nPress:540,nStatus:17},{nX:7790,nY:6622,nPress:553,nStatus:17},{nX:7896,nY:6773,nPress:574,nStatus:17},{nX:7947,nY:6898,nPress:612,nStatus:17},{nX:7928,nY:6975,nPress:628,nStatus:17},{nX:7842,nY:7012,nPress:640,nStatus:17},{nX:7723,nY:6988,nPress:587,nStatus:17},{nX:7624,nY:6940,nPress:377,nStatus:17},{nX:7577,nY:6893,nPress:162,nStatus:17},{nX:7569,nY:6879,nPress:59,nStatus:16},{nX:7648,nY:6153,nPress:67,nStatus:17},{nX:7721,nY:6119,nPress:253,nStatus:17},{nX:7805,nY:6094,nPress:460,nStatus:17},{nX:7922,nY:6068,nPress:609,nStatus:17},{nX:8083,nY:6043,nPress:630,nStatus:17},{nX:8262,nY:6013,nPress:538,nStatus:17},{nX:8416,nY:5982,nPress:321,nStatus:17},{nX:8516,nY:5957,nPress:114,nStatus:17},{nX:8540,nY:5952,nPress:0,nStatus:16},{nX:8637,nY:5944,nPress:0,nStatus:16},{nX:8857,nY:5922,nPress:0,nStatus:16},{nX:9090,nY:5886,nPress:0,nStatus:16},{nX:9199,nY:5778,nPress:84,nStatus:17},{nX:9170,nY:5769,nPress:292,nStatus:17},{nX:9133,nY:5795,nPress:531,nStatus:17},{nX:9066,nY:5898,nPress:624,nStatus:17},{nX:8958,nY:6145,nPress:617,nStatus:17},{nX:8837,nY:6513,nPress:600,nStatus:17},{nX:8761,nY:6867,nPress:653,nStatus:17},{nX:8773,nY:7101,nPress:675,nStatus:17},{nX:8863,nY:7166,nPress:661,nStatus:17},{nX:8961,nY:7119,nPress:631,nStatus:17},{nX:9009,nY:7033,nPress:609,nStatus:17},{nX:8993,nY:6965,nPress:617,nStatus:17},{nX:8930,nY:6943,nPress:641,nStatus:17},{nX:8855,nY:6952,nPress:657,nStatus:17},{nX:8822,nY:6958,nPress:532,nStatus:17},{nX:8829,nY:6950,nPress:308,nStatus:17},{nX:8855,nY:6932,nPress:90,nStatus:17},{nX:8863,nY:6924,nPress:0,nStatus:16},{nX:8944,nY:6814,nPress:0,nStatus:16},{nX:9140,nY:6571,nPress:0,nStatus:16},{nX:9360,nY:6320,nPress:0,nStatus:16},{nX:9532,nY:6188,nPress:58,nStatus:17},{nX:9511,nY:6187,nPress:241,nStatus:17},{nX:9508,nY:6185,nPress:424,nStatus:17},{nX:9523,nY:6180,nPress:545,nStatus:17},{nX:9580,nY:6168,nPress:530,nStatus:17},{nX:9697,nY:6148,nPress:482,nStatus:17},{nX:9854,nY:6130,nPress:427,nStatus:17},{nX:9997,nY:6140,nPress:397,nStatus:17},{nX:10075,nY:6223,nPress:410,nStatus:17},{nX:10061,nY:6423,nPress:427,nStatus:17},{nX:9993,nY:6704,nPress:425,nStatus:17},{nX:9935,nY:6987,nPress:390,nStatus:17},{nX:9915,nY:7165,nPress:248,nStatus:17},{nX:9927,nY:7242,nPress:112,nStatus:17},{nX:9935,nY:7252,nPress:0,nStatus:16},{nX:10025,nY:7130,nPress:0,nStatus:16},{nX:10246,nY:6794,nPress:0,nStatus:16},{nX:10494,nY:6390,nPress:0,nStatus:16},{nX:10657,nY:6012,nPress:198,nStatus:17},{nX:10642,nY:6030,nPress:408,nStatus:17},{nX:10639,nY:6063,nPress:622,nStatus:17},{nX:10653,nY:6142,nPress:643,nStatus:17},{nX:10718,nY:6266,nPress:655,nStatus:17},{nX:10831,nY:6420,nPress:660,nStatus:17},{nX:10966,nY:6589,nPress:643,nStatus:17},{nX:11082,nY:6747,nPress:618,nStatus:17},{nX:11133,nY:6884,nPress:602,nStatus:17},{nX:11102,nY:6989,nPress:617,nStatus:17},{nX:10991,nY:7060,nPress:653,nStatus:17},{nX:10868,nY:7077,nPress:691,nStatus:17},{nX:10793,nY:7027,nPress:720,nStatus:17},{nX:10812,nY:6892,nPress:735,nStatus:17},{nX:10912,nY:6650,nPress:733,nStatus:17},{nX:11068,nY:6327,nPress:710,nStatus:17},{nX:11215,nY:5994,nPress:694,nStatus:17},{nX:11310,nY:5752,nPress:690,nStatus:17},{nX:11310,nY:5621,nPress:709,nStatus:17},{nX:11231,nY:5591,nPress:735,nStatus:17},{nX:11098,nY:5654,nPress:712,nStatus:17},{nX:10975,nY:5803,nPress:547,nStatus:17},{nX:10907,nY:5952,nPress:289,nStatus:17},{nX:10890,nY:6041,nPress:77,nStatus:17},{nX:10893,nY:6058,nPress:0,nStatus:16},{nX:11044,nY:6065,nPress:0,nStatus:16},{nX:11446,nY:6046,nPress:0,nStatus:16},{nX:11945,nY:5988,nPress:0,nStatus:16},{nX:12340,nY:5887,nPress:0,nStatus:16},{nX:12544,nY:5695,nPress:213,nStatus:17},{nX:12508,nY:5643,nPress:476,nStatus:17},{nX:12464,nY:5598,nPress:772,nStatus:17},{nX:12372,nY:5521,nPress:773,nStatus:17},{nX:12270,nY:5479,nPress:729,nStatus:17},{nX:12186,nY:5476,nPress:651,nStatus:17},{nX:12138,nY:5512,nPress:651,nStatus:17},{nX:12135,nY:5593,nPress:649,nStatus:17},{nX:12178,nY:5707,nPress:647,nStatus:17},{nX:12267,nY:5820,nPress:637,nStatus:17},{nX:12401,nY:5875,nPress:641,nStatus:17},{nX:12550,nY:5860,nPress:685,nStatus:17},{nX:12672,nY:5807,nPress:742,nStatus:17},{nX:12736,nY:5764,nPress:794,nStatus:17},{nX:12741,nY:5783,nPress:811,nStatus:17},{nX:12694,nY:5941,nPress:825,nStatus:17},{nX:12595,nY:6303,nPress:851,nStatus:17},{nX:12459,nY:6853,nPress:841,nStatus:17},{nX:12347,nY:7441,nPress:714,nStatus:17},{nX:12293,nY:7857,nPress:415,nStatus:17},{nX:12288,nY:8049,nPress:415,nStatus:17},{nX:0,nY:0,nPress:0,nStatus:0}];function f(t){g(t)}function g(t){var e=t.nStatus,n=t.nX,p=void 0===n?0:n,f=t.nY,m=void 0===f?0:f,v=t.nPress,y=void 0===v?1:v,b=1;c?(b=y/1024,l>.4?b<.97*l?(b=.97*l)<.4&&(b=.4):b>1.03*l&&(b=1.03*l):b>.4?b>1.03*l&&(b=1.03*l):b=.4):(c=!0,(l=y/1024)<.4&&(l=.4),b=l);var w=1.6*(l=b),_=a.canvas.stage,x=o.onPenDraw,O=void 0===x||x,S=o.drawAppLeft,j=void 0===S?_._getContentPosition().left:S,E=o.drawAppTop,T=void 0===E?_._getContentPosition().top:E,P=o.drawAppScrollTop,C=void 0===P?a.el.parentElement.scrollTop:P,A=o.drawAppWidth,k=void 0===A?_.width():A,D=o.drawAppHeight,I=void 0===D?_.width()*(9/16):D,M=o.drawAppContainer,R=void 0===M?_.getContent():M,L=g._nStatus,N=g._clientX,F=g._clientY;if(O&&R){var B=j+k*p,U=T+I*m,z=800*p,X=800*(a.canvas.canvasaction.options&&a.canvas.canvasaction.options.disableScaleStage?Math.abs(_.y()):C)/k+450*m;if(console.log("",e,21050*p,14700*m,y,l,w,z,X),L!=e||N!=B||F!=U){g._nStatus=e,g._clientX=B,g._clientY=U;var Y=[],G=a.canvas.scaletoserver;if(17==e){
//!onMove && drawAppContainer.dispatchEvent(createEvent('mousedown', clientX, clientY, press));
if(s.style.transform="translate("+B+"px, "+U+"px)",u=z,h=X,i)Y=[z,X,d,w];else{var V=a.canvas.canvasaction.localStyle,H=V.stroke,W=V.strokeWidth;Y=[z,X,d,"pressurepen",[W,H],w,[(0,r.makeUUID)()]]}a.canvas.replayDataItem(Y,G,"mockpen"),a.canvas.canvasaction.dataCallBack(Y),i=!0}else{if(c=!1,s.style.transform="translate("+(e?B:-1e3)+"px, "+(e?U:-1e3)+"px)",!i)return;i=!1,Y=[u,h,d,w,!0],a.canvas.replayDataItem(Y,G,"mockpen"),a.canvas.canvasaction.dataCallBack(Y),d+=1}a.canvas.cacheDataInstance.layerCachData[a.canvas.cacheDataInstance.currentLayerId]||(a.canvas.cacheDataInstance.layerCachData[a.canvas.cacheDataInstance.currentLayerId]=[]),a.canvas.cacheDataInstance.layerCachData[a.canvas.cacheDataInstance.currentLayerId].push(Y)}}}},function(t,e,n){var r=n(195),i=n(61),o=n(90),s=n(39)("socket.io-client");t.exports=e=c;var a=e.managers={};function c(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i=r(t),c=i.source,l=i.id,u=i.path,h=a[l]&&u in a[l].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||h?(s("ignoring socket cache for %s",c),n=o(c,e)):(a[l]||(s("new io instance for %s",c),a[l]=o(c,e)),n=a[l]),i.query&&!e.query&&(e.query=i.query),n.socket(i.path,e)}e.protocol=i.protocol,e.connect=c,e.Manager=n(90),e.Socket=n(96)},function(t,e,n){var r=n(87),i=n(39)("socket.io-client:url");t.exports=function(t,e){var n=t;e=e||"undefined"!=typeof location&&location,null==t&&(t=e.protocol+"//"+e.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),i("parse %s",t),n=r(t));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(e&&e.port===n.port?"":":"+n.port),n}},function(t,e,n){t.exports=function(t){function e(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){let n;function s(...t){if(!s.enabled)return;const e=s,i=Number(new Date),o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let a=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;a++;const o=r.formatters[i];if("function"==typeof o){const r=t[a];n=o.call(e,r),t.splice(a,1),a--}return n}),r.formatArgs.call(e,t),(e.log||r.log).apply(e,t)}return s.namespace=t,s.enabled=r.enabled(t),s.useColors=r.useColors(),s.color=e(t),s.destroy=i,s.extend=o,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function i(){const t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function o(t,e){const n=r(this.namespace+(void 0===e?":":e)+t);return n.log=this.log,n}function s(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},r.disable=function(){const t=[...r.names.map(s),...r.skips.map(s).map(t=>"-"+t)].join(",");return r.enable(""),t},r.enable=function(t){let e;r.save(t),r.names=[],r.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(e=0;e<i;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){const t=r.instances[e];t.enabled=r.enabled(t.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;let e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=n(197),Object.keys(t).forEach(e=>{r[e]=t[e]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},function(t,e){var n=1e3,r=6e4,i=36e5,o=24*i;function s(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}t.exports=function(t,e){e=e||{};var a=typeof t;if("string"===a&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===a&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=o)return s(t,e,o,"day");if(e>=i)return s(t,e,i,"hour");if(e>=r)return s(t,e,r,"minute");if(e>=n)return s(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=o)return Math.round(t/o)+"d";if(e>=i)return Math.round(t/i)+"h";if(e>=r)return Math.round(t/r)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){(function(r){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(199)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))})),t.splice(o,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,n(40))},function(t,e,n){function r(t){var n;function r(){if(r.enabled){var t=r,i=+new Date,o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var i=e.formatters[r];if("function"==typeof i){var o=s[c];n=i.call(t,o),s.splice(c,1),c--}return n})),e.formatArgs.call(t,s);var l=r.log||e.log||console.log.bind(console);l.apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=i,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(200),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e){var n=1e3,r=6e4,i=36e5,o=24*i;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var a,c=typeof t;if("string"===c&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===c&&!1===isNaN(t))return e.long?s(a=t,o,"day")||s(a,i,"hour")||s(a,r,"minute")||s(a,n,"second")||a+" ms":function(t){if(t>=o)return Math.round(t/o)+"d";if(t>=i)return Math.round(t/i)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){var r=n(88),i=n(89),o=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);e.deconstructPacket=function(t){var e=[],n=t.data,o=t;return o.data=function t(e,n){if(!e)return e;if(i(e)){var o={_placeholder:!0,num:n.length};return n.push(e),o}if(r(e)){for(var s=new Array(e.length),a=0;a<e.length;a++)s[a]=t(e[a],n);return s}if("object"==typeof e&&!(e instanceof Date)){s={};for(var c in e)s[c]=t(e[c],n);return s}return e}(n,e),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(r(e))for(var i=0;i<e.length;i++)e[i]=t(e[i],n);else if("object"==typeof e)for(var o in e)e[o]=t(e[o],n);return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var n=0,o=t;!function t(c,l,u){if(!c)return c;if(s&&c instanceof Blob||a&&c instanceof File){n++;var h=new FileReader;h.onload=function(){u?u[l]=this.result:o=this.result,--n||e(o)},h.readAsArrayBuffer(c)}else if(r(c))for(var d=0;d<c.length;d++)t(c[d],d,c);else if("object"==typeof c&&!i(c))for(var p in c)t(c[p],p,c)}(o),n||e(o)}},function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=l(t),s=r[0],a=r[1],c=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),u=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[u++]=e>>16&255,c[u++]=e>>8&255,c[u++]=255&e;2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[u++]=255&e);1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[u++]=e>>8&255,c[u++]=255&e);return c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(u(t,s,s+16383>a?a:s+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,l=c>>1,u=-7,h=n?i-1:0,d=n?-1:1,p=t[e+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+t[e+h],h+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+t[e+h],h+=d,u-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=l}return(p?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,c,l=8*o-i-1,u=(1<<l)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(e*c-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=f,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+p]=255&s,p+=f,s/=256,l-=8);t[n+p-f]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){t.exports=n(207),t.exports.parser=n(28)},function(t,e,n){var r=n(91),i=n(65),o=n(43)("engine.io-client:socket"),s=n(95),a=n(28),c=n(87),l=n(41);function u(t,e){if(!(this instanceof u))return new u(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=c(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=c(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.withCredentials=!1!==e.withCredentials,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=u,u.priorWebsocketSuccess=!1,i(u.prototype),u.protocol=a.protocol,u.Socket=u,u.Transport=n(64),u.transports=n(91),u.parser=n(28),u.prototype.createTransport=function(t){o('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=a.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new r[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},u.prototype.open=function(){var t;if(this.rememberUpgrade&&u.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout((function(){e.emit("error","No transports available")}),0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},u.prototype.setTransport=function(t){o("setting transport %s",t.name);var e=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",(function(){e.onDrain()})).on("packet",(function(t){e.onPacket(t)})).on("error",(function(t){e.onError(t)})).on("close",(function(){e.onClose("transport close")}))},u.prototype.probe=function(t){o('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(o('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",(function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',t),r.upgrading=!0,r.emit("upgrading",e),!e)return;u.priorWebsocketSuccess="websocket"===e.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(o("changing transport and sending upgrade packet"),d(),r.setTransport(e),e.send([{type:"upgrade"}]),r.emit("upgrade",e),e=null,r.upgrading=!1,r.flush())}))}else{o('probe transport "%s" failed',t);var s=new Error("probe error");s.transport=e.name,r.emit("upgradeError",s)}})))}function s(){n||(n=!0,d(),e.close(),e=null)}function a(n){var i=new Error("probe error: "+n);i.transport=e.name,s(),o('probe transport "%s" failed because of error: %s',t,n),r.emit("upgradeError",i)}function c(){a("transport closed")}function l(){a("socket closed")}function h(t){e&&t.name!==e.name&&(o('"%s" works - aborting "%s"',t.name,e.name),s())}function d(){e.removeListener("open",i),e.removeListener("error",a),e.removeListener("close",c),r.removeListener("close",l),r.removeListener("upgrading",h)}u.priorWebsocketSuccess=!1,e.once("open",i),e.once("error",a),e.once("close",c),this.once("close",l),this.once("upgrading",h),e.open()},u.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",u.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},u.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else o('packet received with socket readyState "%s"',this.readyState)},u.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},u.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout((function(){"closed"!==e.readyState&&e.onClose("ping timeout")}),t||e.pingInterval+e.pingTimeout)},u.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout((function(){o("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)}),t.pingInterval)},u.prototype.ping=function(){var t=this;this.sendPacket("ping",(function(){t.emit("ping")}))},u.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},u.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},u.prototype.write=u.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},u.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:t,data:e,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},u.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():e()})):this.upgrading?r():e()}function e(){t.onClose("forced close"),o("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function r(){t.once("upgrade",n),t.once("upgradeError",n)}return this},u.prototype.onError=function(t){o("socket error %j",t),u.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},u.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',t);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0}},u.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~s(this.transports,t[n])&&e.push(t[n]);return e}},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,n){var r=n(63),i=n(92),o=n(65),s=n(42),a=n(43)("engine.io-client:polling-xhr");function c(){}function l(t){if(i.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!=typeof location){var e="https:"===location.protocol,n=location.port;n||(n=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}}function u(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}if(t.exports=l,t.exports.Request=u,s(l,i),l.prototype.supportsBinary=!0,l.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.withCredentials=this.withCredentials,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new u(t)},l.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),i=this;r.on("success",e),r.on("error",(function(t){i.onError("xhr post error",t)})),this.sendXhr=r},l.prototype.doPoll=function(){a("xhr poll");var t=this.request(),e=this;t.on("data",(function(t){e.onData(t)})),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t},o(u.prototype),u.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new r(t),n=this;try{a("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&e.setRequestHeader(i,this.extraHeaders[i])}catch(t){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=this.withCredentials),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&(e.responseType="arraybuffer")}catch(t){}4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout((function(){n.onError("number"==typeof e.status?e.status:0)}),0))},a("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout((function(){n.onError(t)}),0)}"undefined"!=typeof document&&(this.index=u.requestsCount++,u.requests[this.index]=this)},u.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},u.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},u.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},u.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete u.requests[this.index],this.xhr=null}},u.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t=("application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},u.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},u.prototype.abort=function(){this.cleanup()},u.requestsCount=0,u.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",d);else if("function"==typeof addEventListener){var h="onpagehide"in self?"pagehide":"unload";addEventListener(h,d,!1)}function d(){for(var t in u.requests)u.requests.hasOwnProperty(t)&&u.requests[t].abort()}},function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){t.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(t),o=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)o[a]=i[s];return o.buffer}},function(t,e){function n(){}t.exports=function(t,e,r){var i=!1;return r=r||n,o.count=t,0===t?e():o;function o(t,n){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(i=!0,e(t),e=r):0!==o.count||i||e(null,n)}}},function(t,e){
/*! https://mths.be/utf8js v2.1.2 by @mathias */
var n,r,i,o=String.fromCharCode;function s(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function a(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(t,e){return o(t>>e&63|128)}function l(t,e){if(0==(4294967168&t))return o(t);var n="";return 0==(4294965248&t)?n=o(t>>6&31|192):0==(4294901760&t)?(a(t,e)||(t=65533),n=o(t>>12&15|224),n+=c(t,6)):0==(4292870144&t)&&(n=o(t>>18&7|240),n+=c(t,12),n+=c(t,6)),n+=o(63&t|128)}function u(){if(i>=r)throw Error("Invalid byte index");var t=255&n[i];if(i++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function h(t){var e,o;if(i>r)throw Error("Invalid byte index");if(i==r)return!1;if(e=255&n[i],i++,0==(128&e))return e;if(192==(224&e)){if((o=(31&e)<<6|u())>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if((o=(15&e)<<12|u()<<6|u())>=2048)return a(o,t)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(o=(7&e)<<18|u()<<12|u()<<6|u())>=65536&&o<=1114111)return o;throw Error("Invalid UTF-8 detected")}t.exports={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,r=s(t),i=r.length,o=-1,a="";++o<i;)a+=l(r[o],n);return a},decode:function(t,e){var a=!1!==(e=e||{}).strict;n=s(t),r=n.length,i=0;for(var c,l=[];!1!==(c=h(a));)l.push(c);return function(t){for(var e,n=t.length,r=-1,i="";++r<n;)(e=t[r])>65535&&(i+=o((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=o(e);return i}(l)}}},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;e.encode=function(e){var n,r=new Uint8Array(e),i=r.length,o="";for(n=0;n<i;n+=3)o+=t[r[n]>>2],o+=t[(3&r[n])<<4|r[n+1]>>4],o+=t[(15&r[n+1])<<2|r[n+2]>>6],o+=t[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(t){var e,r,i,o,s,a=.75*t.length,c=t.length,l=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),h=new Uint8Array(u);for(e=0;e<c;e+=4)r=n[t.charCodeAt(e)],i=n[t.charCodeAt(e+1)],o=n[t.charCodeAt(e+2)],s=n[t.charCodeAt(e+3)],h[l++]=r<<2|i>>4,h[l++]=(15&i)<<4|o>>2,h[l++]=(3&o)<<6|63&s;return u}}()},function(t,e){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),i=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function s(t){return t.map((function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t}))}function a(t,e){e=e||{};var r=new n;return s(t).forEach((function(t){r.append(t)})),e.type?r.getBlob(e.type):r.getBlob()}function c(t,e){return new Blob(s(t),e||{})}"undefined"!=typeof Blob&&(a.prototype=Blob.prototype,c.prototype=Blob.prototype),t.exports=r?i?Blob:c:o?a:void 0},function(t,e,n){t.exports=function(t){function e(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){let n;function s(...t){if(!s.enabled)return;const e=s,i=Number(new Date),o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let a=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;a++;const o=r.formatters[i];if("function"==typeof o){const r=t[a];n=o.call(e,r),t.splice(a,1),a--}return n}),r.formatArgs.call(e,t),(e.log||r.log).apply(e,t)}return s.namespace=t,s.enabled=r.enabled(t),s.useColors=r.useColors(),s.color=e(t),s.destroy=i,s.extend=o,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function i(){const t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function o(t,e){const n=r(this.namespace+(void 0===e?":":e)+t);return n.log=this.log,n}function s(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},r.disable=function(){const t=[...r.names.map(s),...r.skips.map(s).map(t=>"-"+t)].join(",");return r.enable(""),t},r.enable=function(t){let e;r.save(t),r.names=[],r.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(e=0;e<i;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){const t=r.instances[e];t.enabled=r.enabled(t.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;let e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=n(218),Object.keys(t).forEach(e=>{r[e]=t[e]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},function(t,e){var n=1e3,r=6e4,i=36e5,o=24*i;function s(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}t.exports=function(t,e){e=e||{};var a=typeof t;if("string"===a&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===a&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=o)return s(t,e,o,"day");if(e>=i)return s(t,e,i,"hour");if(e>=r)return s(t,e,r,"minute");if(e>=n)return s(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=o)return Math.round(t/o)+"d";if(e>=i)return Math.round(t/i)+"h";if(e>=r)return Math.round(t/r)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){(function(e){var r=n(92),i=n(42);t.exports=u;var o,s=/\n/g,a=/\\n/g;function c(){}function l(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{}}function u(t){if(r.call(this,t),this.query=this.query||{},!o){var e=l();o=e.___eio=e.___eio||[]}this.index=o.length;var n=this;o.push((function(t){n.onData(t)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=c)}),!1)}i(u,r),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},u.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)},u.prototype.doWrite=function(t,e){var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=c,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function l(){u(),e()}function u(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(t)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),u(),t=t.replace(a,"\\\n"),this.area.value=t.replace(s,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&l()}:this.iframe.onload=l}}).call(this,n(22))},function(t,e,n){(function(e){var r,i,o=n(64),s=n(28),a=n(41),c=n(42),l=n(94),u=n(43)("engine.io-client:websocket");if("undefined"!=typeof WebSocket?r=WebSocket:"undefined"!=typeof self&&(r=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{i=n(221)}catch(t){}var h=r||i;function d(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=r&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(h=i),o.call(this,t)}t.exports=d,c(d,o),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new h(t,e):new h(t):new h(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},d.prototype.write=function(t){var n=this;this.writable=!1;for(var r=t.length,i=0,o=r;i<o;i++)!function(t){s.encodePacket(t,n.supportsBinary,(function(i){if(!n.usingBrowserWebSocket){var o={};if(t.options&&(o.compress=t.options.compress),n.perMessageDeflate)("string"==typeof i?e.byteLength(i):i.length)<n.perMessageDeflate.threshold&&(o.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,o)}catch(t){u("websocket closed before onclose event")}--r||a()}))}(t[i]);function a(){n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0)}},d.prototype.onClose=function(){o.prototype.onClose.call(this)},d.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},d.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=l()),this.supportsBinary||(t.b64=1),(t=a.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},d.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===d.prototype.name)}}).call(this,n(62).Buffer)},,function(t,e){t.exports=function(t,e){for(var n=[],r=(e=e||0)||0;r<t.length;r++)n[r-e]=t[r];return n}},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},function(t,e,n){"use strict";(function(n){var r,i,o,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n){"object"==s(e)&&void 0!==t?t.exports=n():(i=[],void 0===(o="function"==typeof(r=n)?r.apply(e,i):r)||(t.exports=o))}((function(){return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,(function(t){return i(e[s][1][t]||t)}),l,l.exports,t,e,n,r)}return n[s].exports}for(var o=!1,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){var r=t("./browser/client");r.Buffer=t("buffer").Buffer,r.urllib=t("../shims/xhr"),r.version=t("./browser/version").version,e.exports=r},{"../shims/xhr":242,"./browser/client":2,"./browser/version":5,buffer:37}],2:[function(t,e,n){(function(n,r){function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(this instanceof o))return new o(t,e);t&&t.inited?this.options=t:this.options=o.initOptions(t),this.options.cancelFlag=!1,this.options.urllib?this.urllib=this.options.urllib:(this.urllib=O,this.agent=this.options.agent||C),this.ctx=e,this.userAgent=this._getUserAgent(),this.options.amendTimeSkewed=0}var s=i(t("babel-runtime/core-js/promise")),a=i(t("babel-runtime/regenerator")),c=i(t("babel-runtime/core-js/object/assign")),l=i(t("babel-runtime/core-js/object/keys")),u=t("debug")("ali-oss"),h=t("./../../shims/crypto/crypto.js"),d=t("path"),p=t("copy-to"),f=t("mime"),g=t("xml2js"),m=t("humanize-ms"),v=t("agentkeepalive"),y=t("merge-descriptors"),b=t("url"),w=t("is-type-of"),_=t("platform"),x=t("utility"),O=t("urllib"),S=t("./version"),j=t("dateformat"),E=t("bowser"),T=t("../common/signUtils"),P=t("../common/utils"),C=new v;e.exports=o,o.initOptions=function(t){if(!t||!t.accessKeyId||!t.accessKeySecret)throw new Error("require accessKeyId, accessKeySecret");var e={region:"oss-cn-hangzhou",internal:!1,secure:document&&document.location&&"https:"===document.location.protocol,bucket:null,endpoint:null,cname:!1,isRequestPay:!1,useFetch:!0};if((0,l.default)(t).forEach((function(n){void 0!==t[n]&&(e[n]=t[n])})),e.accessKeyId=e.accessKeyId.trim(),e.accessKeySecret=e.accessKeySecret.trim(),e.timeout&&(e.timeout=m(e.timeout)),e.endpoint)e.endpoint=function(t,e){var n=b.parse(t);if(!n.protocol){var r=e?"https://":"http://";n=b.parse(r+t)}if("http:"!==n.protocol&&"https:"!==n.protocol)throw new Error("Endpoint protocol must be http or https.");return n}(e.endpoint,e.secure);else{if(!e.region)throw new Error("require options.endpoint or options.region");e.endpoint=function(t,e,n){var r=n?"https://":"http://",i=e?"-internal.aliyuncs.com":".aliyuncs.com";return"vpc100-oss-cn-"===t.substr(0,"vpc100-oss-cn-".length)&&(i=".aliyuncs.com"),b.parse(r+t+i)}(e.region,e.internal,e.secure)}return e.inited=!0,e};var A=o.prototype;A.debug=u,y(A,t("./object")),y(A,t("./managed-upload")),y(A,t("../common/multipart")),y(A,t("../common/parallel")),A.signature=function(t){return this.debug("authorization stringToSign: %s",t,"info"),T.computeSignature(this.options.accessKeySecret,t)},A.authorization=function(t,e,n,r){var i=T.buildCanonicalString(t.toUpperCase(),e,{headers:r,parameters:n});return T.authorization(this.options.accessKeyId,this.options.accessKeySecret,i)},A.createRequest=function(t){var e={"x-oss-date":j(+new Date+this.options.amendTimeSkewed,"UTC:ddd, dd mmm yyyy HH:MM:ss 'GMT'"),"x-oss-user-agent":this.userAgent};this.options.isRequestPay&&(0,c.default)(e,{"x-oss-request-payer":"requester"}),this.options.stsToken&&(e["x-oss-security-token"]=this.options.stsToken),p(t.headers).to(e),function(t,e){return t[e]||t[e.toLowerCase()]}(e,"Content-Type")||(t.mime===f.default_type&&(t.mime=""),t.mime&&t.mime.indexOf("/")>0?e["Content-Type"]=t.mime:e["Content-Type"]=f.getType(t.mime||d.extname(t.object||""))||"application/octet-stream"),t.content&&(e["Content-Md5"]=h.createHash("md5").update(new r(t.content,"utf8")).digest("base64"),e["Content-Length"]||(e["Content-Length"]=t.content.length));var n=this._getResource(t);e.authorization=this.authorization(t.method,n,t.subres,e);var i=this._getReqUrl(t);this.debug("request %s %s, with headers %j, !!stream: %s",t.method,i,e,!!t.stream,"info");var o=t.timeout||this.options.timeout;return{url:i,params:{agent:this.agent,method:t.method,content:t.content,stream:t.stream,headers:e,timeout:o,writeStream:t.writeStream,customResponse:t.customResponse,ctx:t.ctx||this.ctx}}},A.request=function(t){var e,n,r,i,o;return a.default.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.createRequest(t),this.options.useFetch||(e.params.mode="disable-fetch"),n=void 0,r=void 0,s.prev=4,s.next=7,a.default.awrap(this.urllib.request(e.url,e.params));case 7:n=s.sent,this.debug("response %s %s, got %s, headers: %j",t.method,e.url,n.status,n.headers,"info"),s.next=14;break;case 11:s.prev=11,s.t0=s.catch(4),r=s.t0;case 14:if(i=void 0,!n||!t.successStatuses||-1!==t.successStatuses.indexOf(n.status)){s.next=27;break}return s.next=18,a.default.awrap(this.requestError(n));case 18:if("RequestTimeTooSkewed"!==(i=s.sent).code){s.next=24;break}return this.options.amendTimeSkewed=+new Date(i.serverTime)-new Date,s.next=23,a.default.awrap(this.request(t));case 23:return s.abrupt("return",s.sent);case 24:i.params=t,s.next=31;break;case 27:if(!r){s.next=31;break}return s.next=30,a.default.awrap(this.requestError(r));case 30:i=s.sent;case 31:if(!i){s.next=33;break}throw i;case 33:if(!t.xmlResponse){s.next=38;break}return s.next=36,a.default.awrap(this.parseXML(n.data));case 36:o=s.sent,n.data=o;case 38:return s.abrupt("return",n);case 39:case"end":return s.stop()}}),null,this,[[4,11]])},A._getResource=function(t){var e="/";return t.bucket&&(e+=t.bucket+"/"),t.object&&(e+=t.object),e},A._isIP=function(t){return P._isIP(t)},A._escape=function(t){return x.encodeURIComponent(t).replace(/%2F/g,"/")},A._getReqUrl=function(t){var e={};p(this.options.endpoint).to(e);var n=this._isIP(e.hostname),r=this.options.cname;!t.bucket||r||n||(e.host=t.bucket+"."+e.host);var i="/";t.bucket&&n&&(i+=t.bucket+"/"),t.object&&(i+=this._escape(t.object).replace(/\+/g,"%2B")),e.pathname=i;var o={};if(t.query&&y(o,t.query),t.subres){var s={};w.string(t.subres)?s[t.subres]="":w.array(t.subres)?t.subres.forEach((function(t){s[t]=""})):s=t.subres,y(o,s)}return e.query=o,b.format(e)},A._getUserAgent=function(){var t="aliyun-sdk-"+(n&&n.browser?"js":"nodejs")+"/"+S.version,e=_.description;return!e&&n&&(e="Node.js "+n.version.slice(1)+" on "+n.platform+" "+n.arch),this._checkUserAgent(t+" "+e)},A._checkUserAgent=function(t){return t.replace(/\u03b1/,"alpha").replace(/\u03b2/,"beta")},A.checkBrowserAndVersion=function(t,e){return E.name===t&&E.version.split(".")[0]===e},A.parseXML=function(t){return new s.default((function(e,n){r.isBuffer(t)&&(t=t.toString()),g.parseString(t,{explicitRoot:!1,explicitArray:!1},(function(t,r){t?n(t):e(r)}))}))},A.requestError=function(t){var e,n,r,i;return a.default.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e=null,t.data&&t.data.length){o.next=5;break}-1===t.status||-2===t.status?((e=new Error(t.message)).name=t.name,e.status=t.status,e.code=t.name):(404===t.status?((e=new Error("Object not exists")).name="NoSuchKeyError",e.status=404,e.code="NoSuchKey"):412===t.status?((e=new Error("Pre condition failed")).name="PreconditionFailedError",e.status=412,e.code="PreconditionFailed"):((e=new Error("Unknow error, status: "+t.status)).name="UnknowError",e.status=t.status),e.requestId=t.headers["x-oss-request-id"],e.host=""),o.next=33;break;case 5:return n=String(t.data),this.debug("request response error data: %s",n,"error"),r=void 0,o.prev=8,o.next=11,a.default.awrap(this.parseXML(n));case 11:if(o.t0=o.sent,o.t0){o.next=14;break}o.t0={};case 14:r=o.t0,o.next=24;break;case 17:return o.prev=17,o.t1=o.catch(8),this.debug(n,"error"),o.t1.message+="\nraw xml: "+n,o.t1.status=t.status,o.t1.requestId=t.headers["x-oss-request-id"],o.abrupt("return",o.t1);case 24:i=r.Message||"unknow request error, status: "+t.status,r.Condition&&(i+=" (condition: "+r.Condition+")"),(e=new Error(i)).name=r.Code?r.Code+"Error":"UnknowError",e.status=t.status,e.code=r.Code,e.requestId=r.RequestId,e.hostId=r.HostId,e.serverTime=r.ServerTime;case 33:return this.debug("generate error %j",e,"error"),o.abrupt("return",e);case 35:case"end":return o.stop()}}),null,this,[[8,17]])}}).call(this,t("_process"),t("buffer").Buffer)},{"../common/multipart":7,"../common/parallel":8,"../common/signUtils":9,"../common/utils":10,"./../../shims/crypto/crypto.js":235,"./managed-upload":3,"./object":4,"./version":5,_process:171,agentkeepalive:11,"babel-runtime/core-js/object/assign":17,"babel-runtime/core-js/object/keys":22,"babel-runtime/core-js/promise":23,"babel-runtime/regenerator":32,bowser:34,buffer:37,"copy-to":40,dateformat:151,debug:153,"humanize-ms":158,"is-type-of":163,"merge-descriptors":166,mime:240,path:168,platform:169,url:201,urllib:242,utility:241,xml2js:211}],3:[function(t,e,n){(function(e){function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(this instanceof i))return new i(t,e);f.call(this,e),this.file=t,this.reader=new FileReader,this.start=0,this.finish=!1,this.fileBuffer=null}var o=r(t("babel-runtime/core-js/array/from")),s=r(t("babel-runtime/core-js/promise")),a=r(t("babel-runtime/regenerator")),c=t("is-type-of"),l=t("util"),u=t("path"),h=t("mime"),d=t("copy-to"),p=n;p.multipartUpload=function(t,e,n){var r,i,o,s,l,d,p,f,g;return a.default.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(this.resetCancelFlag(),!(n=n||{}).checkpoint||!n.checkpoint.uploadId){m.next=6;break}return m.next=5,a.default.awrap(this._resumeMultipart(n.checkpoint,n));case 5:return m.abrupt("return",m.sent);case 6:return r=102400,n.mime||(c.file(e)?n.mime=h.getType(u.extname(e.name)):c.blob(e)?n.mime=e.type:n.mime=h.getType(u.extname(e))),n.headers=n.headers||{},this._convertMetaToHeaders(n.meta,n.headers),m.next=12,a.default.awrap(this._getFileSize(e));case 12:if(!((i=m.sent)<r)){m.next=25;break}return o=this._createStream(e,0,i),n.contentLength=i,m.next=18,a.default.awrap(this.putStream(t,o,n));case 18:if(s=m.sent,!n||!n.progress){m.next=22;break}return m.next=22,a.default.awrap(n.progress(1));case 22:return l={res:s.res,bucket:this.options.bucket,name:t,etag:s.res.headers.etag},(n.headers&&n.headers["x-oss-callback"]||n.callback)&&(l.data=s.data),m.abrupt("return",l);case 25:if(!n.partSize||parseInt(n.partSize,10)===n.partSize){m.next=27;break}throw new Error("partSize must be int number");case 27:if(!(n.partSize&&n.partSize<r)){m.next=29;break}throw new Error("partSize must not be smaller than "+r);case 29:return m.next=31,a.default.awrap(this.initMultipartUpload(t,n));case 31:if(d=m.sent,p=d.uploadId,f=this._getPartSize(i,n.partSize),g={file:e,name:t,fileSize:i,partSize:f,uploadId:p,doneParts:[]},!n||!n.progress){m.next=38;break}return m.next=38,a.default.awrap(n.progress(0,g,d.res));case 38:return m.next=40,a.default.awrap(this._resumeMultipart(g,n));case 40:return m.abrupt("return",m.sent);case 41:case"end":return m.stop()}}),null,this)},p._resumeMultipart=function(t,e){var n,r,i,c,l,u,h,p,f,g,m,v,y,b,w,_,x;return a.default.async((function(O){for(;;)switch(O.prev=O.next){case 0:if(n=this,!this.isCancel()){O.next=3;break}throw this._makeCancelEvent();case 3:return r=t.file,i=t.fileSize,c=t.partSize,l=t.uploadId,u=t.doneParts,h=t.name,p=[],u.length>0&&d(u).to(p),f=this._divideParts(i,c),g=f.length,m=!1,v=function(n,i){var o=this;return new s.default((function(s,c){var p,v,y,b;return a.default.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,n.isCancel()){o.next=18;break}return p=f[i-1],v={stream:n._createStream(r,p.start,p.end),size:p.end-p.start},o.next=6,a.default.awrap(n._uploadPart(h,l,i,v));case 6:if(y=o.sent,n.isCancel()||m){o.next=15;break}if(t.doneParts.push({number:i,etag:y.res.headers.etag}),!e.progress){o.next=12;break}return o.next=12,a.default.awrap(e.progress(u.length/g,t,y.res));case 12:s({number:i,etag:y.res.headers.etag}),o.next=16;break;case 15:s();case 16:o.next=19;break;case 18:s();case 19:o.next=30;break;case 21:o.prev=21,o.t0=o.catch(0),(b=new Error).name=o.t0.name,b.message=o.t0.message,b.stack=o.t0.stack,b.partNum=i,d(o.t0).to(b),c(b);case 30:case"end":return o.stop()}}),null,o,[[0,21]])}))},y=(0,o.default)(new Array(g),(function(t,e){return e+1})),b=p.map((function(t){return t.number})),w=y.filter((function(t){return b.indexOf(t)<0})),5,_=e.parallel||5,O.next=17,a.default.awrap(this._parallel(w,_,(function(t){return new s.default((function(e,r){v(n,t).then((function(t){t&&p.push(t),e()})).catch((function(t){r(t)}))}))})));case 17:if(x=O.sent,m=!0,!this.isCancel()){O.next=22;break}throw v=null,this._makeCancelEvent();case 22:if(!(x&&x.length>0)){O.next=25;break}throw x[0].message="Failed to upload some parts with error: "+x[0].toString()+" part_num: "+x[0].partNum,x[0];case 25:return O.next=27,a.default.awrap(this.completeMultipartUpload(h,l,p,e));case 27:return O.abrupt("return",O.sent);case 28:case"end":return O.stop()}}),null,this)},c.file=function(t){return"undefined"!=typeof File&&t instanceof File},c.blob=function(t){return"undefined"!=typeof Blob&&t instanceof Blob},p._getFileSize=function(t){var e;return a.default.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!c.buffer(t)){n.next=4;break}return n.abrupt("return",t.length);case 4:if(!c.blob(t)&&!c.file(t)){n.next=6;break}return n.abrupt("return",t.size);case 6:if(!c.string(t)){n.next=11;break}return n.next=9,a.default.awrap(this._statFile(t));case 9:return e=n.sent,n.abrupt("return",e.size);case 11:throw new Error("_getFileSize requires Buffer/File/String.");case 12:case"end":return n.stop()}}),null,this)};var f=t("stream").Readable;l.inherits(i,f),i.prototype.readFileAndPush=function(t){if(this.fileBuffer)for(var e=!0;e&&this.fileBuffer&&this.start<this.fileBuffer.length;){var n=this.start,r=n+t;r=r>this.fileBuffer.length?this.fileBuffer.length:r,this.start=r,e=this.push(this.fileBuffer.slice(n,r))}},i.prototype._read=function(t){if(this.file&&this.start>=this.file.size||this.fileBuffer&&this.start>=this.fileBuffer.length||this.finish||0===this.start&&!this.file)return this.finish||(this.fileBuffer=null,this.finish=!0),void this.push(null);t=t||16384;var n=this;this.reader.onload=function(r){n.fileBuffer=new e(new Uint8Array(r.target.result)),n.file=null,n.readFileAndPush(t)},0===this.start?this.reader.readAsArrayBuffer(this.file):this.readFileAndPush(t)},p._createStream=function(t,e,n){if(c.blob(t)||c.file(t))return new i(t.slice(e,n));throw new Error("_createStream requires File/String.")},p._getPartSize=function(t,e){return e?Math.max(Math.ceil(t/1e4),e):1048576},p._divideParts=function(t,e){for(var n=Math.ceil(t/e),r=[],i=0;i<n;i++){var o=e*i,s=Math.min(o+e,t);r.push({start:o,end:s})}return r}}).call(this,t("buffer").Buffer)},{"babel-runtime/core-js/array/from":15,"babel-runtime/core-js/promise":23,"babel-runtime/regenerator":32,buffer:37,"copy-to":40,"is-type-of":163,mime:240,path:168,stream:193,util:205}],4:[function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}var i=r(t("babel-runtime/core-js/promise")),o=r(t("babel-runtime/core-js/object/keys")),s=r(t("babel-runtime/regenerator")),a=t("utility"),c=t("fs"),l=t("is-type-of"),u=t("url"),h=t("copy-to"),d=t("path"),p=t("mime"),f=t("../common/callback"),g=t("../common/signUtils"),m=n;m.append=function(t,e,n){var r;return s.default.async((function(i){for(;;)switch(i.prev=i.next){case 0:return void 0===(n=n||{}).position&&(n.position="0"),n.subres={append:"",position:n.position},n.method="POST",i.next=6,s.default.awrap(this.put(t,e,n));case 6:return(r=i.sent).nextAppendPosition=r.res.headers["x-oss-next-append-position"],i.abrupt("return",r);case 9:case"end":return i.stop()}}),null,this)},m.put=function(t,e,n){var r,i,o,a,c,u,h;return s.default.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(r=void 0,n=n||{},!l.buffer(e)){g.next=6;break}r=e,g.next=19;break;case 6:if(!l.blob(e)&&!l.file(e)){g.next=18;break}return n.mime||(l.file(e)?n.mime=p.getType(d.extname(e.name)):n.mime=e.type),i=this._createStream(e,0,e.size),g.next=11,s.default.awrap(this._getFileSize(e));case 11:return n.contentLength=g.sent,g.next=14,s.default.awrap(this.putStream(t,i,n));case 14:return o=g.sent,g.abrupt("return",o);case 18:throw new TypeError("Must provide Buffer/Blob for put.");case 19:return n.headers=n.headers||{},this._convertMetaToHeaders(n.meta,n.headers),a=n.method||"PUT",c=this._objectRequestParams(a,t,n),f.encodeCallback(c,n),c.mime=n.mime,c.content=r,c.successStatuses=[200],g.next=29,s.default.awrap(this.request(c));case 29:return u=g.sent,h={name:t,url:this._objectUrl(t),res:u.res},c.headers&&c.headers["x-oss-callback"]&&(h.data=JSON.parse(u.data.toString())),g.abrupt("return",h);case 33:case"end":return g.stop()}}),null,this)},m.putStream=function(t,e,n){var r,i,o,a;return s.default.async((function(c){for(;;)switch(c.prev=c.next){case 0:return(n=n||{}).headers=n.headers||{},n.contentLength?n.headers["Content-Length"]=n.contentLength:n.headers["Transfer-Encoding"]="chunked",this._convertMetaToHeaders(n.meta,n.headers),r=n.method||"PUT",i=this._objectRequestParams(r,t,n),f.encodeCallback(i,n),i.mime=n.mime,i.stream=e,i.successStatuses=[200],c.next=12,s.default.awrap(this.request(i));case 12:return o=c.sent,a={name:t,url:this._objectUrl(t),res:o.res},i.headers&&i.headers["x-oss-callback"]&&(a.data=JSON.parse(o.data.toString())),c.abrupt("return",a);case 16:case"end":return c.stop()}}),null,this)},m.head=function(t,e){var n,r,i;return s.default.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(n=this._objectRequestParams("HEAD",t,e)).successStatuses=[200,304],a.next=4,s.default.awrap(this.request(n));case 4:return r=a.sent,i={meta:null,res:r.res,status:r.status},200===r.status&&(0,o.default)(r.headers).forEach((function(t){0===t.indexOf("x-oss-meta-")&&(i.meta||(i.meta={}),i.meta[t.substring(11)]=r.headers[t])})),a.abrupt("return",i);case 8:case"end":return a.stop()}}),null,this)},m.get=function(t,e,n){var r,i,o,a;return s.default.async((function(u){for(;;)switch(u.prev=u.next){case 0:return r=null,i=!1,l.writableStream(e)?r=e:l.string(e)?(r=c.createWriteStream(e),i=!0):n=e,(n=n||{}).process&&(n.subres=n.subres||{},n.subres["x-oss-process"]=n.process),o=void 0,u.prev=6,(a=this._objectRequestParams("GET",t,n)).writeStream=r,a.successStatuses=[200,206,304],u.next=12,s.default.awrap(this.request(a));case 12:o=u.sent,i&&r.destroy(),u.next=24;break;case 16:if(u.prev=16,u.t0=u.catch(6),!i){u.next=23;break}return r.destroy(),this.debug("get error: %s, delete the exists file %s",u.t0,e,"error"),u.next=23,s.default.awrap(this._deleteFileSafe(e));case 23:throw u.t0;case 24:return u.abrupt("return",{res:o.res,content:o.data});case 25:case"end":return u.stop()}}),null,this,[[6,16]])},m.delete=function(t,e){var n,r;return s.default.async((function(i){for(;;)switch(i.prev=i.next){case 0:return(n=this._objectRequestParams("DELETE",t,e)).successStatuses=[204],i.next=4,s.default.awrap(this.request(n));case 4:return r=i.sent,i.abrupt("return",{res:r.res});case 6:case"end":return i.stop()}}),null,this)},m.deleteMulti=function(t,e){var n,r,i,o,c,l;return s.default.async((function(u){for(;;)switch(u.prev=u.next){case 0:for(n='<?xml version="1.0" encoding="UTF-8"?>\n<Delete>\n',(e=e||{}).quiet?n+="  <Quiet>true</Quiet>\n":n+="  <Quiet>false</Quiet>\n",r=0;r<t.length;r++)n+="  <Object><Key>"+a.escape(this._objectName(t[r]))+"</Key></Object>\n";return n+="</Delete>",this.debug("delete multi objects: %s",n,"info"),e.subres="delete",(i=this._objectRequestParams("POST","",e)).mime="xml",i.content=n,i.xmlResponse=!0,i.successStatuses=[200],u.next=14,s.default.awrap(this.request(i));case 14:return o=u.sent,c=o.data,(l=c&&c.Deleted||null)&&(Array.isArray(l)||(l=[l]),l=l.map((function(t){return t.Key}))),u.abrupt("return",{res:o.res,deleted:l});case 19:case"end":return u.stop()}}),null,this)},m.copy=function(t,e,n){var r,i,a;return s.default.async((function(c){for(;;)switch(c.prev=c.next){case 0:return(n=n||{}).headers=n.headers||{},(0,o.default)(n.headers).forEach((function(t){n.headers["x-oss-copy-source-"+t.toLowerCase()]=n.headers[t]})),n.meta&&(n.headers["x-oss-metadata-directive"]="REPLACE"),this._convertMetaToHeaders(n.meta,n.headers),e="/"!==e[0]?"/"+this.options.bucket+"/"+encodeURIComponent(e):"/"+encodeURIComponent(e.slice(1)),n.headers["x-oss-copy-source"]=e,(r=this._objectRequestParams("PUT",t,n)).xmlResponse=!0,r.successStatuses=[200,304],c.next=12,s.default.awrap(this.request(r));case 12:return i=c.sent,(a=i.data)&&(a={etag:a.ETag,lastModified:a.LastModified}),c.abrupt("return",{data:a,res:i.res});case 16:case"end":return c.stop()}}),null,this)},m.putMeta=function(t,e,n){var r;return s.default.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,s.default.awrap(this.copy(t,t,{meta:e||{},timeout:n&&n.timeout,ctx:n&&n.ctx}));case 2:return r=i.sent,i.abrupt("return",r);case 4:case"end":return i.stop()}}),null,this)},m.list=function(t,e){var n,r,i,o,a;return s.default.async((function(c){for(;;)switch(c.prev=c.next){case 0:return(n=this._objectRequestParams("GET","",e)).query=t,n.xmlResponse=!0,n.successStatuses=[200],c.next=6,s.default.awrap(this.request(n));case 6:return r=c.sent,i=r.data.Contents,o=this,i&&(Array.isArray(i)||(i=[i]),i=i.map((function(t){return{name:t.Key,url:o._objectUrl(t.Key),lastModified:t.LastModified,etag:t.ETag,type:t.Type,size:Number(t.Size),storageClass:t.StorageClass,owner:{id:t.Owner.ID,displayName:t.Owner.DisplayName}}}))),(a=r.data.CommonPrefixes||null)&&(Array.isArray(a)||(a=[a]),a=a.map((function(t){return t.Prefix}))),c.abrupt("return",{res:r.res,objects:i,prefixes:a,nextMarker:r.data.NextMarker||null,isTruncated:"true"===r.data.IsTruncated});case 13:case"end":return c.stop()}}),null,this)},m.putACL=function(t,e,n){var r,i;return s.default.async((function(o){for(;;)switch(o.prev=o.next){case 0:return(n=n||{}).subres="acl",n.headers=n.headers||{},n.headers["x-oss-object-acl"]=e,t=this._objectName(t),(r=this._objectRequestParams("PUT",t,n)).successStatuses=[200],o.next=9,s.default.awrap(this.request(r));case 9:return i=o.sent,o.abrupt("return",{res:i.res});case 11:case"end":return o.stop()}}),null,this)},m.getACL=function(t,e){var n,r;return s.default.async((function(i){for(;;)switch(i.prev=i.next){case 0:return(e=e||{}).subres="acl",t=this._objectName(t),(n=this._objectRequestParams("GET",t,e)).successStatuses=[200],n.xmlResponse=!0,i.next=8,s.default.awrap(this.request(n));case 8:return r=i.sent,i.abrupt("return",{acl:r.data.AccessControlList.Grant,owner:{id:r.data.Owner.ID,displayName:r.data.Owner.DisplayName},res:r.res});case 10:case"end":return i.stop()}}),null,this)},m.restore=function(t,e){var n,r;return s.default.async((function(i){for(;;)switch(i.prev=i.next){case 0:return(e=e||{}).subres="restore",(n=this._objectRequestParams("POST",t,e)).successStatuses=[202],i.next=6,s.default.awrap(this.request(n));case 6:return r=i.sent,i.abrupt("return",{res:r.res});case 8:case"end":return i.stop()}}),null,this)},m.signatureUrl=function(t,e){e=e||{},t=this._objectName(t),e.method=e.method||"GET";var n=a.timestamp()+(e.expires||1800),r={bucket:this.options.bucket,object:t},i=this._getResource(r);this.options.stsToken&&(e["security-token"]=this.options.stsToken);var o=g._signatureForURL(this.options.accessKeySecret,e,i,n),s=u.parse(this._getReqUrl(r));return s.query={OSSAccessKeyId:this.options.accessKeyId,Expires:n,Signature:o.Signature},h(o.subResource).to(s.query),s.format()},m.getObjectUrl=function(t,e){return e?"/"!==e[e.length-1]&&(e+="/"):e=this.options.endpoint.format(),e+this._escape(this._objectName(t))},m._objectUrl=function(t){return this._getReqUrl({bucket:this.options.bucket,object:t})},m.generateObjectUrl=function(t,e){if(e)"/"!==e[e.length-1]&&(e+="/");else{e=this.options.endpoint.format();var n=u.parse(e),r=this.options.bucket;n.hostname=r+"."+n.hostname,n.host=r+"."+n.host,e=n.format()}return e+this._escape(this._objectName(t))},m._objectRequestParams=function(t,e,n){if(!this.options.bucket)throw new Error("Please create a bucket first");n=n||{};var r={object:e=this._objectName(e),bucket:this.options.bucket,method:t,subres:n&&n.subres,timeout:n&&n.timeout,ctx:n&&n.ctx};return n.headers&&(r.headers={},h(n.headers).to(r.headers)),r},m._objectName=function(t){return t.replace(/^\/+/,"")},m._statFile=function(t){return new i.default((function(e,n){c.stat(t,(function(t,r){t?n(t):e(r)}))}))},m._convertMetaToHeaders=function(t,e){t&&(0,o.default)(t).forEach((function(n){e["x-oss-meta-"+n]=t[n]}))},m._deleteFileSafe=function(t){var e=this;return new i.default((function(n){c.exists(t,(function(r){r?c.unlink(t,(function(r){r&&e.debug("unlink %j error: %s",t,r,"error"),n()})):n()}))}))}},{"../common/callback":6,"../common/signUtils":9,"babel-runtime/core-js/object/keys":22,"babel-runtime/core-js/promise":23,"babel-runtime/regenerator":32,"copy-to":40,fs:35,"is-type-of":163,mime:240,path:168,url:201,utility:241}],5:[function(t,e,n){n.version="6.1.1"},{}],6:[function(t,e,n){(function(e){function r(t){return t&&t.__esModule?t:{default:t}}var i=r(t("babel-runtime/core-js/object/keys")),o=r(t("babel-runtime/core-js/json/stringify"));n.encodeCallback=function(t,n){if(t.headers=t.headers||{},!Object.prototype.hasOwnProperty.call(t.headers,"x-oss-callback")&&n.callback){var r={callbackUrl:encodeURI(n.callback.url),callbackBody:n.callback.body};n.callback.host&&(r.callbackHost=n.callback.host),n.callback.contentType&&(r.callbackBodyType=n.callback.contentType);var s=new e((0,o.default)(r)).toString("base64");if(t.headers["x-oss-callback"]=s,n.callback.customValue){var a={};(0,i.default)(n.callback.customValue).forEach((function(t){a["x:"+t]=n.callback.customValue[t]})),t.headers["x-oss-callback-var"]=new e((0,o.default)(a)).toString("base64")}}}}).call(this,t("buffer").Buffer)},{"babel-runtime/core-js/json/stringify":16,"babel-runtime/core-js/object/keys":22,buffer:37}],7:[function(t,e,n){var r=function(t){return t&&t.__esModule?t:{default:t}}(t("babel-runtime/regenerator")),i=t("copy-to"),o=t("./callback"),s=n;s.listUploads=function(t,e){var n,o,s,a;return r.default.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n={},i(e=e||{}).to(n),n.subres="uploads",(o=this._objectRequestParams("GET","",n)).query=t,o.xmlResponse=!0,o.successStatuses=[200],c.next=10,r.default.awrap(this.request(o));case 10:return s=c.sent,a=s.data.Upload||[],Array.isArray(a)||(a=[a]),a=a.map((function(t){return{name:t.Key,uploadId:t.UploadId,initiated:t.Initiated}})),c.abrupt("return",{res:s.res,uploads:a,bucket:s.data.Bucket,nextKeyMarker:s.data.NextKeyMarker,nextUploadIdMarker:s.data.NextUploadIdMarker,isTruncated:"true"===s.data.IsTruncated});case 15:case"end":return c.stop()}}),null,this)},s.listParts=function(t,e,n,o){var s,a,c;return r.default.async((function(l){for(;;)switch(l.prev=l.next){case 0:return s={},i(o=o||{}).to(s),s.subres={uploadId:e},(a=this._objectRequestParams("GET",t,s)).query=n,a.xmlResponse=!0,a.successStatuses=[200],l.next=10,r.default.awrap(this.request(a));case 10:return c=l.sent,l.abrupt("return",{res:c.res,uploadId:c.data.UploadId,bucket:c.data.Bucket,name:c.data.Key,partNumberMarker:c.data.PartNumberMarker,nextPartNumberMarker:c.data.NextPartNumberMarker,maxParts:c.data.MaxParts,isTruncated:c.data.IsTruncated,parts:c.data.Part||[]});case 12:case"end":return l.stop()}}),null,this)},s.abortMultipartUpload=function(t,e,n){var o,s,a;return r.default.async((function(c){for(;;)switch(c.prev=c.next){case 0:return this._stop(),o={},i(n=n||{}).to(o),o.subres={uploadId:e},(s=this._objectRequestParams("DELETE",t,o)).successStatuses=[204],c.next=9,r.default.awrap(this.request(s));case 9:return a=c.sent,c.abrupt("return",{res:a.res});case 11:case"end":return c.stop()}}),null,this)},s.initMultipartUpload=function(t,e){var n,o,s;return r.default.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n={},i(e=e||{}).to(n),n.headers=n.headers||{},this._convertMetaToHeaders(e.meta,n.headers),n.subres="uploads",(o=this._objectRequestParams("POST",t,n)).mime=e.mime,o.xmlResponse=!0,o.successStatuses=[200],a.next=12,r.default.awrap(this.request(o));case 12:return s=a.sent,a.abrupt("return",{res:s.res,bucket:s.data.Bucket,name:s.data.Key,uploadId:s.data.UploadId});case 14:case"end":return a.stop()}}),null,this)},s.uploadPart=function(t,e,n,i,o,s,a){var c;return r.default.async((function(l){for(;;)switch(l.prev=l.next){case 0:return c={stream:this._createStream(i,o,s),size:s-o},l.next=3,r.default.awrap(this._uploadPart(t,e,n,c,a));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}}),null,this)},s.completeMultipartUpload=function(t,e,n,s){var a,c,l,u,h,d,p,f;return r.default.async((function(g){for(;;)switch(g.prev=g.next){case 0:for(a=n.concat().sort((function(t,e){return t.number-e.number})).filter((function(t,e,n){return!e||t.number!==n[e-1].number})),c='<?xml version="1.0" encoding="UTF-8"?>\n<CompleteMultipartUpload>\n',l=0;l<a.length;l++)u=a[l],c+="<Part>\n",c+="<PartNumber>"+u.number+"</PartNumber>\n",c+="<ETag>"+u.etag+"</ETag>\n",c+="</Part>\n";return c+="</CompleteMultipartUpload>",h={},i(s=s||{}).to(h),h.subres={uploadId:e},d=this._objectRequestParams("POST",t,h),o.encodeCallback(d,h),d.mime="xml",d.content=c,d.headers&&d.headers["x-oss-callback"]||(d.xmlResponse=!0),d.successStatuses=[200],g.next=16,r.default.awrap(this.request(d));case 16:return p=g.sent,f={res:p.res,bucket:d.bucket,name:t,etag:p.res.headers.etag},d.headers&&d.headers["x-oss-callback"]&&(f.data=JSON.parse(p.data.toString())),g.abrupt("return",f);case 20:case"end":return g.stop()}}),null,this)},s._uploadPart=function(t,e,n,o,s){var a,c,l;return r.default.async((function(u){for(;;)switch(u.prev=u.next){case 0:return a={},i(s=s||{}).to(a),a.headers={"Content-Length":o.size},a.subres={partNumber:n,uploadId:e},(c=this._objectRequestParams("PUT",t,a)).mime=a.mime,c.stream=o.stream,c.successStatuses=[200],u.next=11,r.default.awrap(this.request(c));case 11:return l=u.sent,o.stream=null,c.stream=null,u.abrupt("return",{name:t,etag:l.res.headers.etag,res:l.res});case 15:case"end":return u.stop()}}),null,this)}},{"./callback":6,"babel-runtime/regenerator":32,"copy-to":40}],8:[function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}var i=r(t("babel-runtime/regenerator")),o=r(t("babel-runtime/core-js/promise")),s=n;s._parallelNode=function(t,e,n,r){var s,a,c,l,u,h,d,p;return i.default.async((function(f){for(;;)switch(f.prev=f.next){case 0:s=this,a=[],c=[],l=t.length/e,u=t.length%e,h=0===u?l:(t.length-u)/e+1,d=1,p=0;case 8:if(!(p<t.length)){f.next=26;break}if(!s.isCancel()){f.next=11;break}return f.abrupt("break",26);case 11:if(r?c.push(n(s,t[p],r)):c.push(n(s,t[p])),c.length!==e&&(d!==h||p!==t.length-1)){f.next=23;break}return f.prev=13,d+=1,f.next=17,i.default.awrap(o.default.all(c));case 17:f.next=22;break;case 19:f.prev=19,f.t0=f.catch(13),a.push(f.t0);case 22:c=[];case 23:p++,f.next=8;break;case 26:return f.abrupt("return",a);case 27:case"end":return f.stop()}}),null,this,[[13,19]])},s._parallel=function(t,e,n){var r=this;return new o.default((function(i){function o(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null;for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}function s(t,e){d-=1,t?(h=!0,l.push(t),i(l)):e==={}||h&&d<=0?(h=!0,i(l)):p||(r.isCancel()?i(l):c())}function a(t,e){n(t).then((function(t){e(null,t)})).catch((function(t){e(t)}))}function c(){for(p=!0;d<e&&!h&&!r.isCancel();){var t=u();if(null===t||l.length>0)return h=!0,void(d<=0&&i(l));d+=1,a(t.value,o(s))}p=!1}var l=[];if(e<=0||!t)i(l);else{var u=function(t){var e=-1,n=t.length;return function(){return++e<n&&!r.isCancel()?{value:t[e],key:e}:null}}(t),h=!1,d=0,p=!1;c()}}))},s.cancel=function(t){this.options.cancelFlag=!0,t&&this.abortMultipartUpload(t.name,t.uploadId,t.options)},s.isCancel=function(){return this.options.cancelFlag},s.resetCancelFlag=function(){this.options.cancelFlag=!1},s._stop=function(){this.options.cancelFlag=!0},s._makeCancelEvent=function(){return{status:0,name:"cancel"}}},{"babel-runtime/core-js/promise":23,"babel-runtime/regenerator":32}],9:[function(t,e,n){(function(e){function r(t){return t&&t.__esModule?t:{default:t}}var i=r(t("babel-runtime/core-js/json/stringify")),o=r(t("babel-runtime/core-js/object/keys")),s=t("./../../shims/crypto/crypto.js"),a=t("is-type-of");n.buildCanonicalizedResource=function(t,e){var n=""+t,r="?";if(a.string(e)&&""!==e.trim())n+=r+e;else if(a.array(e))e.sort(),n+=r+e.join("&");else if(e){(0,o.default)(e).sort((function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:0})).forEach((function(t){n+=r+t,e[t]&&(n+="="+e[t]),r="&"}))}return n},n.buildCanonicalString=function(t,e,n,r){var i=(n=n||{}).headers||{},s=[],a={},c=[t.toUpperCase(),i["Content-Md5"]||"",i["Content-Type"]||i["Content-Type".toLowerCase()],r||i["x-oss-date"]];return(0,o.default)(i).forEach((function(t){var e=t.toLowerCase();0===e.indexOf("x-oss-")&&(a[e]=String(i[t]).trim())})),(0,o.default)(a).sort().forEach((function(t){s.push(t+":"+a[t])})),(c=c.concat(s)).push(this.buildCanonicalizedResource(e,n.parameters)),c.join("\n")},n.computeSignature=function(t,n){return s.createHmac("sha1",t).update(new e(n,"utf8")).digest("base64")},n.authorization=function(t,e,n){return"OSS "+t+":"+this.computeSignature(e,n)},n._signatureForURL=function(t,n,r,s){var a={},c={};if(n.process&&(c["x-oss-process"]=n.process),n.response&&(0,o.default)(n.response).forEach((function(t){var e="response-"+t.toLowerCase();c[e]=n.response[t]})),(0,o.default)(n).forEach((function(t){var e=t.toLowerCase(),r=n[t];0===e.indexOf("x-oss-")?a[e]=r:0===e.indexOf("content-md5")?a[t]=r:0===e.indexOf("content-type")?a[t]=r:"expires"!==e&&"response"!==e&&"process"!==e&&"method"!==e&&(c[e]=r)})),Object.prototype.hasOwnProperty.call(n,"security-token")&&(c["security-token"]=n["security-token"]),Object.prototype.hasOwnProperty.call(n,"callback")){var l={callbackUrl:encodeURI(n.callback.url),callbackBody:n.callback.body};if(n.callback.host&&(l.callbackHost=n.callback.host),n.callback.contentType&&(l.callbackBodyType=n.callback.contentType),c.callback=new e((0,i.default)(l)).toString("base64"),n.callback.customValue){var u={};(0,o.default)(n.callback.customValue).forEach((function(t){u["x:"+t]=n.callback.customValue[t]})),c["callback-var"]=new e((0,i.default)(u)).toString("base64")}}var h=this.buildCanonicalString(n.method,r,{headers:a,parameters:c},s.toString());return{Signature:this.computeSignature(t,h),subResource:c}}}).call(this,t("buffer").Buffer)},{"./../../shims/crypto/crypto.js":235,"babel-runtime/core-js/json/stringify":16,"babel-runtime/core-js/object/keys":22,buffer:37,"is-type-of":163}],10:[function(t,e,n){n._isIP=function(t){return/^(25[0-5]|2[0-4]\d|[0-1]?\d?\d)(\.(25[0-5]|2[0-4]\d|[0-1]?\d?\d)){3}$/.test(t)||/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(t)}},{}],11:[function(t,e,n){function r(){}e.exports=r,e.exports.HttpsAgent=r},{}],12:[function(t,e,n){e.exports=t("./register")().Promise},{"./register":14}],13:[function(t,e,n){var r=null;e.exports=function(t,e){return function(n,i){n=n||null;var o=!1!==(i=i||{}).global;if(null===r&&o&&(r=t["@@any-promise/REGISTRATION"]||null),null!==r&&null!==n&&r.implementation!==n)throw new Error('any-promise already defined as "'+r.implementation+'".  You can only register an implementation before the first  call to require("any-promise") and an implementation cannot be changed');return null===r&&(r=null!==n&&void 0!==i.Promise?{Promise:i.Promise,implementation:n}:e(n),o&&(t["@@any-promise/REGISTRATION"]=r)),r}}},{}],14:[function(t,e,n){e.exports=t("./loader")(window,(function(){if(void 0===window.Promise)throw new Error("any-promise browser requires a polyfill or explicit registration e.g: require('any-promise/register/bluebird')");return{Promise:window.Promise,implementation:"window.Promise"}}))},{"./loader":13}],15:[function(t,e,n){e.exports={default:t("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":41}],16:[function(t,e,n){e.exports={default:t("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":42}],17:[function(t,e,n){e.exports={default:t("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":43}],18:[function(t,e,n){e.exports={default:t("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":44}],19:[function(t,e,n){e.exports={default:t("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":45}],20:[function(t,e,n){e.exports={default:t("core-js/library/fn/object/get-own-property-names"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-names":46}],21:[function(t,e,n){e.exports={default:t("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":47}],22:[function(t,e,n){e.exports={default:t("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":48}],23:[function(t,e,n){e.exports={default:t("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":49}],24:[function(t,e,n){e.exports={default:t("core-js/library/fn/set-immediate"),__esModule:!0}},{"core-js/library/fn/set-immediate":50}],25:[function(t,e,n){e.exports={default:t("core-js/library/fn/string/from-code-point"),__esModule:!0}},{"core-js/library/fn/string/from-code-point":51}],26:[function(t,e,n){e.exports={default:t("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":53}],27:[function(t,e,n){e.exports={default:t("core-js/library/fn/symbol/has-instance"),__esModule:!0}},{"core-js/library/fn/symbol/has-instance":52}],28:[function(t,e,n){e.exports={default:t("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":54}],29:[function(t,e,n){n.__esModule=!0,n.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},{}],30:[function(t,e,n){n.__esModule=!0;var r=function(t){return t&&t.__esModule?t:{default:t}}(t("../core-js/object/define-property"));n.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(t,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},{"../core-js/object/define-property":19}],31:[function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../core-js/symbol/iterator")),o=r(t("../core-js/symbol")),a="function"==typeof o.default&&"symbol"==s(i.default)?function(t){return void 0===t?"undefined":s(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":s(t)};n.default="function"==typeof o.default&&"symbol"===a(i.default)?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":a(t)}},{"../core-js/symbol":26,"../core-js/symbol/iterator":28}],32:[function(t,e,n){e.exports=t("regenerator-runtime")},{"regenerator-runtime":189}],33:[function(t,e,n){function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function i(t){return s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}function o(t,e,n){for(var r,o=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(i(r));return o.join("")}n.byteLength=function(t){var e=r(t),n=e[0],i=e[1];return 3*(n+i)/4-i},n.toByteArray=function(t){for(var e,n=r(t),i=n[0],o=n[1],s=new c(function(t,e,n){return 3*(e+n)/4-n}(0,i,o)),l=0,u=o>0?i-4:i,h=0;h<u;h+=4)e=a[t.charCodeAt(h)]<<18|a[t.charCodeAt(h+1)]<<12|a[t.charCodeAt(h+2)]<<6|a[t.charCodeAt(h+3)],s[l++]=e>>16&255,s[l++]=e>>8&255,s[l++]=255&e;return 2===o&&(e=a[t.charCodeAt(h)]<<2|a[t.charCodeAt(h+1)]>>4,s[l++]=255&e),1===o&&(e=a[t.charCodeAt(h)]<<10|a[t.charCodeAt(h+1)]<<4|a[t.charCodeAt(h+2)]>>2,s[l++]=e>>8&255,s[l++]=255&e),s},n.fromByteArray=function(t){for(var e,n=t.length,r=n%3,i=[],a=0,c=n-r;a<c;a+=16383)i.push(o(t,a,a+16383>c?c:a+16383));return 1===r?(e=t[n-1],i.push(s[e>>2]+s[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],i.push(s[e>>10]+s[e>>4&63]+s[e<<2&63]+"=")),i.join("")};for(var s=[],a=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,h=l.length;u<h;++u)s[u]=l[u],a[l.charCodeAt(u)]=u;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},{}],34:[function(t,e,n){!function(t,n,r){void 0!==e&&e.exports?e.exports=r():t.bowser=r()}(this,0,(function(){function t(t){function e(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function n(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var i,s=e(/(ipod|iphone|ipad)/i).toLowerCase(),a=!/like android/i.test(t)&&/android/i.test(t),c=/nexus\s*[0-6]\s*/i.test(t),l=!c&&/nexus\s*[0-9]+/i.test(t),u=/CrOS/.test(t),h=/silk/i.test(t),d=/sailfish/i.test(t),p=/tizen/i.test(t),f=/(web|hpw)(o|0)s/i.test(t),g=/windows phone/i.test(t),m=(/SamsungBrowser/i.test(t),!g&&/windows/i.test(t)),v=!s&&!h&&/macintosh/i.test(t),y=!a&&!d&&!p&&!f&&/linux/i.test(t),b=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),w=e(/version\/(\d+(\.\d+)?)/i),_=/tablet/i.test(t)&&!/tablet pc/i.test(t),x=!_&&/[^-]mobi/i.test(t),O=/xbox/i.test(t);/opera/i.test(t)?i={name:"Opera",opera:o,version:w||e(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?i={name:"Opera",opera:o,version:e(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||w}:/SamsungBrowser/i.test(t)?i={name:"Samsung Internet for Android",samsungBrowser:o,version:w||e(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(t)?i={name:"NAVER Whale browser",whale:o,version:e(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(t)?i={name:"MZ Browser",mzbrowser:o,version:e(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(t)?i={name:"Opera Coast",coast:o,version:w||e(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(t)?i={name:"Focus",focus:o,version:e(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(t)?i={name:"Yandex Browser",yandexbrowser:o,version:w||e(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?i={name:"UC Browser",ucbrowser:o,version:e(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?i={name:"Maxthon",maxthon:o,version:e(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?i={name:"Epiphany",epiphany:o,version:e(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?i={name:"Puffin",puffin:o,version:e(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?i={name:"Sleipnir",sleipnir:o,version:e(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?i={name:"K-Meleon",kMeleon:o,version:e(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:g?(i={name:"Windows Phone",osname:"Windows Phone",windowsphone:o},b?(i.msedge=o,i.version=b):(i.msie=o,i.version=e(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?i={name:"Internet Explorer",msie:o,version:e(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:u?i={name:"Chrome",osname:"Chrome OS",chromeos:o,chromeBook:o,chrome:o,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?i={name:"Microsoft Edge",msedge:o,version:b}:/vivaldi/i.test(t)?i={name:"Vivaldi",vivaldi:o,version:e(/vivaldi\/(\d+(\.\d+)?)/i)||w}:d?i={name:"Sailfish",osname:"Sailfish OS",sailfish:o,version:e(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?i={name:"SeaMonkey",seamonkey:o,version:e(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(i={name:"Firefox",firefox:o,version:e(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(i.firefoxos=o,i.osname="Firefox OS")):h?i={name:"Amazon Silk",silk:o,version:e(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?i={name:"PhantomJS",phantom:o,version:e(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?i={name:"SlimerJS",slimer:o,version:e(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?i={name:"BlackBerry",osname:"BlackBerry OS",blackberry:o,version:w||e(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:f?(i={name:"WebOS",osname:"WebOS",webos:o,version:w||e(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(i.touchpad=o)):/bada/i.test(t)?i={name:"Bada",osname:"Bada",bada:o,version:e(/dolfin\/(\d+(\.\d+)?)/i)}:p?i={name:"Tizen",osname:"Tizen",tizen:o,version:e(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||w}:/qupzilla/i.test(t)?i={name:"QupZilla",qupzilla:o,version:e(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||w}:/chromium/i.test(t)?i={name:"Chromium",chromium:o,version:e(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||w}:/chrome|crios|crmo/i.test(t)?i={name:"Chrome",chrome:o,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:a?i={name:"Android",version:w}:/safari|applewebkit/i.test(t)?(i={name:"Safari",safari:o},w&&(i.version=w)):s?(i={name:"iphone"==s?"iPhone":"ipad"==s?"iPad":"iPod"},w&&(i.version=w)):i=/googlebot/i.test(t)?{name:"Googlebot",googlebot:o,version:e(/googlebot\/(\d+(\.\d+))/i)||w}:{name:e(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(i.name=i.name||"Blink",i.blink=o):(i.name=i.name||"Webkit",i.webkit=o),!i.version&&w&&(i.version=w)):!i.opera&&/gecko\//i.test(t)&&(i.name=i.name||"Gecko",i.gecko=o,i.version=i.version||e(/gecko\/(\d+(\.\d+)?)/i)),i.windowsphone||!a&&!i.silk?!i.windowsphone&&s?(i[s]=o,i.ios=o,i.osname="iOS"):v?(i.mac=o,i.osname="macOS"):O?(i.xbox=o,i.osname="Xbox"):m?(i.windows=o,i.osname="Windows"):y&&(i.linux=o,i.osname="Linux"):(i.android=o,i.osname="Android");var S="";i.windows?S=function(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(e(/Windows ((NT|XP)( \d\d?.\d)?)/i)):i.windowsphone?S=e(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?S=(S=e(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):s?S=(S=e(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):a?S=e(/android[ \/-](\d+(\.\d+)*)/i):i.webos?S=e(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?S=e(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?S=e(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(S=e(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(i.osversion=S);var j=!i.windows&&S.split(".")[0];return _||l||"ipad"==s||a&&(3==j||j>=4&&!x)||i.silk?i.tablet=o:(x||"iphone"==s||"ipod"==s||a||c||i.blackberry||i.webos||i.bada)&&(i.mobile=o),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.whale&&1===r([i.version,"1.0"])||i.mzbrowser&&1===r([i.version,"6.0"])||i.focus&&1===r([i.version,"1.0"])||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=o:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=o:i.x=o,i}function e(t){return t.split(".").length}function n(t,e){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n++)r.push(e(t[n]));return r}function r(t){for(var r=Math.max(e(t[0]),e(t[1])),i=n(t,(function(t){var i=r-e(t);return n((t+=new Array(i+1).join(".0")).split("."),(function(t){return new Array(20-t.length).join("0")+t})).reverse()}));--r>=0;){if(i[0][r]>i[1][r])return 1;if(i[0][r]!==i[1][r])return-1;if(0===r)return 0}}function i(e,n,i){var o=s;"string"==typeof n&&(i=n,n=void 0),void 0===n&&(n=!1),i&&(o=t(i));var a=""+o.version;for(var c in e)if(e.hasOwnProperty(c)&&o[c]){if("string"!=typeof e[c])throw new Error("Browser version in the minVersion map should be a string: "+c+": "+String(e));return r([a,e[c]])<0}return n}var o=!0,s=t("undefined"!=typeof navigator&&navigator.userAgent||"");return s.test=function(t){for(var e=0;e<t.length;++e){var n=t[e];if("string"==typeof n&&n in s)return!0}return!1},s.isUnsupportedBrowser=i,s.compareVersions=r,s.check=function(t,e,n){return!i(t,e,n)},s._detect=t,s.detect=t,s}))},{}],35:[function(t,e,n){},{}],36:[function(t,e,n){function r(t){return t.toString(this.encoding)}function i(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function o(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var s=t("buffer").Buffer,a=s.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=n.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),function(t){if(t&&!a(t))throw new Error("Unknown encoding: "+t)}(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=i;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=o;break;default:return void(this.write=r)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(t=t.slice(n,t.length),!((i=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var r=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived);var i;r=(e+=t.toString(this.encoding,0,r)).length-1;if((i=e.charCodeAt(r))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,r)}return e},c.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},c.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e}},{buffer:37}],37:[function(t,e,r){(function(e,n){function i(){return n.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return n.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=n.prototype:(null===t&&(t=new n(e)),t.length=e),t}function n(t,e,r){if(!(n.TYPED_ARRAY_SUPPORT||this instanceof n))return new n(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,e,r)}function s(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?h(t,e,n,r):"string"==typeof e?l(t,e,n):d(t,e)}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(a(e),t=o(t,e<0?0:0|p(e)),!n.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function l(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!n.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|f(e,r),s=(t=o(t,i)).write(e,r);return s!==i&&(t=t.slice(0,s)),t}function u(t,e){var n=e.length<0?0:0|p(e.length);t=o(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t,e,r,i){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,r):new Uint8Array(e,r,i),n.TYPED_ARRAY_SUPPORT?(t=e).__proto__=n.prototype:t=u(t,e),t}function d(t,e){if(n.isBuffer(e)){var r=0|p(e.length);return 0===(t=o(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?o(t,0):u(t,e);if("Buffer"===e.type&&G(e.data))return u(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function f(t,e){if(n.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(t).length;default:if(i)return B(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,n);case"utf8":case"utf-8":return E(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return j(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,r,i,o){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=n.from(e,i)),n.isBuffer(e))return 0===e.length?-1:y(t,e,r,i,o);if("number"==typeof e)return e&=255,n.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,i,o);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var s,a=1,c=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,c/=2,l/=2,n/=2}if(i){var u=-1;for(s=n;s<c;s++)if(o(t,s)===o(e,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===l)return u*a}else-1!==u&&(s-=s-u),u=-1}else for(n+l>c&&(n=c-l),s=n;s>=0;s--){for(var h=!0,d=0;d<l;d++)if(o(t,s+d)!==o(e,d)){h=!1;break}if(h)return s}return-1}function b(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function w(t,e,n,r){return z(B(e,t.length-n),t,n,r)}function _(t,e,n,r){return z(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return _(t,e,n,r)}function O(t,e,n,r){return z(U(e),t,n,r)}function S(t,e,n,r){return z(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function j(t,e,n){return 0===e&&n===t.length?X.fromByteArray(t):X.fromByteArray(t.slice(e,n))}function E(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,c,l=t[i],u=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(o=t[i+1]))&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(c=(15&l)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(u=c)}null===u?(u=65533,h=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=h}return function(t){var e=t.length;if(e<=V)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=V));return n}(r)}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function C(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=F(t[o]);return i}function A(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function k(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,r,i,o,s){if(!n.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<s)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function I(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function R(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,r,i){return i||R(t,0,n,4),Y.write(t,e,n,r,23,4),n+4}function N(t,e,n,r,i){return i||R(t,0,n,8),Y.write(t,e,n,r,52,8),n+8}function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function B(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(t){return X.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}var X=t("base64-js"),Y=t("ieee754"),G=t("isarray");r.Buffer=n,r.SlowBuffer=function(t){return+t!=t&&(t=0),n.alloc(+t)},r.INSPECT_MAX_BYTES=50,n.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),r.kMaxLength=i(),n.poolSize=8192,n._augment=function(t){return t.__proto__=n.prototype,t},n.from=function(t,e,n){return s(null,t,e,n)},n.TYPED_ARRAY_SUPPORT&&(n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0})),n.alloc=function(t,e,n){return function(t,e,n,r){return a(e),e<=0?o(t,e):void 0!==n?"string"==typeof r?o(t,e).fill(n,r):o(t,e).fill(n):o(t,e)}(null,t,e,n)},n.allocUnsafe=function(t){return c(null,t)},n.allocUnsafeSlow=function(t){return c(null,t)},n.isBuffer=function(t){return!(null==t||!t._isBuffer)},n.compare=function(t,e){if(!n.isBuffer(t)||!n.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,i=e.length,o=0,s=Math.min(r,i);o<s;++o)if(t[o]!==e[o]){r=t[o],i=e[o];break}return r<i?-1:i<r?1:0},n.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(t,e){if(!G(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return n.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var i=n.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var s=t[r];if(!n.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i},n.byteLength=f,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},n.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},n.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},n.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):g.apply(this,arguments)},n.prototype.equals=function(t){if(!n.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===n.compare(this,t)},n.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},n.prototype.compare=function(t,e,r,i,o){if(!n.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||r>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=r)return 0;if(i>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var s=(o>>>=0)-(i>>>=0),a=(r>>>=0)-(e>>>=0),c=Math.min(s,a),l=this.slice(i,o),u=t.slice(e,r),h=0;h<c;++h)if(l[h]!==u[h]){s=l[h],a=u[h];break}return s<a?-1:a<s?1:0},n.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},n.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},n.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},n.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return x(this,t,e,n);case"base64":return O(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var V=4096;n.prototype.slice=function(t,e){var r,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),n.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=n.prototype;else{var o=e-t;r=new n(o,void 0);for(var s=0;s<o;++s)r[s]=this[s+t]}return r},n.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},n.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},n.prototype.readUInt8=function(t,e){return e||k(t,1,this.length),this[t]},n.prototype.readUInt16LE=function(t,e){return e||k(t,2,this.length),this[t]|this[t+1]<<8},n.prototype.readUInt16BE=function(t,e){return e||k(t,2,this.length),this[t]<<8|this[t+1]},n.prototype.readUInt32LE=function(t,e){return e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},n.prototype.readUInt32BE=function(t,e){return e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},n.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},n.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},n.prototype.readInt8=function(t,e){return e||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},n.prototype.readInt16LE=function(t,e){e||k(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},n.prototype.readInt16BE=function(t,e){e||k(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},n.prototype.readInt32LE=function(t,e){return e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},n.prototype.readInt32BE=function(t,e){return e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},n.prototype.readFloatLE=function(t,e){return e||k(t,4,this.length),Y.read(this,t,!0,23,4)},n.prototype.readFloatBE=function(t,e){return e||k(t,4,this.length),Y.read(this,t,!1,23,4)},n.prototype.readDoubleLE=function(t,e){return e||k(t,8,this.length),Y.read(this,t,!0,52,8)},n.prototype.readDoubleBE=function(t,e){return e||k(t,8,this.length),Y.read(this,t,!1,52,8)},n.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},n.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},n.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,1,255,0),n.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},n.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},n.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},n.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},n.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},n.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},n.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},n.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,1,127,-128),n.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},n.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},n.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},n.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,2147483647,-2147483648),n.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},n.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},n.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},n.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},n.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},n.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},n.prototype.copy=function(t,e,r,i){if(r||(r=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var o,s=i-r;if(this===t&&r<e&&e<i)for(o=s-1;o>=0;--o)t[o+e]=this[o+r];else if(s<1e3||!n.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+s),e);return s},n.prototype.fill=function(t,e,r,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!n.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var s;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(s=e;s<r;++s)this[s]=t;else{var a=n.isBuffer(t)?t:B(new n(t,i).toString()),c=a.length;for(s=0;s<r-e;++s)this[s+e]=a[s%c]}return this};var H=/[^+\/0-9A-Za-z-_]/g}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"base64-js":33,buffer:37,ieee754:159,isarray:164}],38:[function(t,e,n){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],39:[function(t,e,n){e.exports={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGSYS:12,SSL_OP_ALL:2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:0,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:32,SSL_OP_MICROSOFT_SESS_ID_BUG:1,SSL_OP_MSIE_SSLV2_RSA_PADDING:0,SSL_OP_NETSCAPE_CA_DN_BUG:536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG:2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:8,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:16777216,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_SINGLE_DH_USE:1048576,SSL_OP_SINGLE_ECDH_USE:524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:0,SSL_OP_TLS_BLOCK_PADDING_BUG:512,SSL_OP_TLS_D5_BUG:256,SSL_OP_TLS_ROLLBACK_BUG:8388608,ENGINE_METHOD_DSA:2,ENGINE_METHOD_DH:4,ENGINE_METHOD_RAND:8,ENGINE_METHOD_ECDH:16,ENGINE_METHOD_ECDSA:32,ENGINE_METHOD_CIPHERS:64,ENGINE_METHOD_DIGESTS:128,ENGINE_METHOD_STORE:256,ENGINE_METHOD_PKEY_METHS:512,ENGINE_METHOD_PKEY_ASN1_METHS:1024,ENGINE_METHOD_ALL:65535,ENGINE_METHOD_NONE:0,DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_UDP_REUSEADDR:4}},{}],40:[function(t,e,n){function r(t,e){if(!(this instanceof r))return new r(t,e);this.src=t,this._withAccess=e}function i(t,e){return void 0===t[e]&&void 0===t.__lookupGetter__(e)&&void 0===t.__lookupSetter__(e)}var o=Array.prototype.slice;e.exports=r,r.prototype.withAccess=function(t){return this._withAccess=!1!==t,this},r.prototype.pick=function(t){return Array.isArray(t)||(t=o.call(arguments)),t.length&&(this.keys=t),this},r.prototype.to=function(t){if(t=t||{},!this.src)return t;var e=this.keys||Object.keys(this.src);if(!this._withAccess){for(var n=0;n<e.length;n++)void 0===t[r=e[n]]&&(t[r]=this.src[r]);return t}for(n=0;n<e.length;n++){var r=e[n];if(i(t,r)){var o=this.src.__lookupGetter__(r),s=this.src.__lookupSetter__(r);o&&t.__defineGetter__(r,o),s&&t.__defineSetter__(r,s),o||s||(t[r]=this.src[r])}}return t},r.prototype.toCover=function(t){for(var e=this.keys||Object.keys(this.src),n=0;n<e.length;n++){var r=e[n];delete t[r];var i=this.src.__lookupGetter__(r),o=this.src.__lookupSetter__(r);i&&t.__defineGetter__(r,i),o&&t.__defineSetter__(r,o),i||o||(t[r]=this.src[r])}},r.prototype.override=r.prototype.toCover,r.prototype.and=function(t){var e={};return this.to(e),this.src=t,this.to(e),this.src=e,this}},{}],41:[function(t,e,n){t("../../modules/es6.string.iterator"),t("../../modules/es6.array.from"),e.exports=t("../../modules/_core").Array.from},{"../../modules/_core":62,"../../modules/es6.array.from":130,"../../modules/es6.string.iterator":142}],42:[function(t,e,n){var r=t("../../modules/_core"),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(t){return i.stringify.apply(i,arguments)}},{"../../modules/_core":62}],43:[function(t,e,n){t("../../modules/es6.object.assign"),e.exports=t("../../modules/_core").Object.assign},{"../../modules/_core":62,"../../modules/es6.object.assign":133}],44:[function(t,e,n){t("../../modules/es6.object.create");var r=t("../../modules/_core").Object;e.exports=function(t,e){return r.create(t,e)}},{"../../modules/_core":62,"../../modules/es6.object.create":134}],45:[function(t,e,n){t("../../modules/es6.object.define-property");var r=t("../../modules/_core").Object;e.exports=function(t,e,n){return r.defineProperty(t,e,n)}},{"../../modules/_core":62,"../../modules/es6.object.define-property":135}],46:[function(t,e,n){t("../../modules/es6.object.get-own-property-names");var r=t("../../modules/_core").Object;e.exports=function(t){return r.getOwnPropertyNames(t)}},{"../../modules/_core":62,"../../modules/es6.object.get-own-property-names":136}],47:[function(t,e,n){t("../../modules/es6.object.get-prototype-of"),e.exports=t("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":62,"../../modules/es6.object.get-prototype-of":137}],48:[function(t,e,n){t("../../modules/es6.object.keys"),e.exports=t("../../modules/_core").Object.keys},{"../../modules/_core":62,"../../modules/es6.object.keys":138}],49:[function(t,e,n){t("../modules/es6.object.to-string"),t("../modules/es6.string.iterator"),t("../modules/web.dom.iterable"),t("../modules/es6.promise"),t("../modules/es7.promise.finally"),t("../modules/es7.promise.try"),e.exports=t("../modules/_core").Promise},{"../modules/_core":62,"../modules/es6.object.to-string":139,"../modules/es6.promise":140,"../modules/es6.string.iterator":142,"../modules/es7.promise.finally":144,"../modules/es7.promise.try":145,"../modules/web.dom.iterable":148}],50:[function(t,e,n){t("../modules/web.immediate"),e.exports=t("../modules/_core").setImmediate},{"../modules/_core":62,"../modules/web.immediate":149}],51:[function(t,e,n){t("../../modules/es6.string.from-code-point"),e.exports=t("../../modules/_core").String.fromCodePoint},{"../../modules/_core":62,"../../modules/es6.string.from-code-point":141}],52:[function(t,e,n){t("../../modules/es6.function.has-instance"),e.exports=t("../../modules/_wks-ext").f("hasInstance")},{"../../modules/_wks-ext":127,"../../modules/es6.function.has-instance":132}],53:[function(t,e,n){t("../../modules/es6.symbol"),t("../../modules/es6.object.to-string"),t("../../modules/es7.symbol.async-iterator"),t("../../modules/es7.symbol.observable"),e.exports=t("../../modules/_core").Symbol},{"../../modules/_core":62,"../../modules/es6.object.to-string":139,"../../modules/es6.symbol":143,"../../modules/es7.symbol.async-iterator":146,"../../modules/es7.symbol.observable":147}],54:[function(t,e,n){t("../../modules/es6.string.iterator"),t("../../modules/web.dom.iterable"),e.exports=t("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":127,"../../modules/es6.string.iterator":142,"../../modules/web.dom.iterable":148}],55:[function(t,e,n){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],56:[function(t,e,n){e.exports=function(){}},{}],57:[function(t,e,n){e.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},{}],58:[function(t,e,n){var r=t("./_is-object");e.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":82}],59:[function(t,e,n){var r=t("./_to-iobject"),i=t("./_to-length"),o=t("./_to-absolute-index");e.exports=function(t){return function(e,n,s){var a,c=r(e),l=i(c.length),u=o(s,l);if(t&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}}},{"./_to-absolute-index":118,"./_to-iobject":120,"./_to-length":121}],60:[function(t,e,n){var r=t("./_cof"),i=t("./_wks")("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},{"./_cof":61,"./_wks":128}],61:[function(t,e,n){var r={}.toString;e.exports=function(t){return r.call(t).slice(8,-1)}},{}],62:[function(t,e,n){var r=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=r)},{}],63:[function(t,e,n){var r=t("./_object-dp"),i=t("./_property-desc");e.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},{"./_object-dp":95,"./_property-desc":108}],64:[function(t,e,n){var r=t("./_a-function");e.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},{"./_a-function":55}],65:[function(t,e,n){e.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},{}],66:[function(t,e,n){e.exports=!t("./_fails")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},{"./_fails":71}],67:[function(t,e,n){var r=t("./_is-object"),i=t("./_global").document,o=r(i)&&r(i.createElement);e.exports=function(t){return o?i.createElement(t):{}}},{"./_global":73,"./_is-object":82}],68:[function(t,e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],69:[function(t,e,n){var r=t("./_object-keys"),i=t("./_object-gops"),o=t("./_object-pie");e.exports=function(t){var e=r(t),n=i.f;if(n)for(var s,a=n(t),c=o.f,l=0;a.length>l;)c.call(t,s=a[l++])&&e.push(s);return e}},{"./_object-gops":100,"./_object-keys":103,"./_object-pie":104}],70:[function(t,e,n){var r=t("./_global"),i=t("./_core"),o=t("./_ctx"),s=t("./_hide"),a=t("./_has"),c=function t(e,n,c){var l,u,h,d=e&t.F,p=e&t.G,f=e&t.S,g=e&t.P,m=e&t.B,v=e&t.W,y=p?i:i[n]||(i[n]={}),b=y.prototype,w=p?r:f?r[n]:(r[n]||{}).prototype;for(l in p&&(c=n),c)(u=!d&&w&&void 0!==w[l])&&a(y,l)||(h=u?w[l]:c[l],y[l]=p&&"function"!=typeof w[l]?c[l]:m&&u?o(h,r):v&&w[l]==h?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):g&&"function"==typeof h?o(Function.call,h):h,g&&((y.virtual||(y.virtual={}))[l]=h,e&t.R&&b&&!b[l]&&s(b,l,h)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},{"./_core":62,"./_ctx":64,"./_global":73,"./_has":74,"./_hide":75}],71:[function(t,e,n){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],72:[function(t,e,n){var r=t("./_ctx"),i=t("./_iter-call"),o=t("./_is-array-iter"),s=t("./_an-object"),a=t("./_to-length"),c=t("./core.get-iterator-method"),l={},u={};(n=e.exports=function(t,e,n,h,d){var p,f,g,m,v=d?function(){return t}:c(t),y=r(n,h,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(p=a(t.length);p>b;b++)if((m=e?y(s(f=t[b])[0],f[1]):y(t[b]))===l||m===u)return m}else for(g=v.call(t);!(f=g.next()).done;)if((m=i(g,y,f.value,e))===l||m===u)return m}).BREAK=l,n.RETURN=u},{"./_an-object":58,"./_ctx":64,"./_is-array-iter":80,"./_iter-call":83,"./_to-length":121,"./core.get-iterator-method":129}],73:[function(t,e,n){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],74:[function(t,e,n){var r={}.hasOwnProperty;e.exports=function(t,e){return r.call(t,e)}},{}],75:[function(t,e,n){var r=t("./_object-dp"),i=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},{"./_descriptors":66,"./_object-dp":95,"./_property-desc":108}],76:[function(t,e,n){var r=t("./_global").document;e.exports=r&&r.documentElement},{"./_global":73}],77:[function(t,e,n){e.exports=!t("./_descriptors")&&!t("./_fails")((function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a}))},{"./_descriptors":66,"./_dom-create":67,"./_fails":71}],78:[function(t,e,n){e.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},{}],79:[function(t,e,n){var r=t("./_cof");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},{"./_cof":61}],80:[function(t,e,n){var r=t("./_iterators"),i=t("./_wks")("iterator"),o=Array.prototype;e.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},{"./_iterators":88,"./_wks":128}],81:[function(t,e,n){var r=t("./_cof");e.exports=Array.isArray||function(t){return"Array"==r(t)}},{"./_cof":61}],82:[function(t,e,n){e.exports=function(t){return"object"==(void 0===t?"undefined":s(t))?null!==t:"function"==typeof t}},{}],83:[function(t,e,n){var r=t("./_an-object");e.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},{"./_an-object":58}],84:[function(t,e,n){var r=t("./_object-create"),i=t("./_property-desc"),o=t("./_set-to-string-tag"),s={};t("./_hide")(s,t("./_wks")("iterator"),(function(){return this})),e.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},{"./_hide":75,"./_object-create":94,"./_property-desc":108,"./_set-to-string-tag":112,"./_wks":128}],85:[function(t,e,n){var r=t("./_library"),i=t("./_export"),o=t("./_redefine"),s=t("./_hide"),a=t("./_iterators"),c=t("./_iter-create"),l=t("./_set-to-string-tag"),u=t("./_object-gpo"),h=t("./_wks")("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(t,e,n,f,g,m,v){c(n,e,f);var y,b,w,_=function(t){if(!d&&t in j)return j[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",O="values"==g,S=!1,j=t.prototype,E=j[h]||j["@@iterator"]||g&&j[g],T=E||_(g),P=g?O?_("entries"):T:void 0,C="Array"==e&&j.entries||E;if(C&&(w=u(C.call(new t)))!==Object.prototype&&w.next&&(l(w,x,!0),r||"function"==typeof w[h]||s(w,h,p)),O&&E&&"values"!==E.name&&(S=!0,T=function(){return E.call(this)}),r&&!v||!d&&!S&&j[h]||s(j,h,T),a[e]=T,a[x]=p,g)if(y={values:O?T:_("values"),keys:m?T:_("keys"),entries:P},v)for(b in y)b in j||o(j,b,y[b]);else i(i.P+i.F*(d||S),e,y);return y}},{"./_export":70,"./_hide":75,"./_iter-create":84,"./_iterators":88,"./_library":89,"./_object-gpo":101,"./_redefine":110,"./_set-to-string-tag":112,"./_wks":128}],86:[function(t,e,n){var r=t("./_wks")("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}e.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(t){}return n}},{"./_wks":128}],87:[function(t,e,n){e.exports=function(t,e){return{value:e,done:!!t}}},{}],88:[function(t,e,n){e.exports={}},{}],89:[function(t,e,n){e.exports=!0},{}],90:[function(t,e,n){var r=t("./_uid")("meta"),i=t("./_is-object"),o=t("./_has"),a=t("./_object-dp").f,c=0,l=Object.isExtensible||function(){return!0},u=!t("./_fails")((function(){return l(Object.preventExtensions({}))})),h=function(t){a(t,r,{value:{i:"O"+ ++c,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==(void 0===t?"undefined":s(t))?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!l(t))return"F";if(!e)return"E";h(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!l(t))return!0;if(!e)return!1;h(t)}return t[r].w},onFreeze:function(t){return u&&d.NEED&&l(t)&&!o(t,r)&&h(t),t}}},{"./_fails":71,"./_has":74,"./_is-object":82,"./_object-dp":95,"./_uid":124}],91:[function(t,e,n){var r=t("./_global"),i=t("./_task").set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,c="process"==t("./_cof")(s);e.exports=function(){var t,e,n,l=function(){var r,i;for(c&&(r=s.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var u=a.resolve(void 0);n=function(){u.then(l)}}else n=function(){i.call(r,l)};else{var h=!0,d=document.createTextNode("");new o(l).observe(d,{characterData:!0}),n=function(){d.data=h=!h}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},{"./_cof":61,"./_global":73,"./_task":117}],92:[function(t,e,n){function r(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=i(e),this.reject=i(n)}var i=t("./_a-function");e.exports.f=function(t){return new r(t)}},{"./_a-function":55}],93:[function(t,e,n){var r=t("./_object-keys"),i=t("./_object-gops"),o=t("./_object-pie"),s=t("./_to-object"),a=t("./_iobject"),c=Object.assign;e.exports=!c||t("./_fails")((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r}))?function(t,e){for(var n=s(t),c=arguments.length,l=1,u=i.f,h=o.f;c>l;)for(var d,p=a(arguments[l++]),f=u?r(p).concat(u(p)):r(p),g=f.length,m=0;g>m;)h.call(p,d=f[m++])&&(n[d]=p[d]);return n}:c},{"./_fails":71,"./_iobject":79,"./_object-gops":100,"./_object-keys":103,"./_object-pie":104,"./_to-object":122}],94:[function(t,e,n){var r=t("./_an-object"),i=t("./_object-dps"),o=t("./_enum-bug-keys"),s=t("./_shared-key")("IE_PROTO"),a=function(){},c=function(){var e,n=t("./_dom-create")("iframe"),r=o.length;for(n.style.display="none",t("./_html").appendChild(n),n.src="javascript:",(e=n.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[o[r]];return c()};e.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[s]=t):n=c(),void 0===e?n:i(n,e)}},{"./_an-object":58,"./_dom-create":67,"./_enum-bug-keys":68,"./_html":76,"./_object-dps":96,"./_shared-key":113}],95:[function(t,e,n){var r=t("./_an-object"),i=t("./_ie8-dom-define"),o=t("./_to-primitive"),s=Object.defineProperty;n.f=t("./_descriptors")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},{"./_an-object":58,"./_descriptors":66,"./_ie8-dom-define":77,"./_to-primitive":123}],96:[function(t,e,n){var r=t("./_object-dp"),i=t("./_an-object"),o=t("./_object-keys");e.exports=t("./_descriptors")?Object.defineProperties:function(t,e){i(t);for(var n,s=o(e),a=s.length,c=0;a>c;)r.f(t,n=s[c++],e[n]);return t}},{"./_an-object":58,"./_descriptors":66,"./_object-dp":95,"./_object-keys":103}],97:[function(t,e,n){var r=t("./_object-pie"),i=t("./_property-desc"),o=t("./_to-iobject"),s=t("./_to-primitive"),a=t("./_has"),c=t("./_ie8-dom-define"),l=Object.getOwnPropertyDescriptor;n.f=t("./_descriptors")?l:function(t,e){if(t=o(t),e=s(e,!0),c)try{return l(t,e)}catch(t){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},{"./_descriptors":66,"./_has":74,"./_ie8-dom-define":77,"./_object-pie":104,"./_property-desc":108,"./_to-iobject":120,"./_to-primitive":123}],98:[function(t,e,n){var r=t("./_to-iobject"),i=t("./_object-gopn").f,o={}.toString,a="object"==("undefined"==typeof window?"undefined":s(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},{"./_object-gopn":99,"./_to-iobject":120}],99:[function(t,e,n){var r=t("./_object-keys-internal"),i=t("./_enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},{"./_enum-bug-keys":68,"./_object-keys-internal":102}],100:[function(t,e,n){n.f=Object.getOwnPropertySymbols},{}],101:[function(t,e,n){var r=t("./_has"),i=t("./_to-object"),o=t("./_shared-key")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},{"./_has":74,"./_shared-key":113,"./_to-object":122}],102:[function(t,e,n){var r=t("./_has"),i=t("./_to-iobject"),o=t("./_array-includes")(!1),s=t("./_shared-key")("IE_PROTO");e.exports=function(t,e){var n,a=i(t),c=0,l=[];for(n in a)n!=s&&r(a,n)&&l.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~o(l,n)||l.push(n));return l}},{"./_array-includes":59,"./_has":74,"./_shared-key":113,"./_to-iobject":120}],103:[function(t,e,n){var r=t("./_object-keys-internal"),i=t("./_enum-bug-keys");e.exports=Object.keys||function(t){return r(t,i)}},{"./_enum-bug-keys":68,"./_object-keys-internal":102}],104:[function(t,e,n){n.f={}.propertyIsEnumerable},{}],105:[function(t,e,n){var r=t("./_export"),i=t("./_core"),o=t("./_fails");e.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}},{"./_core":62,"./_export":70,"./_fails":71}],106:[function(t,e,n){e.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},{}],107:[function(t,e,n){var r=t("./_an-object"),i=t("./_is-object"),o=t("./_new-promise-capability");e.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},{"./_an-object":58,"./_is-object":82,"./_new-promise-capability":92}],108:[function(t,e,n){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],109:[function(t,e,n){var r=t("./_hide");e.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},{"./_hide":75}],110:[function(t,e,n){e.exports=t("./_hide")},{"./_hide":75}],111:[function(t,e,n){var r=t("./_global"),i=t("./_core"),o=t("./_object-dp"),s=t("./_descriptors"),a=t("./_wks")("species");e.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];s&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},{"./_core":62,"./_descriptors":66,"./_global":73,"./_object-dp":95,"./_wks":128}],112:[function(t,e,n){var r=t("./_object-dp").f,i=t("./_has"),o=t("./_wks")("toStringTag");e.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},{"./_has":74,"./_object-dp":95,"./_wks":128}],113:[function(t,e,n){var r=t("./_shared")("keys"),i=t("./_uid");e.exports=function(t){return r[t]||(r[t]=i(t))}},{"./_shared":114,"./_uid":124}],114:[function(t,e,n){var r=t("./_core"),i=t("./_global"),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:t("./_library")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},{"./_core":62,"./_global":73,"./_library":89}],115:[function(t,e,n){var r=t("./_an-object"),i=t("./_a-function"),o=t("./_wks")("species");e.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[o])?e:i(n)}},{"./_a-function":55,"./_an-object":58,"./_wks":128}],116:[function(t,e,n){var r=t("./_to-integer"),i=t("./_defined");e.exports=function(t){return function(e,n){var o,s,a=String(i(e)),c=r(n),l=a.length;return c<0||c>=l?t?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===l||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}}},{"./_defined":65,"./_to-integer":119}],117:[function(t,e,n){var r,i,o,s=t("./_ctx"),a=t("./_invoke"),c=t("./_html"),l=t("./_dom-create"),u=t("./_global"),h=u.process,d=u.setImmediate,p=u.clearImmediate,f=u.MessageChannel,g=u.Dispatch,m=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};d&&p||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++m]=function(){a("function"==typeof t?t:Function(t),e)},r(m),m},p=function(t){delete v[t]},"process"==t("./_cof")(h)?r=function(t){h.nextTick(s(y,t,1))}:g&&g.now?r=function(t){g.now(s(y,t,1))}:f?(o=(i=new f).port2,i.port1.onmessage=b,r=s(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(t){u.postMessage(t+"","*")},u.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(t){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),e.exports={set:d,clear:p}},{"./_cof":61,"./_ctx":64,"./_dom-create":67,"./_global":73,"./_html":76,"./_invoke":78}],118:[function(t,e,n){var r=t("./_to-integer"),i=Math.max,o=Math.min;e.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},{"./_to-integer":119}],119:[function(t,e,n){var r=Math.ceil,i=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(t>0?i:r)(t)}},{}],120:[function(t,e,n){var r=t("./_iobject"),i=t("./_defined");e.exports=function(t){return r(i(t))}},{"./_defined":65,"./_iobject":79}],121:[function(t,e,n){var r=t("./_to-integer"),i=Math.min;e.exports=function(t){return t>0?i(r(t),9007199254740991):0}},{"./_to-integer":119}],122:[function(t,e,n){var r=t("./_defined");e.exports=function(t){return Object(r(t))}},{"./_defined":65}],123:[function(t,e,n){var r=t("./_is-object");e.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":82}],124:[function(t,e,n){var r=0,i=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+i).toString(36))}},{}],125:[function(t,e,n){var r=t("./_global").navigator;e.exports=r&&r.userAgent||""},{"./_global":73}],126:[function(t,e,n){var r=t("./_global"),i=t("./_core"),o=t("./_library"),s=t("./_wks-ext"),a=t("./_object-dp").f;e.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},{"./_core":62,"./_global":73,"./_library":89,"./_object-dp":95,"./_wks-ext":127}],127:[function(t,e,n){n.f=t("./_wks")},{"./_wks":128}],128:[function(t,e,n){var r=t("./_shared")("wks"),i=t("./_uid"),o=t("./_global").Symbol,s="function"==typeof o;(e.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},{"./_global":73,"./_shared":114,"./_uid":124}],129:[function(t,e,n){var r=t("./_classof"),i=t("./_wks")("iterator"),o=t("./_iterators");e.exports=t("./_core").getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},{"./_classof":60,"./_core":62,"./_iterators":88,"./_wks":128}],130:[function(t,e,n){var r=t("./_ctx"),i=t("./_export"),o=t("./_to-object"),s=t("./_iter-call"),a=t("./_is-array-iter"),c=t("./_to-length"),l=t("./_create-property"),u=t("./core.get-iterator-method");i(i.S+i.F*!t("./_iter-detect")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,h,d=o(t),p="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,m=void 0!==g,v=0,y=u(d);if(m&&(g=r(g,f>2?arguments[2]:void 0,2)),null==y||p==Array&&a(y))for(n=new p(e=c(d.length));e>v;v++)l(n,v,m?g(d[v],v):d[v]);else for(h=y.call(d),n=new p;!(i=h.next()).done;v++)l(n,v,m?s(h,g,[i.value,v],!0):i.value);return n.length=v,n}})},{"./_create-property":63,"./_ctx":64,"./_export":70,"./_is-array-iter":80,"./_iter-call":83,"./_iter-detect":86,"./_to-length":121,"./_to-object":122,"./core.get-iterator-method":129}],131:[function(t,e,n){var r=t("./_add-to-unscopables"),i=t("./_iter-step"),o=t("./_iterators"),s=t("./_to-iobject");e.exports=t("./_iter-define")(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":56,"./_iter-define":85,"./_iter-step":87,"./_iterators":88,"./_to-iobject":120}],132:[function(t,e,n){var r=t("./_is-object"),i=t("./_object-gpo"),o=t("./_wks")("hasInstance"),s=Function.prototype;o in s||t("./_object-dp").f(s,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},{"./_is-object":82,"./_object-dp":95,"./_object-gpo":101,"./_wks":128}],133:[function(t,e,n){var r=t("./_export");r(r.S+r.F,"Object",{assign:t("./_object-assign")})},{"./_export":70,"./_object-assign":93}],134:[function(t,e,n){var r=t("./_export");r(r.S,"Object",{create:t("./_object-create")})},{"./_export":70,"./_object-create":94}],135:[function(t,e,n){var r=t("./_export");r(r.S+r.F*!t("./_descriptors"),"Object",{defineProperty:t("./_object-dp").f})},{"./_descriptors":66,"./_export":70,"./_object-dp":95}],136:[function(t,e,n){t("./_object-sap")("getOwnPropertyNames",(function(){return t("./_object-gopn-ext").f}))},{"./_object-gopn-ext":98,"./_object-sap":105}],137:[function(t,e,n){var r=t("./_to-object"),i=t("./_object-gpo");t("./_object-sap")("getPrototypeOf",(function(){return function(t){return i(r(t))}}))},{"./_object-gpo":101,"./_object-sap":105,"./_to-object":122}],138:[function(t,e,n){var r=t("./_to-object"),i=t("./_object-keys");t("./_object-sap")("keys",(function(){return function(t){return i(r(t))}}))},{"./_object-keys":103,"./_object-sap":105,"./_to-object":122}],139:[function(t,e,n){arguments[4][35][0].apply(n,arguments)},{dup:35}],140:[function(t,e,n){var r,i,o,s,a=t("./_library"),c=t("./_global"),l=t("./_ctx"),u=t("./_classof"),h=t("./_export"),d=t("./_is-object"),p=t("./_a-function"),f=t("./_an-instance"),g=t("./_for-of"),m=t("./_species-constructor"),v=t("./_task").set,y=t("./_microtask")(),b=t("./_new-promise-capability"),w=t("./_perform"),_=t("./_user-agent"),x=t("./_promise-resolve"),O=c.TypeError,S=c.process,j=S&&S.versions,E=j&&j.v8||"",T=c.Promise,P="process"==u(S),C=function(){},A=i=b.f,k=!!function(){try{var e=T.resolve(1),n=(e.constructor={})[t("./_wks")("species")]=function(t){t(C,C)};return(P||"function"==typeof PromiseRejectionEvent)&&e.then(C)instanceof n&&0!==E.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(t){}}(),D=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},I=function(t,e){if(!t._n){t._n=!0;var n=t._c;y((function(){for(var r=t._v,i=1==t._s,o=0;n.length>o;)!function(e){var n,o,s,a=i?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{a?(i||(2==t._h&&L(t),t._h=1),!0===a?n=r:(u&&u.enter(),n=a(r),u&&(u.exit(),s=!0)),n===e.promise?l(O("Promise-chain cycle")):(o=D(n))?o.call(n,c,l):c(n)):l(r)}catch(t){u&&!s&&u.exit(),l(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&M(t)}))}},M=function(t){v.call(c,(function(){var e,n,r,i=t._v,o=R(t);if(o&&(e=w((function(){P?S.emit("unhandledRejection",i,t):(n=c.onunhandledrejection)?n({promise:t,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=P||R(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){v.call(c,(function(){var e;P?S.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},N=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),I(e,!0))},F=function t(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw O("Promise can't be resolved itself");(n=D(e))?y((function(){var i={_w:r,_d:!1};try{n.call(e,l(t,i,1),l(N,i,1))}catch(t){N.call(i,t)}})):(r._v=e,r._s=1,I(r,!1))}catch(e){N.call({_w:r,_d:!1},e)}}};k||(T=function(t){f(this,T,"Promise","_h"),p(t),r.call(this);try{t(l(F,this,1),l(N,this,1))}catch(t){N.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=t("./_redefine-all")(T.prototype,{then:function(t,e){var n=A(m(this,T));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=P?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=l(F,t,1),this.reject=l(N,t,1)},b.f=A=function(t){return t===T||t===s?new o(t):i(t)}),h(h.G+h.W+h.F*!k,{Promise:T}),t("./_set-to-string-tag")(T,"Promise"),t("./_set-species")("Promise"),s=t("./_core").Promise,h(h.S+h.F*!k,"Promise",{reject:function(t){var e=A(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(a||!k),"Promise",{resolve:function(t){return x(a&&this===s?T:this,t)}}),h(h.S+h.F*!(k&&t("./_iter-detect")((function(t){T.all(t).catch(C)}))),"Promise",{all:function(t){var e=this,n=A(e),r=n.resolve,i=n.reject,o=w((function(){var n=[],o=0,s=1;g(t,!1,(function(t){var a=o++,c=!1;n.push(void 0),s++,e.resolve(t).then((function(t){c||(c=!0,n[a]=t,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=A(e),r=n.reject,i=w((function(){g(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},{"./_a-function":55,"./_an-instance":57,"./_classof":60,"./_core":62,"./_ctx":64,"./_export":70,"./_for-of":72,"./_global":73,"./_is-object":82,"./_iter-detect":86,"./_library":89,"./_microtask":91,"./_new-promise-capability":92,"./_perform":106,"./_promise-resolve":107,"./_redefine-all":109,"./_set-species":111,"./_set-to-string-tag":112,"./_species-constructor":115,"./_task":117,"./_user-agent":125,"./_wks":128}],141:[function(t,e,n){var r=t("./_export"),i=t("./_to-absolute-index"),o=String.fromCharCode,s=String.fromCodePoint;r(r.S+r.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,s=0;r>s;){if(e=+arguments[s++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},{"./_export":70,"./_to-absolute-index":118}],142:[function(t,e,n){var r=t("./_string-at")(!0);t("./_iter-define")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},{"./_iter-define":85,"./_string-at":116}],143:[function(t,e,n){var r=t("./_global"),i=t("./_has"),o=t("./_descriptors"),a=t("./_export"),c=t("./_redefine"),l=t("./_meta").KEY,u=t("./_fails"),h=t("./_shared"),d=t("./_set-to-string-tag"),p=t("./_uid"),f=t("./_wks"),g=t("./_wks-ext"),m=t("./_wks-define"),v=t("./_enum-keys"),y=t("./_is-array"),b=t("./_an-object"),w=t("./_is-object"),_=t("./_to-iobject"),x=t("./_to-primitive"),O=t("./_property-desc"),S=t("./_object-create"),j=t("./_object-gopn-ext"),E=t("./_object-gopd"),T=t("./_object-dp"),P=t("./_object-keys"),C=E.f,A=T.f,k=j.f,D=r.Symbol,I=r.JSON,M=I&&I.stringify,R=f("_hidden"),L=f("toPrimitive"),N={}.propertyIsEnumerable,F=h("symbol-registry"),B=h("symbols"),U=h("op-symbols"),z=Object.prototype,X="function"==typeof D,Y=r.QObject,G=!Y||!Y.prototype||!Y.prototype.findChild,V=o&&u((function(){return 7!=S(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=C(z,e);r&&delete z[e],A(t,e,n),r&&t!==z&&A(z,e,r)}:A,H=function(t){var e=B[t]=S(D.prototype);return e._k=t,e},W=X&&"symbol"==s(D.iterator)?function(t){return"symbol"==(void 0===t?"undefined":s(t))}:function(t){return t instanceof D},q=function t(e,n,r){return e===z&&t(U,n,r),b(e),n=x(n,!0),b(r),i(B,n)?(r.enumerable?(i(e,R)&&e[R][n]&&(e[R][n]=!1),r=S(r,{enumerable:O(0,!1)})):(i(e,R)||A(e,R,O(1,{})),e[R][n]=!0),V(e,n,r)):A(e,n,r)},K=function(t,e){b(t);for(var n,r=v(e=_(e)),i=0,o=r.length;o>i;)q(t,n=r[i++],e[n]);return t},$=function(t){var e=N.call(this,t=x(t,!0));return!(this===z&&i(B,t)&&!i(U,t))&&(!(e||!i(this,t)||!i(B,t)||i(this,R)&&this[R][t])||e)},J=function(t,e){if(t=_(t),e=x(e,!0),t!==z||!i(B,e)||i(U,e)){var n=C(t,e);return!n||!i(B,e)||i(t,R)&&t[R][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=k(_(t)),r=[],o=0;n.length>o;)i(B,e=n[o++])||e==R||e==l||r.push(e);return r},Q=function(t){for(var e,n=t===z,r=k(n?U:_(t)),o=[],s=0;r.length>s;)!i(B,e=r[s++])||n&&!i(z,e)||o.push(B[e]);return o};X||(c((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function e(n){this===z&&e.call(U,n),i(this,R)&&i(this[R],t)&&(this[R][t]=!1),V(this,t,O(1,n))};return o&&G&&V(z,t,{configurable:!0,set:e}),H(t)}).prototype,"toString",(function(){return this._k})),E.f=J,T.f=q,t("./_object-gopn").f=j.f=Z,t("./_object-pie").f=$,t("./_object-gops").f=Q,o&&!t("./_library")&&c(z,"propertyIsEnumerable",$,!0),g.f=function(t){return H(f(t))}),a(a.G+a.W+a.F*!X,{Symbol:D});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)f(tt[et++]);for(var nt=P(f.store),rt=0;nt.length>rt;)m(nt[rt++]);a(a.S+a.F*!X,"Symbol",{for:function(t){return i(F,t+="")?F[t]:F[t]=D(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!X,"Object",{create:function(t,e){return void 0===e?S(t):K(S(t),e)},defineProperty:q,defineProperties:K,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:Q}),I&&a(a.S+a.F*(!X||u((function(){var t=D();return"[null]"!=M([t])||"{}"!=M({a:t})||"{}"!=M(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(w(e)||void 0!==t)&&!W(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,M.apply(I,r)}}),D.prototype[L]||t("./_hide")(D.prototype,L,D.prototype.valueOf),d(D,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},{"./_an-object":58,"./_descriptors":66,"./_enum-keys":69,"./_export":70,"./_fails":71,"./_global":73,"./_has":74,"./_hide":75,"./_is-array":81,"./_is-object":82,"./_library":89,"./_meta":90,"./_object-create":94,"./_object-dp":95,"./_object-gopd":97,"./_object-gopn":99,"./_object-gopn-ext":98,"./_object-gops":100,"./_object-keys":103,"./_object-pie":104,"./_property-desc":108,"./_redefine":110,"./_set-to-string-tag":112,"./_shared":114,"./_to-iobject":120,"./_to-primitive":123,"./_uid":124,"./_wks":128,"./_wks-define":126,"./_wks-ext":127}],144:[function(t,e,n){var r=t("./_export"),i=t("./_core"),o=t("./_global"),s=t("./_species-constructor"),a=t("./_promise-resolve");r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then((function(){return n}))}:t,n?function(n){return a(e,t()).then((function(){throw n}))}:t)}})},{"./_core":62,"./_export":70,"./_global":73,"./_promise-resolve":107,"./_species-constructor":115}],145:[function(t,e,n){var r=t("./_export"),i=t("./_new-promise-capability"),o=t("./_perform");r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},{"./_export":70,"./_new-promise-capability":92,"./_perform":106}],146:[function(t,e,n){t("./_wks-define")("asyncIterator")},{"./_wks-define":126}],147:[function(t,e,n){t("./_wks-define")("observable")},{"./_wks-define":126}],148:[function(t,e,n){t("./es6.array.iterator");for(var r=t("./_global"),i=t("./_hide"),o=t("./_iterators"),s=t("./_wks")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var l=a[c],u=r[l],h=u&&u.prototype;h&&!h[s]&&i(h,s,l),o[l]=o.Array}},{"./_global":73,"./_hide":75,"./_iterators":88,"./_wks":128,"./es6.array.iterator":131}],149:[function(t,e,n){var r=t("./_export"),i=t("./_task");r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},{"./_export":70,"./_task":117}],150:[function(t,e,n){(function(e){function r(t){return Object.prototype.toString.call(t)}var i=function(t){return t&&t.__esModule?t:{default:t}}(t("babel-runtime/helpers/typeof"));n.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===r(t)},n.isBoolean=function(t){return"boolean"==typeof t},n.isNull=function(t){return null===t},n.isNullOrUndefined=function(t){return null==t},n.isNumber=function(t){return"number"==typeof t},n.isString=function(t){return"string"==typeof t},n.isSymbol=function(t){return"symbol"===(void 0===t?"undefined":(0,i.default)(t))},n.isUndefined=function(t){return void 0===t},n.isRegExp=function(t){return"[object RegExp]"===r(t)},n.isObject=function(t){return"object"===(void 0===t?"undefined":(0,i.default)(t))&&null!==t},n.isDate=function(t){return"[object Date]"===r(t)},n.isError=function(t){return"[object Error]"===r(t)||t instanceof Error},n.isFunction=function(t){return"function"==typeof t},n.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"===(void 0===t?"undefined":(0,i.default)(t))||void 0===t},n.isBuffer=e.isBuffer}).call(this,{isBuffer:t("../../is-buffer/index.js")})},{"../../is-buffer/index.js":161,"babel-runtime/helpers/typeof":31}],151:[function(t,e,n){var r=function(t){return t&&t.__esModule?t:{default:t}}(t("babel-runtime/helpers/typeof"));!function(t){function i(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}function o(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);var n=new Date(e.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=e.getTimezoneOffset()-n.getTimezoneOffset();e.setHours(e.getHours()-r);var i=(e-n)/6048e5;return 1+Math.floor(i)}function s(t){var e=t.getDay();return 0===e&&(e=7),e}function a(t){return null===t?"null":void 0===t?"undefined":"object"!==(void 0===t?"undefined":(0,r.default)(t))?void 0===t?"undefined":(0,r.default)(t):Array.isArray(t)?"array":{}.toString.call(t).slice(8,-1).toLowerCase()}var c=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(r,l,u,h){if(1!==arguments.length||"string"!==a(r)||/\d/.test(r)||(l=r,r=void 0),(r=r||new Date)instanceof Date||(r=new Date(r)),isNaN(r))throw TypeError("Invalid date");var d=(l=String(c.masks[l]||l||c.masks.default)).slice(0,4);"UTC:"!==d&&"GMT:"!==d||(l=l.slice(4),u=!0,"GMT:"===d&&(h=!0));var p=u?"getUTC":"get",f=r[p+"Date"](),g=r[p+"Day"](),m=r[p+"Month"](),v=r[p+"FullYear"](),y=r[p+"Hours"](),b=r[p+"Minutes"](),w=r[p+"Seconds"](),_=r[p+"Milliseconds"](),x=u?0:r.getTimezoneOffset(),O=o(r),S=s(r),j={d:f,dd:i(f),ddd:c.i18n.dayNames[g],dddd:c.i18n.dayNames[g+7],m:m+1,mm:i(m+1),mmm:c.i18n.monthNames[m],mmmm:c.i18n.monthNames[m+12],yy:String(v).slice(2),yyyy:v,h:y%12||12,hh:i(y%12||12),H:y,HH:i(y),M:b,MM:i(b),s:w,ss:i(w),l:i(_,3),L:i(Math.round(_/10)),t:y<12?"a":"p",tt:y<12?"am":"pm",T:y<12?"A":"P",TT:y<12?"AM":"PM",Z:h?"GMT":u?"UTC":(String(r).match(e)||[""]).pop().replace(n,""),o:(x>0?"-":"+")+i(100*Math.floor(Math.abs(x)/60)+Math.abs(x)%60,4),S:["th","st","nd","rd"][f%10>3?0:(f%100-f%10!=10)*f%10],W:O,N:S};return l.replace(t,(function(t){return t in j?j[t]:t.slice(1,t.length-1)}))}}();c.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},c.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},"object"===(void 0===n?"undefined":(0,r.default)(n))?e.exports=c:(void 0).dateFormat=c}()},{"babel-runtime/helpers/typeof":31}],152:[function(t,e,n){function r(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var i=1e3,o=60*i,a=60*o,c=24*a,l=365.25*c;e.exports=function(t,e){e=e||{};var n=void 0===t?"undefined":s(t);if("string"===n&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*a;case"minutes":case"minute":case"mins":case"min":case"m":return n*o;case"seconds":case"second":case"secs":case"sec":case"s":return n*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(t);if("number"===n&&!1===isNaN(t))return e.long?function(t){return r(t,c,"day")||r(t,a,"hour")||r(t,o,"minute")||r(t,i,"second")||t+" ms"}(t):function(t){return t>=c?Math.round(t/c)+"d":t>=a?Math.round(t/a)+"h":t>=o?Math.round(t/o)+"m":t>=i?Math.round(t/i)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},{}],153:[function(t,e,n){(function(r){function i(){var t;try{t=n.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(n=e.exports=t("./debug")).log=function(){return"object"==("undefined"==typeof console?"undefined":s(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),e){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))})),t.splice(o,0,r)}},n.save=function(t){try{null==t?n.storage.removeItem("debug"):n.storage.debug=t}catch(t){}},n.load=i,n.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},n.enable(i())}).call(this,t("_process"))},{"./debug":154,_process:171}],154:[function(t,e,n){function r(t){function e(){if(e.enabled){var t=e,r=+new Date,o=r-(i||r);t.diff=o,t.prev=i,t.curr=r,i=r;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return e;c++;var i=n.formatters[r];if("function"==typeof i){var o=s[c];e=i.call(t,o),s.splice(c,1),c--}return e})),n.formatArgs.call(t,s),(e.log||n.log||console.log.bind(console)).apply(t,s)}}return e.namespace=t,e.enabled=n.enabled(t),e.useColors=n.useColors(),e.color=function(t){var e,r=0;for(e in t)r=(r<<5)-r+t.charCodeAt(e),r|=0;return n.colors[Math.abs(r)%n.colors.length]}(t),"function"==typeof n.init&&n.init(e),e}var i;(n=e.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},n.disable=function(){n.enable("")},n.enable=function(t){n.save(t),n.names=[],n.skips=[];for(var e=("string"==typeof t?t:"").split(/[\s,]+/),r=e.length,i=0;i<r;i++)e[i]&&("-"===(t=e[i].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))},n.enabled=function(t){var e,r;for(e=0,r=n.skips.length;e<r;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;e<r;e++)if(n.names[e].test(t))return!0;return!1},n.humanize=t("ms"),n.names=[],n.skips=[],n.formatters={}},{ms:152}],155:[function(t,e,n){var r=/["'&<>]/;e.exports=function(t){var e=""+t,n=r.exec(e);if(!n)return e;var i,o="",s=0,a=0;for(s=n.index;s<e.length;s++){switch(e.charCodeAt(s)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}a!==s&&(o+=e.substring(a,s)),a=s+1,o+=i}return a!==s?o+e.substring(a,s):o}},{}],156:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"object"==(void 0===t?"undefined":s(t))&&null!==t}function a(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,s,c,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(a(n=this._events[t]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),r=(l=n.slice()).length,c=0;c<r;c++)l[c].apply(this,s);return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,s,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(n=this._events[t]).length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(a=s;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}],157:[function(t,e,n){var r=t("http"),i=e.exports;for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);i.request=function(t,e){return t||(t={}),t.scheme="https",t.protocol="https:",r.request.call(this,t,e)}},{http:194}],158:[function(t,e,n){var r=t("util"),i=t("ms");e.exports=function(t){if("number"==typeof t)return t;var e=i(t);if(void 0===e){var n=new Error(r.format("humanize-ms(%j) result undefined",t));console.warn(n.stack)}return e}},{ms:167,util:205}],159:[function(t,e,n){n.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,l=c>>1,u=-7,h=n?i-1:0,d=n?-1:1,p=t[e+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+t[e+h],h+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+t[e+h],h+=d,u-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=l}return(p?-1:1)*s*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var s,a,c,l=8*o-i-1,u=(1<<l)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(e*c-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=f,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+p]=255&s,p+=f,s/=256,l-=8);t[n+p-f]|=128*g}},{}],160:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],161:[function(t,e,n){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}e.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},{}],162:[function(t,e,n){!function(t){function r(t){return"function"==typeof t&&(/^class(?:\s|{)/.test(i.call(t))||/^.*classCallCheck\(/.test(function(t){return i.call(t).replace(/^[^{]*{\s*/,"").replace(/\s*}[^}]*$/,"")}(t)))}var i=Function.prototype.toString;void 0!==n?(void 0!==e&&e.exports&&(n=e.exports=r),n.isClass=r):t.isClass=r}(this)},{}],163:[function(t,e,n){var r=t("core-util-is"),i=t("isstream"),o=t("is-class-hotfix");Object.keys(r).map((function(t){n[function(t){var e=t.slice(2);return e[0].toLowerCase()+e.slice(1)}(t)]=r[t]})),n.stream=i,n.readableStream=i.isReadable,n.writableStream=i.isWritable,n.duplexStream=i.isDuplex,n.class=o,n.finite=Number.isFinite,n.NaN=Number.isNaN,n.generator=function(t){return t&&"function"==typeof t.next&&"function"==typeof t.throw},n.generatorFunction=function(t){return t&&t.constructor&&"GeneratorFunction"===t.constructor.name},n.asyncFunction=function(t){return t&&t.constructor&&"AsyncFunction"===t.constructor.name},n.promise=function(t){return t&&"function"==typeof t.then};var s=Math.pow(2,31);n.int=function(t){return r.isNumber(t)&&t%1==0},n.int32=function(t){return n.int(t)&&t<s&&t>=-s},n.long=function(t){return n.int(t)&&(t>=s||t<-s)},n.Long=function(t){return n.object(t)&&n.number(t.high)&&n.number(t.low)},n.double=function(t){return r.isNumber(t)&&!isNaN(t)&&t%1!=0},n.date=function(t){return t instanceof Date},n.regExp=function(t){return t instanceof RegExp},n.regexp=n.regExp,n.error=function(t){return t instanceof Error},n.array=Array.isArray},{"core-util-is":150,"is-class-hotfix":162,isstream:165}],164:[function(t,e,n){var r={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},{}],165:[function(t,e,n){function r(t){return t instanceof a.Stream}function i(t){return r(t)&&"function"==typeof t._read&&"object"==s(t._readableState)}function o(t){return r(t)&&"function"==typeof t._write&&"object"==s(t._writableState)}var a=t("stream");e.exports=r,e.exports.isReadable=i,e.exports.isWritable=o,e.exports.isDuplex=function(t){return i(t)&&o(t)}},{stream:193}],166:[function(t,e,n){e.exports=function(t,e,n){if(!t)throw new TypeError("argument dest is required");if(!e)throw new TypeError("argument src is required");return void 0===n&&(n=!0),Object.getOwnPropertyNames(e).forEach((function(i){if(n||!r.call(t,i)){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,o)}})),t};var r=Object.prototype.hasOwnProperty},{}],167:[function(t,e,n){function r(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}var i=1e3,o=60*i,a=60*o,c=24*a,l=7*c,u=365.25*c;e.exports=function(t,e){e=e||{};var n=void 0===t?"undefined":s(t);if("string"===n&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*u;case"weeks":case"week":case"w":return n*l;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*a;case"minutes":case"minute":case"mins":case"min":case"m":return n*o;case"seconds":case"second":case"secs":case"sec":case"s":return n*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(t);if("number"===n&&!1===isNaN(t))return e.long?function(t){var e=Math.abs(t);return e>=c?r(t,e,c,"day"):e>=a?r(t,e,a,"hour"):e>=o?r(t,e,o,"minute"):e>=i?r(t,e,i,"second"):t+" ms"}(t):function(t){var e=Math.abs(t);return e>=c?Math.round(t/c)+"d":e>=a?Math.round(t/a)+"h":e>=o?Math.round(t/o)+"m":e>=i?Math.round(t/i)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},{}],168:[function(t,e,n){(function(t){function e(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(n=s+"/"+n,i="/"===s.charAt(0))}return(i?"/":"")+(n=e(r(n.split("/"),(function(t){return!!t})),!i).join("/"))||"."},n.normalize=function(t){var o=n.isAbsolute(t),s="/"===i(t,-1);return(t=e(r(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&s&&(t+="/"),(o?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(r(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},n.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var i=r(t.split("/")),o=r(e.split("/")),s=Math.min(i.length,o.length),a=s,c=0;c<s;c++)if(i[c]!==o[c]){a=c;break}var l=[];for(c=a;c<i.length;c++)l.push("..");return(l=l.concat(o.slice(a))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},n.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,s=t.length-1;s>=0;--s){var a=t.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=s+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,t("_process"))},{_process:171}],169:[function(t,e,r){(function(t){(function(){function n(t){return(t=String(t)).charAt(0).toUpperCase()+t.slice(1)}function i(t){return t=u(t),/^(?:webOS|i(?:OS|P))/.test(t)?t:n(t)}function o(t,e){for(var n in t)b.call(t,n)&&e(t[n],n,t)}function a(t){return null==t?n(t):w.call(t).slice(8,-1)}function c(t){return String(t).replace(/([ -])(?!$)/g,"$1?")}function l(t,e){var n=null;return function(t,e){var n=-1,r=t?t.length:0;if("number"==typeof r&&r>-1&&r<=m)for(;++n<r;)e(t[n],n,t);else o(t,e)}(t,(function(r,i){n=e(n,r,i,t)})),n}function u(t){return String(t).replace(/^ +| +$/g,"")}var h={function:!0,object:!0},d=h["undefined"==typeof window?"undefined":s(window)]&&window||this,p=h[void 0===r?"undefined":s(r)]&&r,f=h[void 0===e?"undefined":s(e)]&&e&&!e.nodeType&&e,g=p&&f&&"object"==(void 0===t?"undefined":s(t))&&t;!g||g.global!==g&&g.window!==g&&g.self!==g||(d=g);var m=Math.pow(2,53)-1,v=/\bOpera/,y=Object.prototype,b=y.hasOwnProperty,w=y.toString,_=function t(e){function n(t){return l(t,(function(t,n){var r=n.pattern||c(n);return!t&&(t=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=i(t[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t}))}var r=d,h=e&&"object"==(void 0===e?"undefined":s(e))&&"String"!=a(e);h&&(r=e,e=null);var p=r.navigator||{},f=p.userAgent||"";e||(e=f);var g,m,y=h?!!p.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(w.toString()),b=h?"Object":"ScriptBridgingProxyObject",_=h?"Object":"Environment",x=h&&r.java?"JavaPackage":a(r.java),O=h?"Object":"RuntimeObject",S=/\bJava/.test(x)&&r.java,j=S&&a(r.environment)==_,E=S?"a":"",T=S?"b":"",P=r.document||{},C=r.operamini||r.opera,A=v.test(A=h&&C?C["[[Class]]"]:a(C))?A:C=null,k=e,D=[],I=null,M=e==f,R=M&&C&&"function"==typeof C.version&&C.version(),L=l([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(t,n){return t||RegExp("\\b"+(n.pattern||c(n))+"\\b","i").exec(e)&&(n.label||n)})),N=l(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],(function(t,n){return t||RegExp("\\b"+(n.pattern||c(n))+"\\b","i").exec(e)&&(n.label||n)})),F=n([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),B=l({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}},(function(t,n,r){return t||(n[F]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(F)]||RegExp("\\b"+c(r)+"(?:\\b|\\w*\\d)","i").exec(e))&&r})),U=l(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],(function(t,n){var r=n.pattern||c(n);return!t&&(t=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=function(t,e,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return e&&n&&/^Win/i.test(t)&&!/^Windows Phone /i.test(t)&&(r=r[/[\d.]+$/.exec(t)])&&(t="Windows "+r),t=String(t),e&&n&&(t=t.replace(RegExp(e,"i"),n)),i(t.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(t,r,n.label||n)),t}));if(L&&(L=[L]),B&&!F&&(F=n([B])),(g=/\bGoogle TV\b/.exec(F))&&(F=g[0]),/\bSimulator\b/i.test(e)&&(F=(F?F+" ":"")+"Simulator"),"Opera Mini"==N&&/\bOPiOS\b/.test(e)&&D.push("running in Turbo/Uncompressed mode"),"IE"==N&&/\blike iPhone OS\b/.test(e)?(B=(g=t(e.replace(/like iPhone OS/,""))).manufacturer,F=g.product):/^iP/.test(F)?(N||(N="Safari"),U="iOS"+((g=/ OS ([\d_]+)/i.exec(e))?" "+g[1].replace(/_/g,"."):"")):"Konqueror"!=N||/buntu/i.test(U)?B&&"Google"!=B&&(/Chrome/.test(N)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(F))||/\bAndroid\b/.test(U)&&/^Chrome/.test(N)&&/\bVersion\//i.test(e)?(N="Android Browser",U=/\bAndroid\b/.test(U)?U:"Android"):"Silk"==N?(/\bMobi/i.test(e)||(U="Android",D.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&D.unshift("accelerated")):"PaleMoon"==N&&(g=/\bFirefox\/([\d.]+)\b/.exec(e))?D.push("identifying as Firefox "+g[1]):"Firefox"==N&&(g=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(U||(U="Firefox OS"),F||(F=g[1])):!N||(g=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(N))?(N&&!F&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(g+"/")+8))&&(N=null),(g=F||B||U)&&(F||B||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(U))&&(N=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(U)?U:g)+" Browser")):"Electron"==N&&(g=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&D.push("Chromium "+g):U="Kubuntu",R||(R=function(t){return l(t,(function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null}))}(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",c(N),"(?:Firefox|Minefield|NetFront)"])),(g=("iCab"==L&&parseFloat(R)>3?"WebKit":/\bOpera\b/.test(N)&&(/\bOPR\b/.test(e)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(L)&&"WebKit"||!L&&/\bMSIE\b/i.test(e)&&("Mac OS"==U?"Tasman":"Trident")||"WebKit"==L&&/\bPlayStation\b(?! Vita\b)/i.test(N)&&"NetFront")&&(L=[g]),"IE"==N&&(g=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(N+=" Mobile",U="Windows Phone "+(/\+$/.test(g)?g:g+".x"),D.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(N="IE Mobile",U="Windows Phone 8.x",D.unshift("desktop mode"),R||(R=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=N&&"Trident"==L&&(g=/\brv:([\d.]+)/.exec(e))&&(N&&D.push("identifying as "+N+(R?" "+R:"")),N="IE",R=g[1]),M){if(function(t,e){var n=null!=t?s(t[e]):"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!t[e])}(r,"global"))if(S&&(k=(g=S.lang.System).getProperty("os.arch"),U=U||g.getProperty("os.name")+" "+g.getProperty("os.version")),j){try{R=r.require("ringo/engine").version.join("."),N="RingoJS"}catch(e){(g=r.system)&&g.global.system==r.system&&(N="Narwhal",U||(U=g[0].os||null))}N||(N="Rhino")}else"object"==s(r.process)&&!r.process.browser&&(g=r.process)&&("object"==s(g.versions)&&("string"==typeof g.versions.electron?(D.push("Node "+g.versions.node),N="Electron",R=g.versions.electron):"string"==typeof g.versions.nw&&(D.push("Chromium "+R,"Node "+g.versions.node),N="NW.js",R=g.versions.nw)),N||(N="Node.js",k=g.arch,U=g.platform,R=(R=/[\d.]+/.exec(g.version))?R[0]:null));else a(g=r.runtime)==b?(N="Adobe AIR",U=g.flash.system.Capabilities.os):a(g=r.phantom)==O?(N="PhantomJS",R=(g=g.version||null)&&g.major+"."+g.minor+"."+g.patch):"number"==typeof P.documentMode&&(g=/\bTrident\/(\d+)/i.exec(e))?(R=[R,P.documentMode],(g=+g[1]+4)!=R[1]&&(D.push("IE "+R[1]+" mode"),L&&(L[1]=""),R[1]=g),R="IE"==N?String(R[1].toFixed(1)):R[0]):"number"==typeof P.documentMode&&/^(?:Chrome|Firefox)\b/.test(N)&&(D.push("masking as "+N+" "+R),N="IE",R="11.0",L=["Trident"],U="Windows");U=U&&i(U)}if(R&&(g=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(R)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(M&&p.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(I=/b/i.test(g)?"beta":"alpha",R=R.replace(RegExp(g+"\\+?$"),"")+("beta"==I?T:E)+(/\d+\+?/.exec(g)||"")),"Fennec"==N||"Firefox"==N&&/\b(?:Android|Firefox OS)\b/.test(U))N="Firefox Mobile";else if("Maxthon"==N&&R)R=R.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(F))"Xbox 360"==F&&(U=null),"Xbox 360"==F&&/\bIEMobile\b/.test(e)&&D.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(N)&&(!N||F||/Browser|Mobi/.test(N))||"Windows CE"!=U&&!/Mobi/i.test(e))if("IE"==N&&M)try{null===r.external&&D.unshift("platform preview")}catch(e){D.unshift("embedded")}else(/\bBlackBerry\b/.test(F)||/\bBB10\b/.test(e))&&(g=(RegExp(F.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||R)?(U=((g=[g,/BB10/.test(e)])[1]?(F=null,B="BlackBerry"):"Device Software")+" "+g[0],R=null):this!=o&&"Wii"!=F&&(M&&C||/Opera/.test(N)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==N&&/\bOS X (?:\d+\.){2,}/.test(U)||"IE"==N&&(U&&!/^Win/.test(U)&&R>5.5||/\bWindows XP\b/.test(U)&&R>8||8==R&&!/\bTrident\b/.test(e)))&&!v.test(g=t.call(o,e.replace(v,"")+";"))&&g.name&&(g="ing as "+g.name+((g=g.version)?" "+g:""),v.test(N)?(/\bIE\b/.test(g)&&"Mac OS"==U&&(U=null),g="identify"+g):(g="mask"+g,N=A?i(A.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(g)&&(U=null),M||(R=null)),L=["Presto"],D.push(g));else N+=" Mobile";(g=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(g=[parseFloat(g.replace(/\.(\d)$/,".0$1")),g],"Safari"==N&&"+"==g[1].slice(-1)?(N="WebKit Nightly",I="alpha",R=g[1].slice(0,-1)):R!=g[1]&&R!=(g[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(R=null),g[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==g[0]&&537.36==g[2]&&parseFloat(g[1])>=28&&"WebKit"==L&&(L=["Blink"]),M&&(y||g[1])?(L&&(L[1]="like Chrome"),g=g[1]||((g=g[0])<530?1:g<532?2:g<532.05?3:g<533?4:g<534.03?5:g<534.07?6:g<534.1?7:g<534.13?8:g<534.16?9:g<534.24?10:g<534.3?11:g<535.01?12:g<535.02?"13+":g<535.07?15:g<535.11?16:g<535.19?17:g<536.05?18:g<536.1?19:g<537.01?20:g<537.11?"21+":g<537.13?23:g<537.18?24:g<537.24?25:g<537.36?26:"Blink"!=L?"27":"28")):(L&&(L[1]="like Safari"),g=(g=g[0])<400?1:g<500?2:g<526?3:g<533?4:g<534?"4+":g<535?5:g<537?6:g<538?7:g<601?8:"8"),L&&(L[1]+=" "+(g+="number"==typeof g?".x":/[.+]/.test(g)?"":"+")),"Safari"==N&&(!R||parseInt(R)>45)&&(R=g)),"Opera"==N&&(g=/\bzbov|zvav$/.exec(U))?(N+=" ",D.unshift("desktop mode"),"zvav"==g?(N+="Mini",R=null):N+="Mobile",U=U.replace(RegExp(" *"+g+"$"),"")):"Safari"==N&&/\bChrome\b/.exec(L&&L[1])&&(D.unshift("desktop mode"),N="Chrome Mobile",R=null,/\bOS X\b/.test(U)?(B="Apple",U="iOS 4.3+"):U=null),R&&0==R.indexOf(g=/[\d.]+$/.exec(U))&&e.indexOf("/"+g+"-")>-1&&(U=u(U.replace(g,""))),L&&!/\b(?:Avant|Nook)\b/.test(N)&&(/Browser|Lunascape|Maxthon/.test(N)||"Safari"!=N&&/^iOS/.test(U)&&/\bSafari\b/.test(L[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(N)&&L[1])&&(g=L[L.length-1])&&D.push(g),D.length&&(D=["("+D.join("; ")+")"]),B&&F&&F.indexOf(B)<0&&D.push("on "+B),F&&D.push((/^on /.test(D[D.length-1])?"":"on ")+F),U&&(g=/ ([\d.+]+)$/.exec(U),m=g&&"/"==U.charAt(U.length-g[0].length-1),U={architecture:32,family:g&&!m?U.replace(g[0],""):U,version:g?g[1]:null,toString:function(){var t=this.version;return this.family+(t&&!m?" "+t:"")+(64==this.architecture?" 64-bit":"")}}),(g=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(k))&&!/\bi686\b/i.test(k)?(U&&(U.architecture=64,U.family=U.family.replace(RegExp(" *"+g),"")),N&&(/\bWOW64\b/i.test(e)||M&&/\w(?:86|32)$/.test(p.cpuClass||p.platform)&&!/\bWin64; x64\b/i.test(e))&&D.unshift("32-bit")):U&&/^OS X/.test(U.family)&&"Chrome"==N&&parseFloat(R)>=39&&(U.architecture=64),e||(e=null);var z={};return z.description=e,z.layout=L&&L[0],z.manufacturer=B,z.name=N,z.prerelease=I,z.product=F,z.ua=e,z.version=N&&R,z.os=U||{architecture:null,family:null,version:null,toString:function(){return"null"}},z.parse=t,z.toString=function(){return this.description||""},z.version&&D.unshift(R),z.name&&D.unshift(N),U&&N&&(U!=String(U).split(" ")[0]||U!=N.split(" ")[0]&&!F)&&D.push(F?"("+U+")":"on "+U),D.length&&(z.description=D.join(" ")),z}();p&&f?o(_,(function(t,e){p[e]=t})):d.platform=_}).call(this)}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],170:[function(t,e,n){(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,t("_process"))},{_process:171}],171:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(u===setTimeout)return setTimeout(t,0);if((u===r||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function s(){g&&p&&(g=!1,p.length?f=p.concat(f):m=-1,f.length&&a())}function a(){if(!g){var t=o(s);g=!0;for(var e=f.length;e;){for(p=f,f=[];++m<e;)p&&p[m].run();m=-1,e=f.length}p=null,g=!1,function(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var u,h,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:r}catch(t){u=r}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var p,f=[],g=!1,m=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new c(t,e)),1!==f.length||g||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],172:[function(t,e,r){(function(t){!function(n){function i(t){throw new RangeError(D[t])}function o(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function a(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+o((t=t.replace(k,".")).split("."),e).join(".")}function c(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function l(t){return o(t,(function(t){var e="";return t>65535&&(e+=R((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+R(t)})).join("")}function u(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:_}function h(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function d(t,e,n){var r=0;for(t=n?M(t/j):t>>1,t+=M(t/e);t>I*O>>1;r+=_)t=M(t/I);return M(r+(I+1)*t/(t+S))}function p(t){var e,n,r,o,s,a,c,h,p,f,g=[],m=t.length,v=0,y=T,b=E;for((n=t.lastIndexOf(P))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&i("not-basic"),g.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<m;){for(s=v,a=1,c=_;o>=m&&i("invalid-input"),((h=u(t.charCodeAt(o++)))>=_||h>M((w-v)/a))&&i("overflow"),v+=h*a,!(h<(p=c<=b?x:c>=b+O?O:c-b));c+=_)a>M(w/(f=_-p))&&i("overflow"),a*=f;b=d(v-s,e=g.length+1,0==s),M(v/e)>w-y&&i("overflow"),y+=M(v/e),v%=e,g.splice(v++,0,y)}return l(g)}function f(t){var e,n,r,o,s,a,l,u,p,f,g,m,v,y,b,S=[];for(m=(t=c(t)).length,e=T,n=0,s=E,a=0;a<m;++a)(g=t[a])<128&&S.push(R(g));for(r=o=S.length,o&&S.push(P);r<m;){for(l=w,a=0;a<m;++a)(g=t[a])>=e&&g<l&&(l=g);for(l-e>M((w-n)/(v=r+1))&&i("overflow"),n+=(l-e)*v,e=l,a=0;a<m;++a)if((g=t[a])<e&&++n>w&&i("overflow"),g==e){for(u=n,p=_;!(u<(f=p<=s?x:p>=s+O?O:p-s));p+=_)b=u-f,y=_-f,S.push(R(h(f+b%y,0))),u=M(b/y);S.push(R(h(u,0))),s=d(n,v,r==o),n=0,++r}++n,++e}return S.join("")}var g="object"==(void 0===r?"undefined":s(r))&&r&&!r.nodeType&&r,m="object"==(void 0===e?"undefined":s(e))&&e&&!e.nodeType&&e,v="object"==(void 0===t?"undefined":s(t))&&t;v.global!==v&&v.window!==v&&v.self!==v||(n=v);var y,b,w=2147483647,_=36,x=1,O=26,S=38,j=700,E=72,T=128,P="-",C=/^xn--/,A=/[^\x20-\x7E]/,k=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=_-x,M=Math.floor,R=String.fromCharCode;if(y={version:"1.4.1",ucs2:{decode:c,encode:l},decode:p,encode:f,toASCII:function(t){return a(t,(function(t){return A.test(t)?"xn--"+f(t):t}))},toUnicode:function(t){return a(t,(function(t){return C.test(t)?p(t.slice(4).toLowerCase()):t}))}},g&&m)if(e.exports==g)m.exports=y;else for(b in y)y.hasOwnProperty(b)&&(g[b]=y[b]);else n.punycode=y}(this)}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],173:[function(t,e,n){function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,o){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var l=t.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var h,d,p,f,g=t[u].replace(a,"%20"),m=g.indexOf(n);m>=0?(h=g.substr(0,m),d=g.substr(m+1)):(h=g,d=""),p=decodeURIComponent(h),f=decodeURIComponent(d),r(s,p)?i(s[p])?s[p].push(f):s[p]=[s[p],f]:s[p]=f}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],174:[function(t,e,n){function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var i=function(t){switch(void 0===t?"undefined":s(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,c){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==(void 0===t?"undefined":s(t))?r(a(t),(function(s){var a=encodeURIComponent(i(s))+n;return o(t[s])?r(t[s],(function(t){return a+encodeURIComponent(i(t))})).join(e):a+encodeURIComponent(i(t[s]))})).join(e):c?encodeURIComponent(i(c))+n+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],175:[function(t,e,n){n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":173,"./encode":174}],176:[function(t,e,n){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":177}],177:[function(t,e,n){function r(t){if(!(this instanceof r))return new r(t);u.call(this,t),h.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||a.nextTick(o,this)}function o(t){t.end()}var s=function(t){return t&&t.__esModule?t:{default:t}}(t("babel-runtime/core-js/object/keys")),a=t("process-nextick-args"),c=s.default||function(t){var e=[];for(var n in t)e.push(n);return e};e.exports=r;var l=t("core-util-is");l.inherits=t("inherits");var u=t("./_stream_readable"),h=t("./_stream_writable");l.inherits(r,u);for(var d=c(h.prototype),p=0;p<d.length;p++){var f=d[p];r.prototype[f]||(r.prototype[f]=h.prototype[f])}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),r.prototype._destroy=function(t,e){this.push(null),this.end(),a.nextTick(e,t)}},{"./_stream_readable":179,"./_stream_writable":181,"babel-runtime/core-js/object/keys":22,"core-util-is":150,inherits:160,"process-nextick-args":170}],178:[function(t,e,n){function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}e.exports=r;var i=t("./_stream_transform"),o=t("core-util-is");o.inherits=t("inherits"),o.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},{"./_stream_transform":180,"core-util-is":150,inherits:160}],179:[function(t,e,r){(function(n,r){function i(e,n){e=e||{};var r=n instanceof(O=O||t("./_stream_duplex"));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new I,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(D||(D=t("string_decoder/").StringDecoder),this.decoder=new D(e.encoding),this.encoding=e.encoding)}function o(e){if(O=O||t("./_stream_duplex"),!(this instanceof o))return new o(e);this._readableState=new i(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),E.call(this)}function s(t,e,n,r,i){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,u(t)}}(t,s)):(i||(o=c(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||(0,_.default)(e)===T.prototype||(e=function(t){return T.from(t)}(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):a(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?a(t,s,e,!1):d(t,s)):a(t,s,e,!1))):r||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function a(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&u(t)),d(t,e)}function c(t,e){var n;return function(t){return T.isBuffer(t)||t instanceof P}(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=L?t=L:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function u(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(k("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?x.nextTick(h,t):h(t))}function h(t){k("emit readable"),t.emit("readable"),m(t)}function d(t,e){e.readingMore||(e.readingMore=!0,x.nextTick(p,t,e))}function p(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(k("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function f(t){k("readable nexttick read 0"),t.read(0)}function g(t,e){e.reading||(k("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),m(t),e.flowing&&!e.reading&&t.read(0)}function m(t){var e=t._readableState;for(k("flow",e.flowing);e.flowing&&null!==t.read(););}function v(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0==(t-=s)){s===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=T.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0==(t-=s)){s===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}(t,e),r}(t,e.buffer,e.decoder),n);var n}function y(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,x.nextTick(b,e,t))}function b(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function w(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}var _=function(t){return t&&t.__esModule?t:{default:t}}(t("babel-runtime/core-js/object/get-prototype-of")),x=t("process-nextick-args");e.exports=o;var O,S=t("isarray");o.ReadableState=i;var j=(t("events").EventEmitter,function(t,e){return t.listeners(e).length}),E=t("./internal/streams/stream"),T=t("safe-buffer").Buffer,P=r.Uint8Array||function(){},C=t("core-util-is");C.inherits=t("inherits");var A=t("util"),k=void 0;k=A&&A.debuglog?A.debuglog("stream"):function(){};var D,I=t("./internal/streams/BufferList"),M=t("./internal/streams/destroy");C.inherits(o,E);var R=["error","close","destroy","pause","resume"];Object.defineProperty(o.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),o.prototype.destroy=M.destroy,o.prototype._undestroy=M.undestroy,o.prototype._destroy=function(t,e){this.push(null),e(t)},o.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=T.from(t,e),e=""),n=!0),s(this,t,e,!1,n)},o.prototype.unshift=function(t){return s(this,t,null,!0,!1)},o.prototype.isPaused=function(){return!1===this._readableState.flowing},o.prototype.setEncoding=function(e){return D||(D=t("string_decoder/").StringDecoder),this._readableState.decoder=new D(e),this._readableState.encoding=e,this};var L=8388608;o.prototype.read=function(t){k("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return k("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?y(this):u(this),null;if(0===(t=l(t,e))&&e.ended)return 0===e.length&&y(this),null;var r,i=e.needReadable;return k("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&k("length less than watermark",i=!0),e.ended||e.reading?k("reading or ended",i=!1):i&&(k("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=l(n,e))),null===(r=t>0?v(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&y(this)),null!==r&&this.emit("data",r),r},o.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},o.prototype.pipe=function(t,e){function r(t,e){k("onunpipe"),t===h&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,o())}function i(){k("onend"),t.end()}function o(){k("cleanup"),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("drain",f),t.removeListener("error",a),t.removeListener("unpipe",r),h.removeListener("end",i),h.removeListener("end",u),h.removeListener("data",s),g=!0,!d.awaitDrain||t._writableState&&!t._writableState.needDrain||f()}function s(e){k("ondata"),v=!1,!1!==t.write(e)||v||((1===d.pipesCount&&d.pipes===t||d.pipesCount>1&&-1!==w(d.pipes,t))&&!g&&(k("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,v=!0),h.pause())}function a(e){k("onerror",e),u(),t.removeListener("error",a),0===j(t,"error")&&t.emit("error",e)}function c(){t.removeListener("finish",l),u()}function l(){k("onfinish"),t.removeListener("close",c),u()}function u(){k("unpipe"),h.unpipe(t)}var h=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=t;break;case 1:d.pipes=[d.pipes,t];break;default:d.pipes.push(t)}d.pipesCount+=1,k("pipe count=%d opts=%j",d.pipesCount,e);var p=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr?i:u;d.endEmitted?x.nextTick(p):h.once("end",p),t.on("unpipe",r);var f=function(t){return function(){var e=t._readableState;k("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&j(t,"data")&&(e.flowing=!0,m(t))}}(h);t.on("drain",f);var g=!1,v=!1;return h.on("data",s),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?S(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",a),t.once("close",c),t.once("finish",l),t.emit("pipe",h),d.flowing||(k("pipe resume"),h.resume()),t},o.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=w(e.pipes,t);return-1===s?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},o.prototype.on=function(t,e){var n=E.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&u(this):x.nextTick(f,this))}return n},o.prototype.addListener=o.prototype.on,o.prototype.resume=function(){var t=this._readableState;return t.flowing||(k("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,x.nextTick(g,t,e))}(this,t)),this},o.prototype.pause=function(){return k("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(k("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(k("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){k("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||!(n.objectMode||i&&i.length)||e.push(i)||(r=!0,t.pause())})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<R.length;o++)t.on(R[o],this.emit.bind(this,R[o]));return this._read=function(e){k("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),o._fromList=v}).call(this,t("_process"),void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":177,"./internal/streams/BufferList":182,"./internal/streams/destroy":183,"./internal/streams/stream":184,_process:171,"babel-runtime/core-js/object/get-prototype-of":21,"core-util-is":150,events:156,inherits:160,isarray:164,"process-nextick-args":170,"safe-buffer":191,"string_decoder/":198,util:35}],180:[function(t,e,n){function r(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function i(t){if(!(this instanceof i))return new i(t);a.call(this,t),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",o)}function o(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){s(t,e,n)})):s(this,null,null)}function s(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}e.exports=i;var a=t("./_stream_duplex"),c=t("core-util-is");c.inherits=t("inherits"),c.inherits(i,a),i.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},i.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},i.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},i.prototype._destroy=function(t,e){var n=this;a.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},{"./_stream_duplex":177,"core-util-is":150,inherits:160}],181:[function(t,e,r){(function(n,r){function i(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}function s(){}function a(e,n){_=_||t("./_stream_duplex"),e=e||{};var r=n instanceof _;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,s=e.writableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(w.nextTick(i,r),w.nextTick(g,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),g(t,e))}(t,n,r,e,i);else{var o=p(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||d(t,n),r?x(h,t,n,o,i):h(t,n,o,i)}}(n,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function c(e){if(_=_||t("./_stream_duplex"),!(S.call(c,this)||this instanceof _))return new c(e);this._writableState=new a(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),E.call(this)}function l(t,e,n,r,i,o){if(!n){var s=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=T.from(e,n)),e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else u(t,e,!1,a,r,i,o);return c}function u(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function h(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),g(t,e)}function d(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),s=e.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)i[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;i.allBuffers=c,u(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,h=n.encoding,d=n.callback;if(u(t,e,!1,e.objectMode?1:l.length,l,h,d),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function p(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function f(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),g(t,e)}))}function g(t,e){var n=p(e);return n&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,w.nextTick(f,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}var m=i(t("babel-runtime/core-js/object/define-property")),v=i(t("babel-runtime/core-js/symbol/has-instance")),y=i(t("babel-runtime/core-js/symbol")),b=i(t("babel-runtime/core-js/set-immediate")),w=t("process-nextick-args");e.exports=c;var _,x=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?b.default:w.nextTick;c.WritableState=a;var O=t("core-util-is");O.inherits=t("inherits");var S,j={deprecate:t("util-deprecate")},E=t("./internal/streams/stream"),T=t("safe-buffer").Buffer,P=r.Uint8Array||function(){},C=t("./internal/streams/destroy");O.inherits(c,E),a.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(a.prototype,"buffer",{get:j.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof y.default&&v.default&&"function"==typeof Function.prototype[v.default]?(S=Function.prototype[v.default],(0,m.default)(c,v.default,{value:function(t){return!!S.call(this,t)||this===c&&t&&t._writableState instanceof a}})):S=function(t){return t instanceof this},c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},c.prototype.write=function(t,e,n){var r=this._writableState,i=!1,o=!r.objectMode&&function(t){return T.isBuffer(t)||t instanceof P}(t);return o&&!T.isBuffer(t)&&(t=function(t){return T.from(t)}(t)),"function"==typeof e&&(n=e,e=null),o?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=s),r.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),w.nextTick(e,n)}(this,n):(o||function(t,e,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),w.nextTick(r,o),i=!1),i}(this,r,t,n))&&(r.pendingcb++,i=l(this,r,o,t,e,n)),i},c.prototype.cork=function(){this._writableState.corked++},c.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||d(this,t))},c.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),c.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},c.prototype._writev=null,c.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,g(t,e),n&&(e.finished?w.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),c.prototype.destroy=C.destroy,c.prototype._undestroy=C.undestroy,c.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,t("_process"),void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":177,"./internal/streams/destroy":183,"./internal/streams/stream":184,_process:171,"babel-runtime/core-js/object/define-property":19,"babel-runtime/core-js/set-immediate":24,"babel-runtime/core-js/symbol":26,"babel-runtime/core-js/symbol/has-instance":27,"core-util-is":150,inherits:160,"process-nextick-args":170,"safe-buffer":191,"util-deprecate":203}],182:[function(t,e,n){function r(t,e,n){t.copy(e,n)}var i=t("safe-buffer").Buffer,o=t("util");e.exports=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e=i.allocUnsafe(t>>>0),n=this.head,o=0;n;)r(n.data,e,o),o+=n.data.length,n=n.next;return e},t}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var t=o.inspect({length:this.length});return this.constructor.name+" "+t})},{"safe-buffer":191,util:35}],183:[function(t,e,n){function r(t,e){t.emit("error",e)}var i=t("process-nextick-args");e.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(i.nextTick(r,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":170}],184:[function(t,e,n){e.exports=t("events").EventEmitter},{events:156}],185:[function(t,e,n){e.exports=t("./readable").PassThrough},{"./readable":186}],186:[function(t,e,n){(n=e.exports=t("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":177,"./lib/_stream_passthrough.js":178,"./lib/_stream_readable.js":179,"./lib/_stream_transform.js":180,"./lib/_stream_writable.js":181}],187:[function(t,e,n){e.exports=t("./readable").Transform},{"./readable":186}],188:[function(t,e,n){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":181}],189:[function(t,e,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=t("./runtime"),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},{"./runtime":190}],190:[function(t,e,n){!function(t){function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,s=Object.create(o.prototype),a=new f(r||[]);return s._invoke=u(t,n,a),s}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function a(){}function c(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function l(t){function e(n,i,o,a){var c=r(t[n],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==(void 0===u?"undefined":s(u))&&b.call(u,"__await")?Promise.resolve(u.__await).then((function(t){e("next",t,o,a)}),(function(t){e("throw",t,o,a)})):Promise.resolve(u).then((function(t){l.value=t,o(l)}),a)}a(c.arg)}var n;this._invoke=function(t,r){function i(){return new Promise((function(n,i){e(t,r,n,i)}))}return n=n?n.then(i,i):i()}}function u(t,e,n){var i=E;return function(o,s){if(i===P)throw new Error("Generator is already running");if(i===C){if("throw"===o)throw s;return m()}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var c=h(a,n);if(c){if(c===A)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===E)throw i=C,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=P;var l=r(t,e,n);if("normal"===l.type){if(i=n.done?C:T,l.arg===A)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=C,n.method="throw",n.arg=l.arg)}}}function h(t,e){var n=t.iterator[e.method];if(n===v){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=v,h(t,e),"throw"===e.method))return A;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,A;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=v),e.delegate=null,A):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,A)}function d(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function p(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function f(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(d,this),this.reset(!0)}function g(t){if(t){var e=t[_];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(b.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=v,e.done=!0,e};return r.next=r}}return{next:m}}function m(){return{value:v,done:!0}}var v,y=Object.prototype,b=y.hasOwnProperty,w="function"==typeof Symbol?Symbol:{},_=w.iterator||"@@iterator",x=w.asyncIterator||"@@asyncIterator",O=w.toStringTag||"@@toStringTag",S="object"==(void 0===e?"undefined":s(e)),j=t.regeneratorRuntime;if(j)S&&(e.exports=j);else{(j=t.regeneratorRuntime=S?e.exports:{}).wrap=n;var E="suspendedStart",T="suspendedYield",P="executing",C="completed",A={},k={};k[_]=function(){return this};var D=Object.getPrototypeOf,I=D&&D(D(g([])));I&&I!==y&&b.call(I,_)&&(k=I);var M=a.prototype=i.prototype=Object.create(k);o.prototype=M.constructor=a,a.constructor=o,a[O]=o.displayName="GeneratorFunction",j.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},j.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,O in t||(t[O]="GeneratorFunction")),t.prototype=Object.create(M),t},j.awrap=function(t){return{__await:t}},c(l.prototype),l.prototype[x]=function(){return this},j.AsyncIterator=l,j.async=function(t,e,r,i){var o=new l(n(t,e,r,i));return j.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},c(M),M[O]="Generator",M[_]=function(){return this},M.toString=function(){return"[object Generator]"},j.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},j.values=g,f.prototype={constructor:f,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(p),!t)for(var e in this)"t"===e.charAt(0)&&b.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=v)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=v),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var s=b.call(i,"catchLoc"),a=b.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&b.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),A},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),p(n),A}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;p(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:g(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=v),A}}}}(function(){return this}()||Function("return this")())},{}],191:[function(t,e,n){function r(t,e){for(var n in t)e[n]=t[n]}function i(t,e,n){return s(t,e,n)}var o=t("buffer"),s=o.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=o:(r(o,n),n.Buffer=i),r(s,i),i.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return s(t,e,n)},i.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=s(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return s(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},{buffer:37}],192:[function(t,e,n){(function(e){function r(t){return t&&t.__esModule?t:{default:t}}var i=r(t("babel-runtime/core-js/string/from-code-point")),o=r(t("babel-runtime/core-js/json/stringify")),s=r(t("babel-runtime/helpers/typeof")),a=r(t("babel-runtime/core-js/object/define-property")),c=r(t("babel-runtime/core-js/object/keys")),l=r(t("babel-runtime/core-js/object/create"));!function(n){function r(t,e){if(!(this instanceof r))return new r(t,e);var i=this;(function(t){for(var e=0,n=I.length;e<n;e++)t[I[e]]=""})(i),i.q=i.c="",i.bufferCheckPosition=n.MAX_BUFFER_LENGTH,i.opt=e||{},i.opt.lowercase=i.opt.lowercase||i.opt.lowercasetags,i.looseCase=i.opt.lowercase?"toLowerCase":"toUpperCase",i.tags=[],i.closed=i.closedRoot=i.sawRoot=!1,i.tag=i.error=null,i.strict=!!t,i.noscript=!(!t&&!i.opt.noscript),i.state=G.BEGIN,i.strictEntities=i.opt.strictEntities,i.ENTITIES=i.strictEntities?(0,l.default)(n.XML_ENTITIES):(0,l.default)(n.ENTITIES),i.attribList=[],i.opt.xmlns&&(i.ns=(0,l.default)(B)),i.trackPosition=!1!==i.opt.position,i.trackPosition&&(i.position=i.line=i.column=0),v(i,"onready")}function u(t){for(var e=Math.max(n.MAX_BUFFER_LENGTH,10),r=0,i=0,o=I.length;i<o;i++){var s=t[I[i]].length;if(s>e)switch(I[i]){case"textNode":b(t);break;case"cdata":y(t,"oncdata",t.cdata),t.cdata="";break;case"script":y(t,"onscript",t.script),t.script="";break;default:_(t,"Max buffer length exceeded: "+I[i])}r=Math.max(r,s)}var a=n.MAX_BUFFER_LENGTH-r;t.bufferCheckPosition=a+t.position}function h(t,e){if(!(this instanceof h))return new h(t,e);D.apply(this),this._parser=new r(t,e),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(t){n.emit("error",t),n._parser.error=null},this._decoder=null,M.forEach((function(t){(0,a.default)(n,"on"+t,{get:function(){return n._parser["on"+t]},set:function(e){if(!e)return n.removeAllListeners(t),n._parser["on"+t]=e,e;n.on(t,e)},enumerable:!0,configurable:!1})}))}function d(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function p(t){return'"'===t||"'"===t}function f(t){return">"===t||d(t)}function g(t,e){return t.test(e)}function m(t,e){return!g(t,e)}function v(t,e,n){t[e]&&t[e](n)}function y(t,e,n){t.textNode&&b(t),v(t,e,n)}function b(t){t.textNode=w(t.opt,t.textNode),t.textNode&&v(t,"ontext",t.textNode),t.textNode=""}function w(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function _(t,e){return b(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,v(t,"onerror",e),t}function x(t){return t.sawRoot&&!t.closedRoot&&O(t,"Unclosed root tag"),t.state!==G.BEGIN&&t.state!==G.BEGIN_WHITESPACE&&t.state!==G.TEXT&&_(t,"Unexpected end"),b(t),t.c="",t.closed=!0,v(t,"onend"),r.call(t,t.strict,t.opt),t}function O(t,e){if("object"!==(void 0===t?"undefined":(0,s.default)(t))||!(t instanceof r))throw new Error("bad call to strictFail");t.strict&&_(t,e)}function S(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0,y(t,"onopentagstart",n)}function j(t,e){var n=t.indexOf(":")<0?["",t]:t.split(":"),r=n[0],i=n[1];return e&&"xmlns"===t&&(r="xmlns",i=""),{prefix:r,local:i}}function E(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))t.attribName=t.attribValue="";else{if(t.opt.xmlns){var e=j(t.attribName,!0),n=e.prefix,r=e.local;if("xmlns"===n)if("xml"===r&&t.attribValue!==N)O(t,"xml: prefix must be bound to "+N+"\nActual: "+t.attribValue);else if("xmlns"===r&&t.attribValue!==F)O(t,"xmlns: prefix must be bound to "+F+"\nActual: "+t.attribValue);else{var i=t.tag,o=t.tags[t.tags.length-1]||t;i.ns===o.ns&&(i.ns=(0,l.default)(o.ns)),i.ns[r]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,y(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}}function T(t,e){if(t.opt.xmlns){var n=t.tag,r=j(t.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(O(t,"Unbound namespace prefix: "+(0,o.default)(t.tagName)),n.uri=r.prefix);var i=t.tags[t.tags.length-1]||t;n.ns&&i.ns!==n.ns&&(0,c.default)(n.ns).forEach((function(e){y(t,"onopennamespace",{prefix:e,uri:n.ns[e]})}));for(var s=0,a=t.attribList.length;s<a;s++){var l=t.attribList[s],u=l[0],h=l[1],d=j(u,!0),p=d.prefix,f=d.local,g=""===p?"":n.ns[p]||"",m={name:u,value:h,prefix:p,local:f,uri:g};p&&"xmlns"!==p&&!g&&(O(t,"Unbound namespace prefix: "+(0,o.default)(p)),m.uri=p),t.tag.attributes[u]=m,y(t,"onattribute",m)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),y(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=G.TEXT:t.state=G.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function P(t){if(!t.tagName)return O(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=G.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=G.SCRIPT);y(t,"onscript",t.script),t.script=""}var e=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var r=n;e--&&t.tags[e].name!==r;)O(t,"Unexpected close tag");if(e<0)return O(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=G.TEXT);t.tagName=n;for(var i=t.tags.length;i-- >e;){var o=t.tag=t.tags.pop();t.tagName=t.tag.name,y(t,"onclosetag",t.tagName);var s={};for(var a in o.ns)s[a]=o.ns[a];var l=t.tags[t.tags.length-1]||t;t.opt.xmlns&&o.ns!==l.ns&&(0,c.default)(o.ns).forEach((function(e){var n=o.ns[e];y(t,"onclosenamespace",{prefix:e,uri:n})}))}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=G.TEXT}function C(t){var e,n=t.entity,r=n.toLowerCase(),o="";return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[r]?t.ENTITIES[r]:("#"===(n=r).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),o=(e=parseInt(n,16)).toString(16)):(n=n.slice(1),o=(e=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(e)||o.toLowerCase()!==n?(O(t,"Invalid character entity"),"&"+t.entity+";"):(0,i.default)(e))}function A(t,e){"<"===e?(t.state=G.OPEN_WAKA,t.startTagPosition=t.position):d(e)||(O(t,"Non-whitespace before first tag."),t.textNode=e,t.state=G.TEXT)}function k(t,e){var n="";return e<t.length&&(n=t.charAt(e)),n}n.parser=function(t,e){return new r(t,e)},n.SAXParser=r,n.SAXStream=h,n.createStream=function(t,e){return new h(t,e)},n.MAX_BUFFER_LENGTH=65536;var D,I=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];n.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],l.default||(Object.create=function(t){function e(){}return e.prototype=t,new e}),c.default||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),r.prototype={end:function(){x(this)},write:function(t){var e=this;if(this.error)throw this.error;if(e.closed)return _(e,"Cannot write after close. Assign an onready handler.");if(null===t)return x(e);"object"===(void 0===t?"undefined":(0,s.default)(t))&&(t=t.toString());for(var n=0,r="";r=k(t,n++),e.c=r,r;)switch(e.trackPosition&&(e.position++,"\n"===r?(e.line++,e.column=0):e.column++),e.state){case G.BEGIN:if(e.state=G.BEGIN_WHITESPACE,"\ufeff"===r)continue;A(e,r);continue;case G.BEGIN_WHITESPACE:A(e,r);continue;case G.TEXT:if(e.sawRoot&&!e.closedRoot){for(var i=n-1;r&&"<"!==r&&"&"!==r;)(r=k(t,n++))&&e.trackPosition&&(e.position++,"\n"===r?(e.line++,e.column=0):e.column++);e.textNode+=t.substring(i,n-1)}"<"!==r||e.sawRoot&&e.closedRoot&&!e.strict?(d(r)||e.sawRoot&&!e.closedRoot||O(e,"Text data outside of root node."),"&"===r?e.state=G.TEXT_ENTITY:e.textNode+=r):(e.state=G.OPEN_WAKA,e.startTagPosition=e.position);continue;case G.SCRIPT:"<"===r?e.state=G.SCRIPT_ENDING:e.script+=r;continue;case G.SCRIPT_ENDING:"/"===r?e.state=G.CLOSE_TAG:(e.script+="<"+r,e.state=G.SCRIPT);continue;case G.OPEN_WAKA:if("!"===r)e.state=G.SGML_DECL,e.sgmlDecl="";else if(d(r));else if(g(U,r))e.state=G.OPEN_TAG,e.tagName=r;else if("/"===r)e.state=G.CLOSE_TAG,e.tagName="";else if("?"===r)e.state=G.PROC_INST,e.procInstName=e.procInstBody="";else{if(O(e,"Unencoded <"),e.startTagPosition+1<e.position){var o=e.position-e.startTagPosition;r=new Array(o).join(" ")+r}e.textNode+="<"+r,e.state=G.TEXT}continue;case G.SGML_DECL:(e.sgmlDecl+r).toUpperCase()===R?(y(e,"onopencdata"),e.state=G.CDATA,e.sgmlDecl="",e.cdata=""):e.sgmlDecl+r==="--"?(e.state=G.COMMENT,e.comment="",e.sgmlDecl=""):(e.sgmlDecl+r).toUpperCase()===L?(e.state=G.DOCTYPE,(e.doctype||e.sawRoot)&&O(e,"Inappropriately located doctype declaration"),e.doctype="",e.sgmlDecl=""):">"===r?(y(e,"onsgmldeclaration",e.sgmlDecl),e.sgmlDecl="",e.state=G.TEXT):p(r)?(e.state=G.SGML_DECL_QUOTED,e.sgmlDecl+=r):e.sgmlDecl+=r;continue;case G.SGML_DECL_QUOTED:r===e.q&&(e.state=G.SGML_DECL,e.q=""),e.sgmlDecl+=r;continue;case G.DOCTYPE:">"===r?(e.state=G.TEXT,y(e,"ondoctype",e.doctype),e.doctype=!0):(e.doctype+=r,"["===r?e.state=G.DOCTYPE_DTD:p(r)&&(e.state=G.DOCTYPE_QUOTED,e.q=r));continue;case G.DOCTYPE_QUOTED:e.doctype+=r,r===e.q&&(e.q="",e.state=G.DOCTYPE);continue;case G.DOCTYPE_DTD:e.doctype+=r,"]"===r?e.state=G.DOCTYPE:p(r)&&(e.state=G.DOCTYPE_DTD_QUOTED,e.q=r);continue;case G.DOCTYPE_DTD_QUOTED:e.doctype+=r,r===e.q&&(e.state=G.DOCTYPE_DTD,e.q="");continue;case G.COMMENT:"-"===r?e.state=G.COMMENT_ENDING:e.comment+=r;continue;case G.COMMENT_ENDING:"-"===r?(e.state=G.COMMENT_ENDED,e.comment=w(e.opt,e.comment),e.comment&&y(e,"oncomment",e.comment),e.comment=""):(e.comment+="-"+r,e.state=G.COMMENT);continue;case G.COMMENT_ENDED:">"!==r?(O(e,"Malformed comment"),e.comment+="--"+r,e.state=G.COMMENT):e.state=G.TEXT;continue;case G.CDATA:"]"===r?e.state=G.CDATA_ENDING:e.cdata+=r;continue;case G.CDATA_ENDING:"]"===r?e.state=G.CDATA_ENDING_2:(e.cdata+="]"+r,e.state=G.CDATA);continue;case G.CDATA_ENDING_2:">"===r?(e.cdata&&y(e,"oncdata",e.cdata),y(e,"onclosecdata"),e.cdata="",e.state=G.TEXT):"]"===r?e.cdata+="]":(e.cdata+="]]"+r,e.state=G.CDATA);continue;case G.PROC_INST:"?"===r?e.state=G.PROC_INST_ENDING:d(r)?e.state=G.PROC_INST_BODY:e.procInstName+=r;continue;case G.PROC_INST_BODY:if(!e.procInstBody&&d(r))continue;"?"===r?e.state=G.PROC_INST_ENDING:e.procInstBody+=r;continue;case G.PROC_INST_ENDING:">"===r?(y(e,"onprocessinginstruction",{name:e.procInstName,body:e.procInstBody}),e.procInstName=e.procInstBody="",e.state=G.TEXT):(e.procInstBody+="?"+r,e.state=G.PROC_INST_BODY);continue;case G.OPEN_TAG:g(z,r)?e.tagName+=r:(S(e),">"===r?T(e):"/"===r?e.state=G.OPEN_TAG_SLASH:(d(r)||O(e,"Invalid character in tag name"),e.state=G.ATTRIB));continue;case G.OPEN_TAG_SLASH:">"===r?(T(e,!0),P(e)):(O(e,"Forward-slash in opening tag not followed by >"),e.state=G.ATTRIB);continue;case G.ATTRIB:if(d(r))continue;">"===r?T(e):"/"===r?e.state=G.OPEN_TAG_SLASH:g(U,r)?(e.attribName=r,e.attribValue="",e.state=G.ATTRIB_NAME):O(e,"Invalid attribute name");continue;case G.ATTRIB_NAME:"="===r?e.state=G.ATTRIB_VALUE:">"===r?(O(e,"Attribute without value"),e.attribValue=e.attribName,E(e),T(e)):d(r)?e.state=G.ATTRIB_NAME_SAW_WHITE:g(z,r)?e.attribName+=r:O(e,"Invalid attribute name");continue;case G.ATTRIB_NAME_SAW_WHITE:if("="===r)e.state=G.ATTRIB_VALUE;else{if(d(r))continue;O(e,"Attribute without value"),e.tag.attributes[e.attribName]="",e.attribValue="",y(e,"onattribute",{name:e.attribName,value:""}),e.attribName="",">"===r?T(e):g(U,r)?(e.attribName=r,e.state=G.ATTRIB_NAME):(O(e,"Invalid attribute name"),e.state=G.ATTRIB)}continue;case G.ATTRIB_VALUE:if(d(r))continue;p(r)?(e.q=r,e.state=G.ATTRIB_VALUE_QUOTED):(O(e,"Unquoted attribute value"),e.state=G.ATTRIB_VALUE_UNQUOTED,e.attribValue=r);continue;case G.ATTRIB_VALUE_QUOTED:if(r!==e.q){"&"===r?e.state=G.ATTRIB_VALUE_ENTITY_Q:e.attribValue+=r;continue}E(e),e.q="",e.state=G.ATTRIB_VALUE_CLOSED;continue;case G.ATTRIB_VALUE_CLOSED:d(r)?e.state=G.ATTRIB:">"===r?T(e):"/"===r?e.state=G.OPEN_TAG_SLASH:g(U,r)?(O(e,"No whitespace between attributes"),e.attribName=r,e.attribValue="",e.state=G.ATTRIB_NAME):O(e,"Invalid attribute name");continue;case G.ATTRIB_VALUE_UNQUOTED:if(!f(r)){"&"===r?e.state=G.ATTRIB_VALUE_ENTITY_U:e.attribValue+=r;continue}E(e),">"===r?T(e):e.state=G.ATTRIB;continue;case G.CLOSE_TAG:if(e.tagName)">"===r?P(e):g(z,r)?e.tagName+=r:e.script?(e.script+="</"+e.tagName,e.tagName="",e.state=G.SCRIPT):(d(r)||O(e,"Invalid tagname in closing tag"),e.state=G.CLOSE_TAG_SAW_WHITE);else{if(d(r))continue;m(U,r)?e.script?(e.script+="</"+r,e.state=G.SCRIPT):O(e,"Invalid tagname in closing tag."):e.tagName=r}continue;case G.CLOSE_TAG_SAW_WHITE:if(d(r))continue;">"===r?P(e):O(e,"Invalid characters in closing tag");continue;case G.TEXT_ENTITY:case G.ATTRIB_VALUE_ENTITY_Q:case G.ATTRIB_VALUE_ENTITY_U:var a,c;switch(e.state){case G.TEXT_ENTITY:a=G.TEXT,c="textNode";break;case G.ATTRIB_VALUE_ENTITY_Q:a=G.ATTRIB_VALUE_QUOTED,c="attribValue";break;case G.ATTRIB_VALUE_ENTITY_U:a=G.ATTRIB_VALUE_UNQUOTED,c="attribValue"}";"===r?(e[c]+=C(e),e.entity="",e.state=a):g(e.entity.length?Y:X,r)?e.entity+=r:(O(e,"Invalid character in entity name"),e[c]+="&"+e.entity+r,e.entity="",e.state=a);continue;default:throw new Error(e,"Unknown state: "+e.state)}return e.position>=e.bufferCheckPosition&&u(e),e},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function(t){b(t),""!==t.cdata&&(y(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(y(t,"onscript",t.script),t.script="")}(this)}};try{D=t("stream").Stream}catch(t){D=function(){}}var M=n.EVENTS.filter((function(t){return"error"!==t&&"end"!==t}));h.prototype=(0,l.default)(D.prototype,{constructor:{value:h}}),h.prototype.write=function(n){if("function"==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(n)){if(!this._decoder){var r=t("string_decoder").StringDecoder;this._decoder=new r("utf8")}n=this._decoder.write(n)}return this._parser.write(n.toString()),this.emit("data",n),!0},h.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},h.prototype.on=function(t,e){var n=this;return n._parser["on"+t]||-1===M.indexOf(t)||(n._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),n.emit.apply(n,e)}),D.prototype.on.call(n,t,e)};var R="[CDATA[",L="DOCTYPE",N="http://www.w3.org/XML/1998/namespace",F="http://www.w3.org/2000/xmlns/",B={xml:N,xmlns:F},U=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,z=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,X=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,G=0;for(var V in n.STATE={BEGIN:G++,BEGIN_WHITESPACE:G++,TEXT:G++,TEXT_ENTITY:G++,OPEN_WAKA:G++,SGML_DECL:G++,SGML_DECL_QUOTED:G++,DOCTYPE:G++,DOCTYPE_QUOTED:G++,DOCTYPE_DTD:G++,DOCTYPE_DTD_QUOTED:G++,COMMENT_STARTING:G++,COMMENT:G++,COMMENT_ENDING:G++,COMMENT_ENDED:G++,CDATA:G++,CDATA_ENDING:G++,CDATA_ENDING_2:G++,PROC_INST:G++,PROC_INST_BODY:G++,PROC_INST_ENDING:G++,OPEN_TAG:G++,OPEN_TAG_SLASH:G++,ATTRIB:G++,ATTRIB_NAME:G++,ATTRIB_NAME_SAW_WHITE:G++,ATTRIB_VALUE:G++,ATTRIB_VALUE_QUOTED:G++,ATTRIB_VALUE_CLOSED:G++,ATTRIB_VALUE_UNQUOTED:G++,ATTRIB_VALUE_ENTITY_Q:G++,ATTRIB_VALUE_ENTITY_U:G++,CLOSE_TAG:G++,CLOSE_TAG_SAW_WHITE:G++,SCRIPT:G++,SCRIPT_ENDING:G++},n.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},n.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},(0,c.default)(n.ENTITIES).forEach((function(t){var e=n.ENTITIES[t],r="number"==typeof e?String.fromCharCode(e):e;n.ENTITIES[t]=r})),n.STATE)n.STATE[n.STATE[V]]=V;G=n.STATE,i.default||function(){var t=String.fromCharCode,e=Math.floor,n=function(){var n,r,i=[],o=-1,s=arguments.length;if(!s)return"";for(var a="";++o<s;){var c=Number(arguments[o]);if(!isFinite(c)||c<0||c>1114111||e(c)!==c)throw RangeError("Invalid code point: "+c);c<=65535?i.push(c):(n=55296+((c-=65536)>>10),r=c%1024+56320,i.push(n,r)),(o+1===s||i.length>16384)&&(a+=t.apply(null,i),i.length=0)}return a};a.default?Object.defineProperty(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()}(void 0===n?(void 0).sax={}:n)}).call(this,t("buffer").Buffer)},{"babel-runtime/core-js/json/stringify":16,"babel-runtime/core-js/object/create":18,"babel-runtime/core-js/object/define-property":19,"babel-runtime/core-js/object/keys":22,"babel-runtime/core-js/string/from-code-point":25,"babel-runtime/helpers/typeof":31,buffer:37,stream:193,string_decoder:36}],193:[function(t,e,n){function r(){i.call(this)}e.exports=r;var i=t("events").EventEmitter;t("inherits")(r,i),r.Readable=t("readable-stream/readable.js"),r.Writable=t("readable-stream/writable.js"),r.Duplex=t("readable-stream/duplex.js"),r.Transform=t("readable-stream/transform.js"),r.PassThrough=t("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&l.pause&&l.pause()}function r(){l.readable&&l.resume&&l.resume()}function o(){u||(u=!0,t.end())}function s(){u||(u=!0,"function"==typeof t.destroy&&t.destroy())}function a(t){if(c(),0===i.listenerCount(this,"error"))throw t}function c(){l.removeListener("data",n),t.removeListener("drain",r),l.removeListener("end",o),l.removeListener("close",s),l.removeListener("error",a),t.removeListener("error",a),l.removeListener("end",c),l.removeListener("close",c),t.removeListener("close",c)}var l=this;l.on("data",n),t.on("drain",r),t._isStdio||e&&!1===e.end||(l.on("end",o),l.on("close",s));var u=!1;return l.on("error",a),t.on("error",a),l.on("end",c),l.on("close",c),t.on("close",c),t.emit("pipe",l),t}},{events:156,inherits:160,"readable-stream/duplex.js":176,"readable-stream/passthrough.js":185,"readable-stream/readable.js":186,"readable-stream/transform.js":187,"readable-stream/writable.js":188}],194:[function(t,e,r){(function(e){var n=t("./lib/request"),i=t("./lib/response"),o=t("xtend"),s=t("builtin-status-codes"),a=t("url"),c=r;c.request=function(t,r){t="string"==typeof t?a.parse(t):o(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",s=t.protocol||i,c=t.hostname||t.host,l=t.port,u=t.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),t.url=(c?s+"//"+c:"")+(l?":"+l:"")+u,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new n(t);return r&&h.on("response",r),h},c.get=function(t,e){var n=c.request(t,e);return n.end(),n},c.ClientRequest=n,c.IncomingMessage=i.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=s,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/request":196,"./lib/response":197,"builtin-status-codes":38,url:201,xtend:234}],195:[function(t,e,r){(function(t){function e(){if(void 0!==o)return o;if(t.XMLHttpRequest){o=new t.XMLHttpRequest;try{o.open("GET",t.XDomainRequest?"/":"https://example.com")}catch(t){o=null}}else o=null;return o}function n(t){var n=e();if(!n)return!1;try{return n.responseType=t,n.responseType===t}catch(t){}return!1}function i(t){return"function"==typeof t}r.fetch=i(t.fetch)&&i(t.ReadableStream),r.writableStream=i(t.WritableStream),r.abortController=i(t.AbortController),r.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),r.blobConstructor=!0}catch(t){}var o,s=void 0!==t.ArrayBuffer,a=s&&i(t.ArrayBuffer.prototype.slice);r.arraybuffer=r.fetch||s&&n("arraybuffer"),r.msstream=!r.fetch&&a&&n("ms-stream"),r.mozchunkedarraybuffer=!r.fetch&&s&&n("moz-chunked-arraybuffer"),r.overrideMimeType=r.fetch||!!e()&&i(e().overrideMimeType),r.vbArray=i(t.VBArray),o=null}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],196:[function(t,e,r){(function(n,r,i){var o=function(t){return t&&t.__esModule?t:{default:t}}(t("babel-runtime/core-js/object/keys")),s=t("./capability"),a=t("inherits"),c=t("./response"),l=t("readable-stream"),u=t("to-arraybuffer"),h=c.IncomingMessage,d=c.readyStates,p=e.exports=function(t){var e=this;l.Writable.call(e),e._opts=t,e._body=[],e._headers={},t.auth&&e.setHeader("Authorization","Basic "+new i(t.auth).toString("base64")),(0,o.default)(t.headers).forEach((function(n){e.setHeader(n,t.headers[n])}));var n,r=!0;if("disable-fetch"===t.mode||"requestTimeout"in t&&!s.abortController)r=!1,n=!0;else if("prefer-streaming"===t.mode)n=!1;else if("allow-wrong-content-type"===t.mode)n=!s.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");n=!0}e._mode=function(t,e){return s.fetch&&e?"fetch":s.mozchunkedarraybuffer?"moz-chunked-arraybuffer":s.msstream?"ms-stream":s.arraybuffer&&t?"arraybuffer":s.vbArray&&t?"text:vbarray":"text"}(n,r),e._fetchTimer=null,e.on("finish",(function(){e._onFinish()}))};a(p,l.Writable),p.prototype.setHeader=function(t,e){var n=t.toLowerCase();-1===f.indexOf(n)&&(this._headers[n]={name:t,value:e})},p.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},p.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},p.prototype._onFinish=function(){var t=this;if(!t._destroyed){var e=t._opts,a=t._headers,c=null;"GET"!==e.method&&"HEAD"!==e.method&&(c=s.arraybuffer?u(i.concat(t._body)):s.blobConstructor?new r.Blob(t._body.map((function(t){return u(t)})),{type:(a["content-type"]||{}).value||""}):i.concat(t._body).toString());var l=[];if((0,o.default)(a).forEach((function(t){var e=a[t].name,n=a[t].value;Array.isArray(n)?n.forEach((function(t){l.push([e,t])})):l.push([e,n])})),"fetch"===t._mode){var h=null;if(s.abortController){var p=new AbortController;h=p.signal,t._fetchAbortController=p,"requestTimeout"in e&&0!==e.requestTimeout&&(t._fetchTimer=r.setTimeout((function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()}),e.requestTimeout))}r.fetch(t._opts.url,{method:t._opts.method,headers:l,body:c||void 0,mode:"cors",credentials:e.withCredentials?"include":"same-origin",signal:h}).then((function(e){t._fetchResponse=e,t._connect()}),(function(e){r.clearTimeout(t._fetchTimer),t._destroyed||t.emit("error",e)}))}else{var f=t._xhr=new r.XMLHttpRequest;try{f.open(t._opts.method,t._opts.url,!0)}catch(e){return void n.nextTick((function(){t.emit("error",e)}))}"responseType"in f&&(f.responseType=t._mode.split(":")[0]),"withCredentials"in f&&(f.withCredentials=!!e.withCredentials),"text"===t._mode&&"overrideMimeType"in f&&f.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in e&&(f.timeout=e.requestTimeout,f.ontimeout=function(){t.emit("requestTimeout")}),l.forEach((function(t){f.setRequestHeader(t[0],t[1])})),t._response=null,f.onreadystatechange=function(){switch(f.readyState){case d.LOADING:case d.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(f.onprogress=function(){t._onXHRProgress()}),f.onerror=function(){t._destroyed||t.emit("error",new Error("XHR error"))};try{f.send(c)}catch(e){return void n.nextTick((function(){t.emit("error",e)}))}}}},p.prototype._onXHRProgress=function(){var t=this;(function(t){try{var e=t.status;return null!==e&&0!==e}catch(t){return!1}})(t._xhr)&&!t._destroyed&&(t._response||t._connect(),t._response._onXHRProgress())},p.prototype._connect=function(){var t=this;t._destroyed||(t._response=new h(t._xhr,t._fetchResponse,t._mode,t._fetchTimer),t._response.on("error",(function(e){t.emit("error",e)})),t.emit("response",t._response))},p.prototype._write=function(t,e,n){this._body.push(t),n()},p.prototype.abort=p.prototype.destroy=function(){var t=this;t._destroyed=!0,r.clearTimeout(t._fetchTimer),t._response&&(t._response._destroyed=!0),t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort()},p.prototype.end=function(t,e,n){"function"==typeof t&&(n=t,t=void 0),l.Writable.prototype.end.call(this,t,e,n)},p.prototype.flushHeaders=function(){},p.prototype.setTimeout=function(){},p.prototype.setNoDelay=function(){},p.prototype.setSocketKeepAlive=function(){};var f=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this,t("_process"),void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"./capability":195,"./response":197,_process:171,"babel-runtime/core-js/object/keys":22,buffer:37,inherits:160,"readable-stream":186,"to-arraybuffer":200}],197:[function(t,e,r){(function(e,n,i){var o=function(t){return t&&t.__esModule?t:{default:t}}(t("babel-runtime/core-js/promise")),s=t("./capability"),a=t("inherits"),c=t("readable-stream"),l=r.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=r.IncomingMessage=function(t,r,a,l){var u=this;if(c.Readable.call(u),u._mode=a,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",(function(){e.nextTick((function(){u.emit("close")}))})),"fetch"===a){if(u._fetchResponse=r,u.url=r.url,u.statusCode=r.status,u.statusMessage=r.statusText,r.headers.forEach((function(t,e){u.headers[e.toLowerCase()]=t,u.rawHeaders.push(e,t)})),s.writableStream){var h=new WritableStream({write:function(t){return new o.default((function(e,n){u._destroyed?n():u.push(new i(t))?e():u._resumeFetch=e}))},close:function(){n.clearTimeout(l),u._destroyed||u.push(null)},abort:function(t){u._destroyed||u.emit("error",t)}});try{return void r.body.pipeTo(h).catch((function(t){n.clearTimeout(l),u._destroyed||u.emit("error",t)}))}catch(t){}}var d=r.body.getReader();!function t(){d.read().then((function(e){if(!u._destroyed){if(e.done)return n.clearTimeout(l),void u.push(null);u.push(new i(e.value)),t()}})).catch((function(t){n.clearTimeout(l),u._destroyed||u.emit("error",t)}))}()}else if(u._xhr=t,u._pos=0,u.url=t.responseURL,u.statusCode=t.status,u.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var n=e[1].toLowerCase();"set-cookie"===n?(void 0===u.headers[n]&&(u.headers[n]=[]),u.headers[n].push(e[2])):void 0!==u.headers[n]?u.headers[n]+=", "+e[2]:u.headers[n]=e[2],u.rawHeaders.push(e[1],e[2])}})),u._charset="x-user-defined",!s.overrideMimeType){var p=u.rawHeaders["mime-type"];if(p){var f=p.match(/;\s*charset=([^;])(;|$)/);f&&(u._charset=f[1].toLowerCase())}u._charset||(u._charset="utf-8")}};a(u,c.Readable),u.prototype._read=function(){var t=this._resumeFetch;t&&(this._resumeFetch=null,t())},u.prototype._onXHRProgress=function(){var t=this,e=t._xhr,r=null;switch(t._mode){case"text:vbarray":if(e.readyState!==l.DONE)break;try{r=new n.VBArray(e.responseBody).toArray()}catch(t){}if(null!==r){t.push(new i(r));break}case"text":try{r=e.responseText}catch(e){t._mode="text:vbarray";break}if(r.length>t._pos){var o=r.substr(t._pos);if("x-user-defined"===t._charset){for(var s=new i(o.length),a=0;a<o.length;a++)s[a]=255&o.charCodeAt(a);t.push(s)}else t.push(o,t._charset);t._pos=r.length}break;case"arraybuffer":if(e.readyState!==l.DONE||!e.response)break;r=e.response,t.push(new i(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=e.response,e.readyState!==l.LOADING||!r)break;t.push(new i(new Uint8Array(r)));break;case"ms-stream":if(r=e.response,e.readyState!==l.LOADING)break;var c=new n.MSStreamReader;c.onprogress=function(){c.result.byteLength>t._pos&&(t.push(new i(new Uint8Array(c.result.slice(t._pos)))),t._pos=c.result.byteLength)},c.onload=function(){t.push(null)},c.readAsArrayBuffer(r)}t._xhr.readyState===l.DONE&&"ms-stream"!==t._mode&&t.push(null)}}).call(this,t("_process"),void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"./capability":195,_process:171,"babel-runtime/core-js/promise":23,buffer:37,inherits:160,"readable-stream":186}],198:[function(t,e,n){function r(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(d.isEncoding===p||!p(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=s,this.end=a,e=4;break;case"utf8":this.fillLast=o,e=4;break;case"base64":this.text=c,this.end=l,e=3;break;default:return this.write=u,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(e)}function i(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function o(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function s(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function a(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function c(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function u(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}var d=t("safe-buffer").Buffer,p=d.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};n.StringDecoder=r,r.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},r.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},r.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var o=i(e[r]);return o>=0?(o>0&&(t.lastNeed=o-1),o):--r<n||-2===o?0:(o=i(e[r]))>=0?(o>0&&(t.lastNeed=o-2),o):--r<n||-2===o?0:(o=i(e[r]))>=0?(o>0&&(2===o?o=0:t.lastNeed=o-3),o):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{"safe-buffer":191}],199:[function(t,e,n){(function(e,r){function i(t,e){this._id=t,this._clearFn=e}var o=t("process/browser.js").nextTick,s=Function.prototype.apply,a=Array.prototype.slice,c={},l=0;n.setTimeout=function(){return new i(s.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new i(s.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=l++,r=!(arguments.length<2)&&a.call(arguments,1);return c[e]=!0,o((function(){c[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof r?r:function(t){delete c[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":171,timers:199}],200:[function(t,e,n){var r=t("buffer").Buffer;e.exports=function(t){if(t instanceof Uint8Array){if(0===t.byteOffset&&t.byteLength===t.buffer.byteLength)return t.buffer;if("function"==typeof t.buffer.slice)return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}if(r.isBuffer(t)){for(var e=new Uint8Array(t.length),n=t.length,i=0;i<n;i++)e[i]=t[i];return e.buffer}throw new Error("Argument must be a Buffer")}},{buffer:37}],201:[function(t,e,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&a.isObject(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}var o=t("punycode"),a=t("./util");n.parse=i,n.resolve=function(t,e){return i(t,!1,!0).resolve(e)},n.resolveObject=function(t,e){return t?i(t,!1,!0).resolveObject(e):e},n.format=function(t){return a.isString(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)},n.Url=r;var c=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),d=["'"].concat(h),p=["%","/","?",";","#"].concat(d),f=["/","?","#"],g=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=t("querystring");r.prototype.parse=function(t,e,n){if(!a.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+(void 0===t?"undefined":s(t)));var r=t.indexOf("?"),i=-1!==r&&r<t.indexOf("#")?"?":"#",l=t.split(i);l[0]=l[0].replace(/\\/g,"/");var h=t=l.join(i);if(h=h.trim(),!n&&1===t.split("#").length){var _=u.exec(h);if(_)return this.path=h,this.href=h,this.pathname=_[1],_[2]?(this.search=_[2],this.query=e?w.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=c.exec(h);if(x){var O=(x=x[0]).toLowerCase();this.protocol=O,h=h.substr(x.length)}if(n||x||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===h.substr(0,2);!S||x&&y[x]||(h=h.substr(2),this.slashes=!0)}if(!y[x]&&(S||x&&!b[x])){for(var j=-1,E=0;E<f.length;E++){-1!==(C=h.indexOf(f[E]))&&(-1===j||C<j)&&(j=C)}var T,P;-1!==(P=-1===j?h.lastIndexOf("@"):h.lastIndexOf("@",j))&&(T=h.slice(0,P),h=h.slice(P+1),this.auth=decodeURIComponent(T)),j=-1;for(E=0;E<p.length;E++){var C;-1!==(C=h.indexOf(p[E]))&&(-1===j||C<j)&&(j=C)}-1===j&&(j=h.length),this.host=h.slice(0,j),h=h.slice(j),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var k=this.hostname.split(/\./),D=(E=0,k.length);E<D;E++){var I=k[E];if(I&&!I.match(g)){for(var M="",R=0,L=I.length;R<L;R++)I.charCodeAt(R)>127?M+="x":M+=I[R];if(!M.match(g)){var N=k.slice(0,E),F=k.slice(E+1),B=I.match(m);B&&(N.push(B[1]),F.unshift(B[2])),F.length&&(h="/"+F.join(".")+h),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=o.toASCII(this.hostname));var U=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+U,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==h[0]&&(h="/"+h))}if(!v[O])for(E=0,D=d.length;E<D;E++){var X=d[E];if(-1!==h.indexOf(X)){var Y=encodeURIComponent(X);Y===X&&(Y=escape(X)),h=h.split(X).join(Y)}}var G=h.indexOf("#");-1!==G&&(this.hash=h.substr(G),h=h.slice(0,G));var V=h.indexOf("?");if(-1!==V?(this.search=h.substr(V),this.query=h.substr(V+1),e&&(this.query=w.parse(this.query)),h=h.slice(0,V)):e&&(this.search="",this.query={}),h&&(this.pathname=h),b[O]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var H=this.search||"";this.path=U+H}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(o=w.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||b[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+i+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+r},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(a.isString(t)){var e=new r;e.parse(t,!1,!0),t=e}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var c=Object.keys(t),l=0;l<c.length;l++){var u=c[l];"protocol"!==u&&(n[u]=t[u])}return b[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!b[t.protocol]){for(var h=Object.keys(t),d=0;d<h.length;d++){var p=h[d];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||y[t.protocol])n.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var g=n.pathname||"",m=n.search||"";n.path=g+m}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),w=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=w||v||n.host&&t.pathname,x=_,O=n.pathname&&n.pathname.split("/")||[],S=(f=t.pathname&&t.pathname.split("/")||[],n.protocol&&!b[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===O[0]?O[0]=n.host:O.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),_=_&&(""===f[0]||""===O[0])),w)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,O=f;else if(f.length)O||(O=[]),O.pop(),O=O.concat(f),n.search=t.search,n.query=t.query;else if(!a.isNullOrUndefined(t.search)){if(S)n.hostname=n.host=O.shift(),(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift());return n.search=t.search,n.query=t.query,a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!O.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var j=O.slice(-1)[0],E=(n.host||t.host||O.length>1)&&("."===j||".."===j)||""===j,T=0,P=O.length;P>=0;P--)"."===(j=O[P])?O.splice(P,1):".."===j?(O.splice(P,1),T++):T&&(O.splice(P,1),T--);if(!_&&!x)for(;T--;T)O.unshift("..");!_||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),E&&"/"!==O.join("/").substr(-1)&&O.push("");var C,A=""===O[0]||O[0]&&"/"===O[0].charAt(0);S&&(n.hostname=n.host=A?"":O.length?O.shift():"",(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift()));return(_=_||n.host&&O.length)&&!A&&O.unshift(""),O.length?n.pathname=O.join("/"):(n.pathname=null,n.path=null),a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=l.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":202,punycode:172,querystring:175}],202:[function(t,e,n){e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==(void 0===t?"undefined":s(t))&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],203:[function(t,e,r){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(t){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],204:[function(t,e,n){e.exports=function(t){return t&&"object"==(void 0===t?"undefined":s(t))&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],205:[function(t,e,r){(function(e,n){function i(t,e){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(e)?n.showHidden=e:e&&r._extend(n,e),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),c(n,t,n.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function a(t,e){return t}function c(t,e,n){if(t.customInspect&&e&&x(e.inspect)&&e.inspect!==r.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(n,t);return m(i)||(i=c(t,i,n)),i}var o=l(t,e);if(o)return o;var s=Object.keys(e),a=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),_(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(e);if(0===s.length){if(x(e)){var p=e.name?": "+e.name:"";return t.stylize("[Function"+p+"]","special")}if(y(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(w(e))return t.stylize(Date.prototype.toString.call(e),"date");if(_(e))return u(e)}var f,g="",v=!1,b=["{","}"];return d(e)&&(v=!0,b=["[","]"]),x(e)&&(g=" [Function"+(e.name?": "+e.name:"")+"]"),y(e)&&(g=" "+RegExp.prototype.toString.call(e)),w(e)&&(g=" "+Date.prototype.toUTCString.call(e)),_(e)&&(g=" "+u(e)),0!==s.length||v&&0!=e.length?n<0?y(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),f=v?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)E(e,String(s))?o.push(h(t,e,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))})),o}(t,e,n,a,s):s.map((function(r){return h(t,e,n,a,r,v)})),t.seen.pop(),function(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(f,g,b)):b[0]+g+b[1]}function l(t,e){if(v(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):p(e)?t.stylize(""+e,"boolean"):f(e)?t.stylize("null","null"):void 0}function u(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,i,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),E(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(l.value)<0?(a=f(n)?c(t,l.value,null):c(t,l.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),v(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function f(t){return null===t}function g(t){return"number"==typeof t}function m(t){return"string"==typeof t}function v(t){return void 0===t}function y(t){return b(t)&&"[object RegExp]"===O(t)}function b(t){return"object"==(void 0===t?"undefined":s(t))&&null!==t}function w(t){return b(t)&&"[object Date]"===O(t)}function _(t){return b(t)&&("[object Error]"===O(t)||t instanceof Error)}function x(t){return"function"==typeof t}function O(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}function j(){var t=new Date,e=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":");return[t.getDate(),A[t.getMonth()],e].join(" ")}function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var T=/%[sdj%]/g;r.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(t).replace(T,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),a=r[n];n<o;a=r[++n])f(a)||!b(a)?s+=" "+a:s+=" "+i(a);return s},r.deprecate=function(t,i){if(v(n.process))return function(){return r.deprecate(t,i).apply(this,arguments)};if(!0===e.noDeprecation)return t;var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),o=!0}return t.apply(this,arguments)}};var P,C={};r.debuglog=function(t){if(v(P)&&(P=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!C[t])if(new RegExp("\\b"+t+"\\b","i").test(P)){var n=e.pid;C[t]=function(){var e=r.format.apply(r,arguments);console.error("%s %d: %s",t,n,e)}}else C[t]=function(){};return C[t]},r.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=d,r.isBoolean=p,r.isNull=f,r.isNullOrUndefined=function(t){return null==t},r.isNumber=g,r.isString=m,r.isSymbol=function(t){return"symbol"==(void 0===t?"undefined":s(t))},r.isUndefined=v,r.isRegExp=y,r.isObject=b,r.isDate=w,r.isError=_,r.isFunction=x,r.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==(void 0===t?"undefined":s(t))||void 0===t},r.isBuffer=t("./support/isBuffer");var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",j(),r.format.apply(r,arguments))},r.inherits=t("inherits"),r._extend=function(t,e){if(!e||!b(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":204,_process:171,inherits:160}],206:[function(t,e,n){(function(){n.stripBOM=function(t){return"\ufeff"===t[0]?t.substring(1):t}}).call(void 0)},{}],207:[function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}var i=r(t("babel-runtime/helpers/typeof")),o=r(t("babel-runtime/core-js/object/keys"));(function(){var e,r,s,a,c,l={}.hasOwnProperty;e=t("xmlbuilder"),r=t("./defaults").defaults,a=function(t){return"string"==typeof t&&(t.indexOf("&")>=0||t.indexOf(">")>=0||t.indexOf("<")>=0)},c=function(t){return"<![CDATA["+s(t)+"]]>"},s=function(t){return t.replace("]]>","]]]]><![CDATA[>")},n.Builder=function(){function t(t){var e,n,i;for(e in this.options={},n=r[.2])l.call(n,e)&&(i=n[e],this.options[e]=i);for(e in t)l.call(t,e)&&(i=t[e],this.options[e]=i)}return t.prototype.buildObject=function(t){var n,s,u,h,d;return n=this.options.attrkey,s=this.options.charkey,1===(0,o.default)(t).length&&this.options.rootName===r[.2].rootName?t=t[d=(0,o.default)(t)[0]]:d=this.options.rootName,u=function(t){return function(e,r){var o,h,d,p,f,g;if("object"!==(void 0===r?"undefined":(0,i.default)(r)))t.options.cdata&&a(r)?e.raw(c(r)):e.txt(r);else if(Array.isArray(r)){for(p in r)if(l.call(r,p))for(f in h=r[p])d=h[f],e=u(e.ele(f),d).up()}else for(f in r)if(l.call(r,f))if(h=r[f],f===n){if("object"===(void 0===h?"undefined":(0,i.default)(h)))for(o in h)g=h[o],e=e.att(o,g)}else if(f===s)e=t.options.cdata&&a(h)?e.raw(c(h)):e.txt(h);else if(Array.isArray(h))for(p in h)l.call(h,p)&&(e="string"==typeof(d=h[p])?t.options.cdata&&a(d)?e.ele(f).raw(c(d)).up():e.ele(f,d).up():u(e.ele(f),d).up());else"object"===(void 0===h?"undefined":(0,i.default)(h))?e=u(e.ele(f),h).up():"string"==typeof h&&t.options.cdata&&a(h)?e=e.ele(f).raw(c(h)).up():(null==h&&(h=""),e=e.ele(f,h.toString()).up());return e}}(this),h=e.create(d,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),u(h,t).end(this.options.renderOpts)},t}()}).call(void 0)},{"./defaults":208,"babel-runtime/core-js/object/keys":22,"babel-runtime/helpers/typeof":31,xmlbuilder:233}],208:[function(t,e,n){(function(){n.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(void 0)},{}],209:[function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}var i=r(t("babel-runtime/core-js/object/get-own-property-names")),o=r(t("babel-runtime/core-js/object/keys")),s=r(t("babel-runtime/helpers/typeof"));(function(){var e,r,a,c,l,u,h,d,p=function(t,e){return function(){return t.apply(e,arguments)}},f={}.hasOwnProperty;h=t("sax"),a=t("events"),e=t("./bom"),u=t("./processors"),d=t("timers").setImmediate,r=t("./defaults").defaults,c=function(t){return"object"===(void 0===t?"undefined":(0,s.default)(t))&&null!=t&&0===(0,o.default)(t).length},l=function(t,e,n){var r,i;for(r=0,i=t.length;r<i;r++)e=(0,t[r])(e,n);return e},n.Parser=function(t){function a(t){var e,i,o;if(this.parseString=p(this.parseString,this),this.reset=p(this.reset,this),this.assignOrPush=p(this.assignOrPush,this),this.processAsync=p(this.processAsync,this),!(this instanceof n.Parser))return new n.Parser(t);for(e in this.options={},i=r[.2])f.call(i,e)&&(o=i[e],this.options[e]=o);for(e in t)f.call(t,e)&&(o=t[e],this.options[e]=o);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(u.normalize)),this.reset()}return function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(a,t),a.prototype.processAsync=function(){var t,e;try{return this.remaining.length<=this.options.chunkSize?(t=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(t),this.saxParser.close()):(t=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(t),d(this.processAsync))}catch(t){if(e=t,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(e)}},a.prototype.assignOrPush=function(t,e,n){return e in t?(t[e]instanceof Array||(t[e]=[t[e]]),t[e].push(n)):this.options.explicitArray?t[e]=[n]:t[e]=n},a.prototype.reset=function(){var t,e,n,r;return this.removeAllListeners(),this.saxParser=h.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(t){return function(e){if(t.saxParser.resume(),!t.saxParser.errThrown)return t.saxParser.errThrown=!0,t.emit("error",e)}}(this),this.saxParser.onend=function(t){return function(){if(!t.saxParser.ended)return t.saxParser.ended=!0,t.emit("end",t.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,r=[],t=this.options.attrkey,e=this.options.charkey,this.saxParser.onopentag=function(n){return function(i){var o,s,a,c,u;if((a={})[e]="",!n.options.ignoreAttrs)for(o in u=i.attributes)f.call(u,o)&&(t in a||n.options.mergeAttrs||(a[t]={}),s=n.options.attrValueProcessors?l(n.options.attrValueProcessors,i.attributes[o],o):i.attributes[o],c=n.options.attrNameProcessors?l(n.options.attrNameProcessors,o):o,n.options.mergeAttrs?n.assignOrPush(a,c,s):a[t][c]=s);return a["#name"]=n.options.tagNameProcessors?l(n.options.tagNameProcessors,i.name):i.name,n.options.xmlns&&(a[n.options.xmlnskey]={uri:i.uri,local:i.local}),r.push(a)}}(this),this.saxParser.onclosetag=function(t){return function(){var n,a,u,h,d,p,g,m,v,y;if(p=r.pop(),d=p["#name"],t.options.explicitChildren&&t.options.preserveChildrenOrder||delete p["#name"],!0===p.cdata&&(n=p.cdata,delete p.cdata),v=r[r.length-1],p[e].match(/^\s*$/)&&!n?(a=p[e],delete p[e]):(t.options.trim&&(p[e]=p[e].trim()),t.options.normalize&&(p[e]=p[e].replace(/\s{2,}/g," ").trim()),p[e]=t.options.valueProcessors?l(t.options.valueProcessors,p[e],d):p[e],1===(0,o.default)(p).length&&e in p&&!t.EXPLICIT_CHARKEY&&(p=p[e])),c(p)&&(p=""!==t.options.emptyTag?t.options.emptyTag:a),null!=t.options.validator&&(y="/"+function(){var t,e,n;for(n=[],t=0,e=r.length;t<e;t++)h=r[t],n.push(h["#name"]);return n}().concat(d).join("/"),function(){var e;try{p=t.options.validator(y,v&&v[d],p)}catch(n){return e=n,t.emit("error",e)}}()),t.options.explicitChildren&&!t.options.mergeAttrs&&"object"===(void 0===p?"undefined":(0,s.default)(p)))if(t.options.preserveChildrenOrder){if(v){for(u in v[t.options.childkey]=v[t.options.childkey]||[],g={},p)f.call(p,u)&&(g[u]=p[u]);v[t.options.childkey].push(g),delete p["#name"],1===(0,o.default)(p).length&&e in p&&!t.EXPLICIT_CHARKEY&&(p=p[e])}}else h={},t.options.attrkey in p&&(h[t.options.attrkey]=p[t.options.attrkey],delete p[t.options.attrkey]),!t.options.charsAsChildren&&t.options.charkey in p&&(h[t.options.charkey]=p[t.options.charkey],delete p[t.options.charkey]),(0,i.default)(p).length>0&&(h[t.options.childkey]=p),p=h;return r.length>0?t.assignOrPush(v,d,p):(t.options.explicitRoot&&(m=p,(p={})[d]=m),t.resultObject=p,t.saxParser.ended=!0,t.emit("end",t.resultObject))}}(this),n=function(t){return function(n){var i,o;if(o=r[r.length-1])return o[e]+=n,t.options.explicitChildren&&t.options.preserveChildrenOrder&&t.options.charsAsChildren&&(t.options.includeWhiteChars||""!==n.replace(/\\n/g,"").trim())&&(o[t.options.childkey]=o[t.options.childkey]||[],(i={"#name":"__text__"})[e]=n,t.options.normalize&&(i[e]=i[e].replace(/\s{2,}/g," ").trim()),o[t.options.childkey].push(i)),o}}(this),this.saxParser.ontext=n,this.saxParser.oncdata=function(t){var e;if(e=n(t))return e.cdata=!0}},a.prototype.parseString=function(t,n){var r;null!=n&&"function"==typeof n&&(this.on("end",(function(t){return this.reset(),n(null,t)})),this.on("error",(function(t){return this.reset(),n(t)})));try{return""===(t=t.toString()).trim()?(this.emit("end",null),!0):(t=e.stripBOM(t),this.options.async?(this.remaining=t,d(this.processAsync),this.saxParser):this.saxParser.write(t).close())}catch(t){if(r=t,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",r),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw r}},a}(a.EventEmitter),n.parseString=function(t,e,r){var i,o;return null!=r?("function"==typeof r&&(i=r),"object"===(void 0===e?"undefined":(0,s.default)(e))&&(o=e)):("function"==typeof e&&(i=e),o={}),new n.Parser(o).parseString(t,i)}}).call(void 0)},{"./bom":206,"./defaults":208,"./processors":210,"babel-runtime/core-js/object/get-own-property-names":20,"babel-runtime/core-js/object/keys":22,"babel-runtime/helpers/typeof":31,events:156,sax:192,timers:199}],210:[function(t,e,n){(function(){var t;t=new RegExp(/(?!xmlns)^.*:/),n.normalize=function(t){return t.toLowerCase()},n.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},n.stripPrefix=function(e){return e.replace(t,"")},n.parseNumbers=function(t){return isNaN(t)||(t=t%1==0?parseInt(t,10):parseFloat(t)),t},n.parseBooleans=function(t){return/^(?:true|false)$/i.test(t)&&(t="true"===t.toLowerCase()),t}}).call(void 0)},{}],211:[function(t,e,n){(function(){var e,r,i,o,s={}.hasOwnProperty;r=t("./defaults"),e=t("./builder"),i=t("./parser"),o=t("./processors"),n.defaults=r.defaults,n.processors=o,n.ValidationError=function(t){function e(t){this.message=t}return function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,Error),e}(),n.Builder=e.Builder,n.Parser=i.Parser,n.parseString=i.parseString}).call(void 0)},{"./builder":207,"./defaults":208,"./parser":209,"./processors":210}],212:[function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}var i=r(t("babel-runtime/core-js/object/get-prototype-of")),o=r(t("babel-runtime/helpers/typeof")),s=r(t("babel-runtime/core-js/object/assign"));(function(){var t,n,r,a,c,l,u=[].slice,h={}.hasOwnProperty;t=function(){var t,e,n,r,i,o;if(o=arguments[0],i=2<=arguments.length?u.call(arguments,1):[],a(s.default))s.default.apply(null,arguments);else for(t=0,n=i.length;t<n;t++)if(null!=(r=i[t]))for(e in r)h.call(r,e)&&(o[e]=r[e]);return o},a=function(t){return!!t&&"[object Function]"===Object.prototype.toString.call(t)},c=function(t){var e;return!!t&&("function"===(e=void 0===t?"undefined":(0,o.default)(t))||"object"===e)},n=function(t){return a(Array.isArray)?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},r=function(t){var e;if(n(t))return!t.length;for(e in t)if(h.call(t,e))return!1;return!0},l=function(t){var e,n;return c(t)&&(n=(0,i.default)(t))&&(e=n.constructor)&&"function"==typeof e&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)},e.exports.assign=t,e.exports.isFunction=a,e.exports.isObject=c,e.exports.isArray=n,e.exports.isEmpty=r,e.exports.isPlainObject=l}).call(void 0)},{"babel-runtime/core-js/object/assign":17,"babel-runtime/core-js/object/get-prototype-of":21,"babel-runtime/helpers/typeof":31}],213:[function(t,e,n){var r=function(t){return t&&t.__esModule?t:{default:t}}(t("babel-runtime/core-js/object/create"));(function(){e.exports=function(){function t(t,e,n){if(this.options=t.options,this.stringify=t.stringify,null==e)throw new Error("Missing attribute name of element "+t.name);if(null==n)throw new Error("Missing attribute value for attribute "+e+" of element "+t.name);this.name=this.stringify.attName(e),this.value=this.stringify.attValue(n)}return t.prototype.clone=function(){return(0,r.default)(this)},t.prototype.toString=function(t){return this.options.writer.set(t).attribute(this)},t}()}).call(void 0)},{"babel-runtime/core-js/object/create":18}],214:[function(t,e,n){var r=function(t){return t&&t.__esModule?t:{default:t}}(t("babel-runtime/core-js/object/create"));(function(){var n,i={}.hasOwnProperty;n=t("./XMLNode"),e.exports=function(t){function e(t,n){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(n)}return function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.clone=function(){return(0,r.default)(this)},e.prototype.toString=function(t){return this.options.writer.set(t).cdata(this)},e}(n)}).call(void 0)},{"./XMLNode":225,"babel-runtime/core-js/object/create":18}],215:[function(t,e,n){var r=function(t){return t&&t.__esModule?t:{default:t}}(t("babel-runtime/core-js/object/create"));(function(){var n,i={}.hasOwnProperty;n=t("./XMLNode"),e.exports=function(t){function e(t,n){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing comment text");this.text=this.stringify.comment(n)}return function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.clone=function(){return(0,r.default)(this)},e.prototype.toString=function(t){return this.options.writer.set(t).comment(this)},e}(n)}).call(void 0)},{"./XMLNode":225,"babel-runtime/core-js/object/create":18}],216:[function(t,e,n){(function(){var n,r={}.hasOwnProperty;n=t("./XMLNode"),e.exports=function(t){function e(t,n,r,i,o,s){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing DTD element name");if(null==r)throw new Error("Missing DTD attribute name");if(!i)throw new Error("Missing DTD attribute type");if(!o)throw new Error("Missing DTD attribute default");if(0!==o.indexOf("#")&&(o="#"+o),!o.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(s&&!o.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(n),this.attributeName=this.stringify.attName(r),this.attributeType=this.stringify.dtdAttType(i),this.defaultValue=this.stringify.dtdAttDefault(s),this.defaultValueType=o}return function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.toString=function(t){return this.options.writer.set(t).dtdAttList(this)},e}(n)}).call(void 0)},{"./XMLNode":225}],217:[function(t,e,n){(function(){var n,r={}.hasOwnProperty;n=t("./XMLNode"),e.exports=function(t){function e(t,n,r){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing DTD element name");r||(r="(#PCDATA)"),Array.isArray(r)&&(r="("+r.join(",")+")"),this.name=this.stringify.eleName(n),this.value=this.stringify.dtdElementValue(r)}return function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.toString=function(t){return this.options.writer.set(t).dtdElement(this)},e}(n)}).call(void 0)},{"./XMLNode":225}],218:[function(t,e,n){(function(){var n,r,i={}.hasOwnProperty;r=t("./Utility").isObject,n=t("./XMLNode"),e.exports=function(t){function e(t,n,i,o){if(e.__super__.constructor.call(this,t),null==i)throw new Error("Missing entity name");if(null==o)throw new Error("Missing entity value");if(this.pe=!!n,this.name=this.stringify.eleName(i),r(o)){if(!o.pubID&&!o.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(o.pubID&&!o.sysID)throw new Error("System identifier is required for a public external entity");if(null!=o.pubID&&(this.pubID=this.stringify.dtdPubID(o.pubID)),null!=o.sysID&&(this.sysID=this.stringify.dtdSysID(o.sysID)),null!=o.nData&&(this.nData=this.stringify.dtdNData(o.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(o)}return function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.toString=function(t){return this.options.writer.set(t).dtdEntity(this)},e}(n)}).call(void 0)},{"./Utility":212,"./XMLNode":225}],219:[function(t,e,n){(function(){var n,r={}.hasOwnProperty;n=t("./XMLNode"),e.exports=function(t){function e(t,n,r){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing notation name");if(!r.pubID&&!r.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(n),null!=r.pubID&&(this.pubID=this.stringify.dtdPubID(r.pubID)),null!=r.sysID&&(this.sysID=this.stringify.dtdSysID(r.sysID))}return function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.toString=function(t){return this.options.writer.set(t).dtdNotation(this)},e}(n)}).call(void 0)},{"./XMLNode":225}],220:[function(t,e,n){(function(){var n,r,i={}.hasOwnProperty;r=t("./Utility").isObject,n=t("./XMLNode"),e.exports=function(t){function e(t,n,i,o){var s;e.__super__.constructor.call(this,t),r(n)&&(n=(s=n).version,i=s.encoding,o=s.standalone),n||(n="1.0"),this.version=this.stringify.xmlVersion(n),null!=i&&(this.encoding=this.stringify.xmlEncoding(i)),null!=o&&(this.standalone=this.stringify.xmlStandalone(o))}return function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.toString=function(t){return this.options.writer.set(t).declaration(this)},e}(n)}).call(void 0)},{"./Utility":212,"./XMLNode":225}],221:[function(t,e,n){(function(){var n,r,i,o,s,a,c={}.hasOwnProperty;a=t("./Utility").isObject,s=t("./XMLNode"),n=t("./XMLDTDAttList"),i=t("./XMLDTDEntity"),r=t("./XMLDTDElement"),o=t("./XMLDTDNotation"),e.exports=function(t){function e(t,n,r){var i,o;e.__super__.constructor.call(this,t),this.documentObject=t,a(n)&&(n=(i=n).pubID,r=i.sysID),null==r&&(r=(o=[n,r])[0],n=o[1]),null!=n&&(this.pubID=this.stringify.dtdPubID(n)),null!=r&&(this.sysID=this.stringify.dtdSysID(r))}return function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.element=function(t,e){var n;return n=new r(this,t,e),this.children.push(n),this},e.prototype.attList=function(t,e,r,i,o){var s;return s=new n(this,t,e,r,i,o),this.children.push(s),this},e.prototype.entity=function(t,e){var n;return n=new i(this,!1,t,e),this.children.push(n),this},e.prototype.pEntity=function(t,e){var n;return n=new i(this,!0,t,e),this.children.push(n),this},e.prototype.notation=function(t,e){var n;return n=new o(this,t,e),this.children.push(n),this},e.prototype.toString=function(t){return this.options.writer.set(t).docType(this)},e.prototype.ele=function(t,e){return this.element(t,e)},e.prototype.att=function(t,e,n,r,i){return this.attList(t,e,n,r,i)},e.prototype.ent=function(t,e){return this.entity(t,e)},e.prototype.pent=function(t,e){return this.pEntity(t,e)},e.prototype.not=function(t,e){return this.notation(t,e)},e.prototype.up=function(){return this.root()||this.documentObject},e}(s)}).call(void 0)},{"./Utility":212,"./XMLDTDAttList":216,"./XMLDTDElement":217,"./XMLDTDEntity":218,"./XMLDTDNotation":219,"./XMLNode":225}],222:[function(t,e,n){(function(){var n,r,i,o,s={}.hasOwnProperty;o=t("./Utility").isPlainObject,n=t("./XMLNode"),i=t("./XMLStringifier"),r=t("./XMLStringWriter"),e.exports=function(t){function e(t){e.__super__.constructor.call(this,null),t||(t={}),t.writer||(t.writer=new r),this.options=t,this.stringify=new i(t),this.isDocument=!0}return function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.end=function(t){var e;return t?o(t)&&(e=t,t=this.options.writer.set(e)):t=this.options.writer,t.document(this)},e.prototype.toString=function(t){return this.options.writer.set(t).document(this)},e}(n)}).call(void 0)},{"./Utility":212,"./XMLNode":225,"./XMLStringWriter":229,"./XMLStringifier":230}],223:[function(t,e,n){(function(){var n,r,i,o,s,a,c,l,u,h,d,p,f,g,m,v,y,b,w,_={}.hasOwnProperty;w=t("./Utility"),y=w.isObject,v=w.isFunction,b=w.isPlainObject,h=t("./XMLElement"),r=t("./XMLCData"),i=t("./XMLComment"),p=t("./XMLRaw"),m=t("./XMLText"),d=t("./XMLProcessingInstruction"),l=t("./XMLDeclaration"),u=t("./XMLDocType"),o=t("./XMLDTDAttList"),a=t("./XMLDTDEntity"),s=t("./XMLDTDElement"),c=t("./XMLDTDNotation"),n=t("./XMLAttribute"),g=t("./XMLStringifier"),f=t("./XMLStringWriter"),e.exports=function(){function t(t,e,n){var r;t||(t={}),t.writer?b(t.writer)&&(r=t.writer,t.writer=new f(r)):t.writer=new f(t),this.options=t,this.writer=t.writer,this.stringify=new g(t),this.onDataCallback=e||function(){},this.onEndCallback=n||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return t.prototype.node=function(t,e,n){var r;if(null==t)throw new Error("Missing node name");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node");return this.openCurrent(),t=t.valueOf(),null==e&&(e={}),e=e.valueOf(),y(e)||(n=(r=[e,n])[0],e=r[1]),this.currentNode=new h(this,t,e),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},t.prototype.element=function(t,e,n){return this.currentNode&&this.currentNode instanceof u?this.dtdElement.apply(this,arguments):this.node(t,e,n)},t.prototype.attribute=function(t,e){var r,i;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode");if(null!=t&&(t=t.valueOf()),y(t))for(r in t)_.call(t,r)&&(i=t[r],this.attribute(r,i));else v(e)&&(e=e.apply()),this.options.skipNullAttributes&&null==e||(this.currentNode.attributes[t]=new n(this,t,e));return this},t.prototype.text=function(t){var e;return this.openCurrent(),e=new m(this,t),this.onData(this.writer.text(e,this.currentLevel+1)),this},t.prototype.cdata=function(t){var e;return this.openCurrent(),e=new r(this,t),this.onData(this.writer.cdata(e,this.currentLevel+1)),this},t.prototype.comment=function(t){var e;return this.openCurrent(),e=new i(this,t),this.onData(this.writer.comment(e,this.currentLevel+1)),this},t.prototype.raw=function(t){var e;return this.openCurrent(),e=new p(this,t),this.onData(this.writer.raw(e,this.currentLevel+1)),this},t.prototype.instruction=function(t,e){var n,r,i,o,s;if(this.openCurrent(),null!=t&&(t=t.valueOf()),null!=e&&(e=e.valueOf()),Array.isArray(t))for(n=0,o=t.length;n<o;n++)r=t[n],this.instruction(r);else if(y(t))for(r in t)_.call(t,r)&&(i=t[r],this.instruction(r,i));else v(e)&&(e=e.apply()),s=new d(this,t,e),this.onData(this.writer.processingInstruction(s,this.currentLevel+1));return this},t.prototype.declaration=function(t,e,n){var r;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node");return r=new l(this,t,e,n),this.onData(this.writer.declaration(r,this.currentLevel+1)),this},t.prototype.doctype=function(t,e,n){if(this.openCurrent(),null==t)throw new Error("Missing root node name");if(this.root)throw new Error("dtd() must come before the root node");return this.currentNode=new u(this,e,n),this.currentNode.rootNodeName=t,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},t.prototype.dtdElement=function(t,e){var n;return this.openCurrent(),n=new s(this,t,e),this.onData(this.writer.dtdElement(n,this.currentLevel+1)),this},t.prototype.attList=function(t,e,n,r,i){var s;return this.openCurrent(),s=new o(this,t,e,n,r,i),this.onData(this.writer.dtdAttList(s,this.currentLevel+1)),this},t.prototype.entity=function(t,e){var n;return this.openCurrent(),n=new a(this,!1,t,e),this.onData(this.writer.dtdEntity(n,this.currentLevel+1)),this},t.prototype.pEntity=function(t,e){var n;return this.openCurrent(),n=new a(this,!0,t,e),this.onData(this.writer.dtdEntity(n,this.currentLevel+1)),this},t.prototype.notation=function(t,e){var n;return this.openCurrent(),n=new c(this,t,e),this.onData(this.writer.dtdNotation(n,this.currentLevel+1)),this},t.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},t.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},t.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},t.prototype.openNode=function(t){if(!t.isOpen)return!this.root&&0===this.currentLevel&&t instanceof h&&(this.root=t),this.onData(this.writer.openNode(t,this.currentLevel)),t.isOpen=!0},t.prototype.closeNode=function(t){if(!t.isClosed)return this.onData(this.writer.closeNode(t,this.currentLevel)),t.isClosed=!0},t.prototype.onData=function(t){return this.documentStarted=!0,this.onDataCallback(t)},t.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},t.prototype.ele=function(){return this.element.apply(this,arguments)},t.prototype.nod=function(t,e,n){return this.node(t,e,n)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},t.prototype.dtd=function(t,e,n){return this.doctype(t,e,n)},t.prototype.e=function(t,e,n){return this.element(t,e,n)},t.prototype.n=function(t,e,n){return this.node(t,e,n)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.att=function(){return this.currentNode&&this.currentNode instanceof u?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.a=function(){return this.currentNode&&this.currentNode instanceof u?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.ent=function(t,e){return this.entity(t,e)},t.prototype.pent=function(t,e){return this.pEntity(t,e)},t.prototype.not=function(t,e){return this.notation(t,e)},t}()}).call(void 0)},{"./Utility":212,"./XMLAttribute":213,"./XMLCData":214,"./XMLComment":215,"./XMLDTDAttList":216,"./XMLDTDElement":217,"./XMLDTDEntity":218,"./XMLDTDNotation":219,"./XMLDeclaration":220,"./XMLDocType":221,"./XMLElement":224,"./XMLProcessingInstruction":226,"./XMLRaw":227,"./XMLStringWriter":229,"./XMLStringifier":230,"./XMLText":231}],224:[function(t,e,n){var r=function(t){return t&&t.__esModule?t:{default:t}}(t("babel-runtime/core-js/object/create"));(function(){var n,i,o,s,a,c={}.hasOwnProperty;a=t("./Utility"),s=a.isObject,o=a.isFunction,i=t("./XMLNode"),n=t("./XMLAttribute"),e.exports=function(t){function e(t,n,r){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing element name");this.name=this.stringify.eleName(n),this.attributes={},null!=r&&this.attribute(r),t.isDocument&&(this.isRoot=!0,this.documentObject=t,t.rootObject=this)}return function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.clone=function(){var t,e,n,i;for(e in(n=(0,r.default)(this)).isRoot&&(n.documentObject=null),n.attributes={},i=this.attributes)c.call(i,e)&&(t=i[e],n.attributes[e]=t.clone());return n.children=[],this.children.forEach((function(t){var e;return(e=t.clone()).parent=n,n.children.push(e)})),n},e.prototype.attribute=function(t,e){var r,i;if(null!=t&&(t=t.valueOf()),s(t))for(r in t)c.call(t,r)&&(i=t[r],this.attribute(r,i));else o(e)&&(e=e.apply()),this.options.skipNullAttributes&&null==e||(this.attributes[t]=new n(this,t,e));return this},e.prototype.removeAttribute=function(t){var e,n,r;if(null==t)throw new Error("Missing attribute name");if(t=t.valueOf(),Array.isArray(t))for(n=0,r=t.length;n<r;n++)e=t[n],delete this.attributes[e];else delete this.attributes[t];return this},e.prototype.toString=function(t){return this.options.writer.set(t).element(this)},e.prototype.att=function(t,e){return this.attribute(t,e)},e.prototype.a=function(t,e){return this.attribute(t,e)},e}(i)}).call(void 0)},{"./Utility":212,"./XMLAttribute":213,"./XMLNode":225,"babel-runtime/core-js/object/create":18}],225:[function(t,e,n){(function(){var n,r,i,o,s,a,c,l,u,h,d,p,f={}.hasOwnProperty;p=t("./Utility"),d=p.isObject,h=p.isFunction,u=p.isEmpty,s=null,n=null,r=null,i=null,o=null,c=null,l=null,a=null,e.exports=function(){function e(e){this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=t("./XMLElement"),n=t("./XMLCData"),r=t("./XMLComment"),i=t("./XMLDeclaration"),o=t("./XMLDocType"),c=t("./XMLRaw"),l=t("./XMLText"),a=t("./XMLProcessingInstruction"))}return e.prototype.element=function(t,e,n){var r,i,o,s,a,c,l,p,g,m;if(c=null,null==e&&(e={}),e=e.valueOf(),d(e)||(n=(g=[e,n])[0],e=g[1]),null!=t&&(t=t.valueOf()),Array.isArray(t))for(o=0,l=t.length;o<l;o++)i=t[o],c=this.element(i);else if(h(t))c=this.element(t.apply());else if(d(t)){for(a in t)if(f.call(t,a))if(m=t[a],h(m)&&(m=m.apply()),d(m)&&u(m)&&(m=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===a.indexOf(this.stringify.convertAttKey))c=this.attribute(a.substr(this.stringify.convertAttKey.length),m);else if(!this.options.separateArrayItems&&Array.isArray(m))for(s=0,p=m.length;s<p;s++)i=m[s],(r={})[a]=i,c=this.element(r);else d(m)?(c=this.element(a)).element(m):c=this.element(a,m)}else c=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===t.indexOf(this.stringify.convertPIKey)?this.instruction(t.substr(this.stringify.convertPIKey.length),n):this.node(t,e,n);if(null==c)throw new Error("Could not create any elements with: "+t);return c},e.prototype.insertBefore=function(t,e,n){var r,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i),r=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,o),r},e.prototype.insertAfter=function(t,e,n){var r,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),r=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,o),r},e.prototype.remove=function(){var t;if(this.isRoot)throw new Error("Cannot remove the root element");return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat([])),this.parent},e.prototype.node=function(t,e,n){var r,i;return null!=t&&(t=t.valueOf()),e||(e={}),e=e.valueOf(),d(e)||(n=(i=[e,n])[0],e=i[1]),r=new s(this,t,e),null!=n&&r.text(n),this.children.push(r),r},e.prototype.text=function(t){var e;return e=new l(this,t),this.children.push(e),this},e.prototype.cdata=function(t){var e;return e=new n(this,t),this.children.push(e),this},e.prototype.comment=function(t){var e;return e=new r(this,t),this.children.push(e),this},e.prototype.commentBefore=function(t){var e,n;return e=this.parent.children.indexOf(this),n=this.parent.children.splice(e),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,n),this},e.prototype.commentAfter=function(t){var e,n;return e=this.parent.children.indexOf(this),n=this.parent.children.splice(e+1),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,n),this},e.prototype.raw=function(t){var e;return e=new c(this,t),this.children.push(e),this},e.prototype.instruction=function(t,e){var n,r,i,o,s;if(null!=t&&(t=t.valueOf()),null!=e&&(e=e.valueOf()),Array.isArray(t))for(o=0,s=t.length;o<s;o++)n=t[o],this.instruction(n);else if(d(t))for(n in t)f.call(t,n)&&(r=t[n],this.instruction(n,r));else h(e)&&(e=e.apply()),i=new a(this,t,e),this.children.push(i);return this},e.prototype.instructionBefore=function(t,e){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,r),this},e.prototype.instructionAfter=function(t,e){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n+1),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,r),this},e.prototype.declaration=function(t,e,n){var r,o;return r=this.document(),o=new i(r,t,e,n),r.children[0]instanceof i?r.children[0]=o:r.children.unshift(o),r.root()||r},e.prototype.doctype=function(t,e){var n,r,i,s,a,c,l,u,h;for(n=this.document(),r=new o(n,t,e),i=s=0,c=(u=n.children).length;s<c;i=++s)if(u[i]instanceof o)return n.children[i]=r,r;for(i=a=0,l=(h=n.children).length;a<l;i=++a)if(h[i].isRoot)return n.children.splice(i,0,r),r;return n.children.push(r),r},e.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},e.prototype.root=function(){var t;for(t=this;t;){if(t.isDocument)return t.rootObject;if(t.isRoot)return t;t=t.parent}},e.prototype.document=function(){var t;for(t=this;t;){if(t.isDocument)return t;t=t.parent}},e.prototype.end=function(t){return this.document().end(t)},e.prototype.prev=function(){var t;if((t=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node");return this.parent.children[t-1]},e.prototype.next=function(){var t;if(-1===(t=this.parent.children.indexOf(this))||t===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[t+1]},e.prototype.importDocument=function(t){var e;return(e=t.root().clone()).parent=this,e.isRoot=!1,this.children.push(e),this},e.prototype.ele=function(t,e,n){return this.element(t,e,n)},e.prototype.nod=function(t,e,n){return this.node(t,e,n)},e.prototype.txt=function(t){return this.text(t)},e.prototype.dat=function(t){return this.cdata(t)},e.prototype.com=function(t){return this.comment(t)},e.prototype.ins=function(t,e){return this.instruction(t,e)},e.prototype.doc=function(){return this.document()},e.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},e.prototype.dtd=function(t,e){return this.doctype(t,e)},e.prototype.e=function(t,e,n){return this.element(t,e,n)},e.prototype.n=function(t,e,n){return this.node(t,e,n)},e.prototype.t=function(t){return this.text(t)},e.prototype.d=function(t){return this.cdata(t)},e.prototype.c=function(t){return this.comment(t)},e.prototype.r=function(t){return this.raw(t)},e.prototype.i=function(t,e){return this.instruction(t,e)},e.prototype.u=function(){return this.up()},e.prototype.importXMLBuilder=function(t){return this.importDocument(t)},e}()}).call(void 0)},{"./Utility":212,"./XMLCData":214,"./XMLComment":215,"./XMLDeclaration":220,"./XMLDocType":221,"./XMLElement":224,"./XMLProcessingInstruction":226,"./XMLRaw":227,"./XMLText":231}],226:[function(t,e,n){var r=function(t){return t&&t.__esModule?t:{default:t}}(t("babel-runtime/core-js/object/create"));(function(){var n,i={}.hasOwnProperty;n=t("./XMLNode"),e.exports=function(t){function e(t,n,r){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(n),r&&(this.value=this.stringify.insValue(r))}return function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.clone=function(){return(0,r.default)(this)},e.prototype.toString=function(t){return this.options.writer.set(t).processingInstruction(this)},e}(n)}).call(void 0)},{"./XMLNode":225,"babel-runtime/core-js/object/create":18}],227:[function(t,e,n){var r=function(t){return t&&t.__esModule?t:{default:t}}(t("babel-runtime/core-js/object/create"));(function(){var n,i={}.hasOwnProperty;n=t("./XMLNode"),e.exports=function(t){function e(t,n){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing raw text");this.value=this.stringify.raw(n)}return function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.clone=function(){return(0,r.default)(this)},e.prototype.toString=function(t){return this.options.writer.set(t).raw(this)},e}(n)}).call(void 0)},{"./XMLNode":225,"babel-runtime/core-js/object/create":18}],228:[function(t,e,n){(function(){var n,r,i,o,s,a,c,l,u,h,d,p,f,g={}.hasOwnProperty;c=t("./XMLDeclaration"),l=t("./XMLDocType"),n=t("./XMLCData"),r=t("./XMLComment"),u=t("./XMLElement"),d=t("./XMLRaw"),p=t("./XMLText"),h=t("./XMLProcessingInstruction"),i=t("./XMLDTDAttList"),o=t("./XMLDTDElement"),s=t("./XMLDTDEntity"),a=t("./XMLDTDNotation"),f=t("./XMLWriterBase"),e.exports=function(t){function e(t,n){e.__super__.constructor.call(this,n),this.stream=t}return function(t,e){function n(){this.constructor=t}for(var r in e)g.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.document=function(t){var e,n,i,o,s,a,u,d;for(n=0,o=(a=t.children).length;n<o;n++)(e=a[n]).isLastRootNode=!1;for(t.children[t.children.length-1].isLastRootNode=!0,d=[],i=0,s=(u=t.children).length;i<s;i++)switch(e=u[i],!1){case!(e instanceof c):d.push(this.declaration(e));break;case!(e instanceof l):d.push(this.docType(e));break;case!(e instanceof r):d.push(this.comment(e));break;case!(e instanceof h):d.push(this.processingInstruction(e));break;default:d.push(this.element(e))}return d},e.prototype.attribute=function(t){return this.stream.write(" "+t.name+'="'+t.value+'"')},e.prototype.cdata=function(t,e){return this.stream.write(this.space(e)+"<![CDATA["+t.text+"]]>"+this.endline(t))},e.prototype.comment=function(t,e){return this.stream.write(this.space(e)+"\x3c!-- "+t.text+" --\x3e"+this.endline(t))},e.prototype.declaration=function(t,e){return this.stream.write(this.space(e)),this.stream.write('<?xml version="'+t.version+'"'),null!=t.encoding&&this.stream.write(' encoding="'+t.encoding+'"'),null!=t.standalone&&this.stream.write(' standalone="'+t.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(t))},e.prototype.docType=function(t,e){var c,l,u,d;if(e||(e=0),this.stream.write(this.space(e)),this.stream.write("<!DOCTYPE "+t.root().name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(t)),l=0,u=(d=t.children).length;l<u;l++)switch(c=d[l],!1){case!(c instanceof i):this.dtdAttList(c,e+1);break;case!(c instanceof o):this.dtdElement(c,e+1);break;case!(c instanceof s):this.dtdEntity(c,e+1);break;case!(c instanceof a):this.dtdNotation(c,e+1);break;case!(c instanceof n):this.cdata(c,e+1);break;case!(c instanceof r):this.comment(c,e+1);break;case!(c instanceof h):this.processingInstruction(c,e+1);break;default:throw new Error("Unknown DTD node type: "+c.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(t))},e.prototype.element=function(t,e){var i,o,s,a,c,l,f,m;for(c in e||(e=0),m=this.space(e),this.stream.write(m+"<"+t.name),l=t.attributes)g.call(l,c)&&(i=l[c],this.attribute(i));if(0===t.children.length||t.children.every((function(t){return""===t.value})))this.allowEmpty?this.stream.write("></"+t.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&1===t.children.length&&null!=t.children[0].value)this.stream.write(">"),this.stream.write(t.children[0].value),this.stream.write("</"+t.name+">");else{for(this.stream.write(">"+this.newline),s=0,a=(f=t.children).length;s<a;s++)switch(o=f[s],!1){case!(o instanceof n):this.cdata(o,e+1);break;case!(o instanceof r):this.comment(o,e+1);break;case!(o instanceof u):this.element(o,e+1);break;case!(o instanceof d):this.raw(o,e+1);break;case!(o instanceof p):this.text(o,e+1);break;case!(o instanceof h):this.processingInstruction(o,e+1);break;default:throw new Error("Unknown XML node type: "+o.constructor.name)}this.stream.write(m+"</"+t.name+">")}return this.stream.write(this.endline(t))},e.prototype.processingInstruction=function(t,e){return this.stream.write(this.space(e)+"<?"+t.target),t.value&&this.stream.write(" "+t.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(t))},e.prototype.raw=function(t,e){return this.stream.write(this.space(e)+t.value+this.endline(t))},e.prototype.text=function(t,e){return this.stream.write(this.space(e)+t.value+this.endline(t))},e.prototype.dtdAttList=function(t,e){return this.stream.write(this.space(e)+"<!ATTLIST "+t.elementName+" "+t.attributeName+" "+t.attributeType),"#DEFAULT"!==t.defaultValueType&&this.stream.write(" "+t.defaultValueType),t.defaultValue&&this.stream.write(' "'+t.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},e.prototype.dtdElement=function(t,e){return this.stream.write(this.space(e)+"<!ELEMENT "+t.name+" "+t.value),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},e.prototype.dtdEntity=function(t,e){return this.stream.write(this.space(e)+"<!ENTITY"),t.pe&&this.stream.write(" %"),this.stream.write(" "+t.name),t.value?this.stream.write(' "'+t.value+'"'):(t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.nData&&this.stream.write(" NDATA "+t.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},e.prototype.dtdNotation=function(t,e){return this.stream.write(this.space(e)+"<!NOTATION "+t.name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.pubID?this.stream.write(' PUBLIC "'+t.pubID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},e.prototype.endline=function(t){return t.isLastRootNode?"":this.newline},e}(f)}).call(void 0)},{"./XMLCData":214,"./XMLComment":215,"./XMLDTDAttList":216,"./XMLDTDElement":217,"./XMLDTDEntity":218,"./XMLDTDNotation":219,"./XMLDeclaration":220,"./XMLDocType":221,"./XMLElement":224,"./XMLProcessingInstruction":226,"./XMLRaw":227,"./XMLText":231,"./XMLWriterBase":232}],229:[function(t,e,n){(function(){var n,r,i,o,s,a,c,l,u,h,d,p,f,g={}.hasOwnProperty;c=t("./XMLDeclaration"),l=t("./XMLDocType"),n=t("./XMLCData"),r=t("./XMLComment"),u=t("./XMLElement"),d=t("./XMLRaw"),p=t("./XMLText"),h=t("./XMLProcessingInstruction"),i=t("./XMLDTDAttList"),o=t("./XMLDTDElement"),s=t("./XMLDTDEntity"),a=t("./XMLDTDNotation"),f=t("./XMLWriterBase"),e.exports=function(t){function e(t){e.__super__.constructor.call(this,t)}return function(t,e){function n(){this.constructor=t}for(var r in e)g.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.document=function(t){var e,n,i,o,s;for(this.textispresent=!1,o="",n=0,i=(s=t.children).length;n<i;n++)e=s[n],o+=function(){switch(!1){case!(e instanceof c):return this.declaration(e);case!(e instanceof l):return this.docType(e);case!(e instanceof r):return this.comment(e);case!(e instanceof h):return this.processingInstruction(e);default:return this.element(e,0)}}.call(this);return this.pretty&&o.slice(-this.newline.length)===this.newline&&(o=o.slice(0,-this.newline.length)),o},e.prototype.attribute=function(t){return" "+t.name+'="'+t.value+'"'},e.prototype.cdata=function(t,e){return this.space(e)+"<![CDATA["+t.text+"]]>"+this.newline},e.prototype.comment=function(t,e){return this.space(e)+"\x3c!-- "+t.text+" --\x3e"+this.newline},e.prototype.declaration=function(t,e){var n;return n=this.space(e),n+='<?xml version="'+t.version+'"',null!=t.encoding&&(n+=' encoding="'+t.encoding+'"'),null!=t.standalone&&(n+=' standalone="'+t.standalone+'"'),(n+=this.spacebeforeslash+"?>")+this.newline},e.prototype.docType=function(t,e){var c,l,u,d,p;if(e||(e=0),d=this.space(e),d+="<!DOCTYPE "+t.root().name,t.pubID&&t.sysID?d+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(d+=' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(d+=" [",d+=this.newline,l=0,u=(p=t.children).length;l<u;l++)c=p[l],d+=function(){switch(!1){case!(c instanceof i):return this.dtdAttList(c,e+1);case!(c instanceof o):return this.dtdElement(c,e+1);case!(c instanceof s):return this.dtdEntity(c,e+1);case!(c instanceof a):return this.dtdNotation(c,e+1);case!(c instanceof n):return this.cdata(c,e+1);case!(c instanceof r):return this.comment(c,e+1);case!(c instanceof h):return this.processingInstruction(c,e+1);default:throw new Error("Unknown DTD node type: "+c.constructor.name)}}.call(this);d+="]"}return(d+=this.spacebeforeslash+">")+this.newline},e.prototype.element=function(t,e){var i,o,s,a,c,l,f,m,v,y,b,w,_;for(f in e||(e=0),_=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),m="",m+=(w=this.space(e))+"<"+t.name,v=t.attributes)g.call(v,f)&&(i=v[f],m+=this.attribute(i));if(0===t.children.length||t.children.every((function(t){return""===t.value})))this.allowEmpty?m+="></"+t.name+">"+this.newline:m+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&1===t.children.length&&null!=t.children[0].value)m+=">",m+=t.children[0].value,m+="</"+t.name+">"+this.newline;else{if(this.dontprettytextnodes)for(s=0,c=(y=t.children).length;s<c;s++)if(null!=(o=y[s]).value){this.textispresent++,_=!0;break}for(this.textispresent&&(this.newline="",this.pretty=!1,w=this.space(e)),m+=">"+this.newline,a=0,l=(b=t.children).length;a<l;a++)o=b[a],m+=function(){switch(!1){case!(o instanceof n):return this.cdata(o,e+1);case!(o instanceof r):return this.comment(o,e+1);case!(o instanceof u):return this.element(o,e+1);case!(o instanceof d):return this.raw(o,e+1);case!(o instanceof p):return this.text(o,e+1);case!(o instanceof h):return this.processingInstruction(o,e+1);default:throw new Error("Unknown XML node type: "+o.constructor.name)}}.call(this);_&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),m+=w+"</"+t.name+">"+this.newline}return m},e.prototype.processingInstruction=function(t,e){var n;return n=this.space(e)+"<?"+t.target,t.value&&(n+=" "+t.value),n+(this.spacebeforeslash+"?>")+this.newline},e.prototype.raw=function(t,e){return this.space(e)+t.value+this.newline},e.prototype.text=function(t,e){return this.space(e)+t.value+this.newline},e.prototype.dtdAttList=function(t,e){var n;return n=this.space(e)+"<!ATTLIST "+t.elementName+" "+t.attributeName+" "+t.attributeType,"#DEFAULT"!==t.defaultValueType&&(n+=" "+t.defaultValueType),t.defaultValue&&(n+=' "'+t.defaultValue+'"'),n+(this.spacebeforeslash+">")+this.newline},e.prototype.dtdElement=function(t,e){return this.space(e)+"<!ELEMENT "+t.name+" "+t.value+this.spacebeforeslash+">"+this.newline},e.prototype.dtdEntity=function(t,e){var n;return n=this.space(e)+"<!ENTITY",t.pe&&(n+=" %"),n+=" "+t.name,t.value?n+=' "'+t.value+'"':(t.pubID&&t.sysID?n+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(n+=' SYSTEM "'+t.sysID+'"'),t.nData&&(n+=" NDATA "+t.nData)),n+(this.spacebeforeslash+">")+this.newline},e.prototype.dtdNotation=function(t,e){var n;return n=this.space(e)+"<!NOTATION "+t.name,t.pubID&&t.sysID?n+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.pubID?n+=' PUBLIC "'+t.pubID+'"':t.sysID&&(n+=' SYSTEM "'+t.sysID+'"'),n+(this.spacebeforeslash+">")+this.newline},e.prototype.openNode=function(t,e){var n,r,i,o;if(e||(e=0),t instanceof u){for(r in i=this.space(e)+"<"+t.name,o=t.attributes)g.call(o,r)&&(n=o[r],i+=this.attribute(n));return i+(t.children?">":"/>")+this.newline}return i=this.space(e)+"<!DOCTYPE "+t.rootNodeName,t.pubID&&t.sysID?i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(i+=' SYSTEM "'+t.sysID+'"'),i+(t.children?" [":">")+this.newline},e.prototype.closeNode=function(t,e){switch(e||(e=0),!1){case!(t instanceof u):return this.space(e)+"</"+t.name+">"+this.newline;case!(t instanceof l):return this.space(e)+"]>"+this.newline}},e}(f)}).call(void 0)},{"./XMLCData":214,"./XMLComment":215,"./XMLDTDAttList":216,"./XMLDTDElement":217,"./XMLDTDEntity":218,"./XMLDTDNotation":219,"./XMLDeclaration":220,"./XMLDocType":221,"./XMLElement":224,"./XMLProcessingInstruction":226,"./XMLRaw":227,"./XMLText":231,"./XMLWriterBase":232}],230:[function(t,e,n){(function(){var t={}.hasOwnProperty;e.exports=function(){function e(e){var n,r,i;for(n in this.assertLegalChar=function(t,e){return function(){return t.apply(e,arguments)}}(this.assertLegalChar,this),e||(e={}),this.noDoubleEncoding=e.noDoubleEncoding,r=e.stringify||{})t.call(r,n)&&(i=r[n],this[n]=i)}return e.prototype.eleName=function(t){return t=""+t||"",this.assertLegalChar(t)},e.prototype.eleText=function(t){return t=""+t||"",this.assertLegalChar(this.elEscape(t))},e.prototype.cdata=function(t){return t=(t=""+t||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(t)},e.prototype.comment=function(t){if((t=""+t||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(t)},e.prototype.raw=function(t){return""+t||""},e.prototype.attName=function(t){return""+t||""},e.prototype.attValue=function(t){return t=""+t||"",this.attEscape(t)},e.prototype.insTarget=function(t){return""+t||""},e.prototype.insValue=function(t){if((t=""+t||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+t);return t},e.prototype.xmlVersion=function(t){if(!(t=""+t||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+t);return t},e.prototype.xmlEncoding=function(t){if(!(t=""+t||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+t);return t},e.prototype.xmlStandalone=function(t){return t?"yes":"no"},e.prototype.dtdPubID=function(t){return""+t||""},e.prototype.dtdSysID=function(t){return""+t||""},e.prototype.dtdElementValue=function(t){return""+t||""},e.prototype.dtdAttType=function(t){return""+t||""},e.prototype.dtdAttDefault=function(t){return null!=t?""+t||"":t},e.prototype.dtdEntityValue=function(t){return""+t||""},e.prototype.dtdNData=function(t){return""+t||""},e.prototype.convertAttKey="@",e.prototype.convertPIKey="?",e.prototype.convertTextKey="#text",e.prototype.convertCDataKey="#cdata",e.prototype.convertCommentKey="#comment",e.prototype.convertRawKey="#raw",e.prototype.assertLegalChar=function(t){var e;if(e=t.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/))throw new Error("Invalid character in string: "+t+" at index "+e.index);return t},e.prototype.elEscape=function(t){var e;return e=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},e.prototype.attEscape=function(t){var e;return e=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},e}()}).call(void 0)},{}],231:[function(t,e,n){var r=function(t){return t&&t.__esModule?t:{default:t}}(t("babel-runtime/core-js/object/create"));(function(){var n,i={}.hasOwnProperty;n=t("./XMLNode"),e.exports=function(t){function e(t,n){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing element text");this.value=this.stringify.eleText(n)}return function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.clone=function(){return(0,r.default)(this)},e.prototype.toString=function(t){return this.options.writer.set(t).text(this)},e}(n)}).call(void 0)},{"./XMLNode":225,"babel-runtime/core-js/object/create":18}],232:[function(t,e,n){(function(){var t={}.hasOwnProperty;e.exports=function(){function e(e){var n,r,i,o,s,a,c,l,u;for(n in e||(e={}),this.pretty=e.pretty||!1,this.allowEmpty=null!=(r=e.allowEmpty)&&r,this.pretty?(this.indent=null!=(i=e.indent)?i:"  ",this.newline=null!=(o=e.newline)?o:"\n",this.offset=null!=(s=e.offset)?s:0,this.dontprettytextnodes=null!=(a=e.dontprettytextnodes)?a:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=null!=(c=e.spacebeforeslash)?c:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,l=e.writer||{})t.call(l,n)&&(u=l[n],this[n]=u)}return e.prototype.set=function(e){var n,r,i;for(n in e||(e={}),"pretty"in e&&(this.pretty=e.pretty),"allowEmpty"in e&&(this.allowEmpty=e.allowEmpty),this.pretty?(this.indent="indent"in e?e.indent:"  ",this.newline="newline"in e?e.newline:"\n",this.offset="offset"in e?e.offset:0,this.dontprettytextnodes="dontprettytextnodes"in e?e.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in e?e.spacebeforeslash:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,r=e.writer||{})t.call(r,n)&&(i=r[n],this[n]=i);return this},e.prototype.space=function(t){var e;return this.pretty?(e=(t||0)+this.offset+1)>0?new Array(e).join(this.indent):"":""},e}()}).call(void 0)},{}],233:[function(t,e,n){(function(){var n,r,i,o,s,a,c;c=t("./Utility"),s=c.assign,a=c.isFunction,n=t("./XMLDocument"),r=t("./XMLDocumentCB"),o=t("./XMLStringWriter"),i=t("./XMLStreamWriter"),e.exports.create=function(t,e,r,i){var o,a;if(null==t)throw new Error("Root element needs a name");return i=s({},e,r,i),a=(o=new n(i)).element(t),i.headless||(o.declaration(i),null==i.pubID&&null==i.sysID||o.doctype(i)),a},e.exports.begin=function(t,e,i){var o;return a(t)&&(e=(o=[t,e])[0],i=o[1],t={}),e?new r(t,e,i):new n(t)},e.exports.stringWriter=function(t){return new o(t)},e.exports.streamWriter=function(t,e){return new i(t,e)}}).call(void 0)},{"./Utility":212,"./XMLDocument":222,"./XMLDocumentCB":223,"./XMLStreamWriter":228,"./XMLStringWriter":229}],234:[function(t,e,n){e.exports=function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)r.call(n,i)&&(t[i]=n[i])}return t};var r=Object.prototype.hasOwnProperty},{}],235:[function(t,e,n){function r(t,e){var n=s[t=t||"sha1"],r=[];return n||i("algorithm:",t,"is not yet supported"),{update:function(t){return o.isBuffer(t)||(t=new o(t)),r.push(t),t.length,this},digest:function(t){var i=o.concat(r),s=e?function(t,e,n){o.isBuffer(e)||(e=new o(e)),o.isBuffer(n)||(n=new o(n)),e.length>a?e=t(e):e.length<a&&(e=o.concat([e,c],a));for(var r=new o(a),i=new o(a),s=0;s<a;s++)r[s]=54^e[s],i[s]=92^e[s];var l=t(o.concat([r,n]));return t(o.concat([i,l]))}(n,e,i):n(i);return r=null,t?s.toString(t):s}}}function i(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}var o=t("buffer").Buffer,s={sha1:t("./sha"),sha256:t("./sha256"),md5:t("./md5")},a=64,c=new o(a);c.fill(0),n.createHash=function(t){return r(t)},n.createHmac=function(t,e){return r(t,e)},function(t,e){for(var n in t)e(t[n])}(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],(function(t){n[t]=function(){i("sorry,",t,"is not implemented yet")}}))},{"./md5":237,"./sha":238,"./sha256":239,buffer:37}],236:[function(t,e,n){var r=t("buffer").Buffer,i=4,o=new r(i);o.fill(0);var s=8;e.exports={hash:function(t,e,n,a){return r.isBuffer(t)||(t=new r(t)),function(t,e,n){for(var i=new r(e),o=n?i.writeInt32BE:i.writeInt32LE,s=0;s<t.length;s++)o.call(i,t[s],4*s,!0);return i}(e(function(t,e){if(t.length%i!=0){var n=t.length+(i-t.length%i);t=r.concat([t,o],n)}for(var s=[],a=e?t.readInt32BE:t.readInt32LE,c=0;c<t.length;c+=i)s.push(a.call(t,c));return s}(t,a),t.length*s),n,a)}}},{buffer:37}],237:[function(t,e,n){function r(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,r=-271733879,i=-1732584194,u=271733878,h=0;h<t.length;h+=16){var d=n,p=r,f=i,g=u;n=o(n,r,i,u,t[h+0],7,-680876936),u=o(u,n,r,i,t[h+1],12,-389564586),i=o(i,u,n,r,t[h+2],17,606105819),r=o(r,i,u,n,t[h+3],22,-1044525330),n=o(n,r,i,u,t[h+4],7,-176418897),u=o(u,n,r,i,t[h+5],12,1200080426),i=o(i,u,n,r,t[h+6],17,-1473231341),r=o(r,i,u,n,t[h+7],22,-45705983),n=o(n,r,i,u,t[h+8],7,1770035416),u=o(u,n,r,i,t[h+9],12,-1958414417),i=o(i,u,n,r,t[h+10],17,-42063),r=o(r,i,u,n,t[h+11],22,-1990404162),n=o(n,r,i,u,t[h+12],7,1804603682),u=o(u,n,r,i,t[h+13],12,-40341101),i=o(i,u,n,r,t[h+14],17,-1502002290),n=s(n,r=o(r,i,u,n,t[h+15],22,1236535329),i,u,t[h+1],5,-165796510),u=s(u,n,r,i,t[h+6],9,-1069501632),i=s(i,u,n,r,t[h+11],14,643717713),r=s(r,i,u,n,t[h+0],20,-373897302),n=s(n,r,i,u,t[h+5],5,-701558691),u=s(u,n,r,i,t[h+10],9,38016083),i=s(i,u,n,r,t[h+15],14,-660478335),r=s(r,i,u,n,t[h+4],20,-405537848),n=s(n,r,i,u,t[h+9],5,568446438),u=s(u,n,r,i,t[h+14],9,-1019803690),i=s(i,u,n,r,t[h+3],14,-187363961),r=s(r,i,u,n,t[h+8],20,1163531501),n=s(n,r,i,u,t[h+13],5,-1444681467),u=s(u,n,r,i,t[h+2],9,-51403784),i=s(i,u,n,r,t[h+7],14,1735328473),n=a(n,r=s(r,i,u,n,t[h+12],20,-1926607734),i,u,t[h+5],4,-378558),u=a(u,n,r,i,t[h+8],11,-2022574463),i=a(i,u,n,r,t[h+11],16,1839030562),r=a(r,i,u,n,t[h+14],23,-35309556),n=a(n,r,i,u,t[h+1],4,-1530992060),u=a(u,n,r,i,t[h+4],11,1272893353),i=a(i,u,n,r,t[h+7],16,-155497632),r=a(r,i,u,n,t[h+10],23,-1094730640),n=a(n,r,i,u,t[h+13],4,681279174),u=a(u,n,r,i,t[h+0],11,-358537222),i=a(i,u,n,r,t[h+3],16,-722521979),r=a(r,i,u,n,t[h+6],23,76029189),n=a(n,r,i,u,t[h+9],4,-640364487),u=a(u,n,r,i,t[h+12],11,-421815835),i=a(i,u,n,r,t[h+15],16,530742520),n=c(n,r=a(r,i,u,n,t[h+2],23,-995338651),i,u,t[h+0],6,-198630844),u=c(u,n,r,i,t[h+7],10,1126891415),i=c(i,u,n,r,t[h+14],15,-1416354905),r=c(r,i,u,n,t[h+5],21,-57434055),n=c(n,r,i,u,t[h+12],6,1700485571),u=c(u,n,r,i,t[h+3],10,-1894986606),i=c(i,u,n,r,t[h+10],15,-1051523),r=c(r,i,u,n,t[h+1],21,-2054922799),n=c(n,r,i,u,t[h+8],6,1873313359),u=c(u,n,r,i,t[h+15],10,-30611744),i=c(i,u,n,r,t[h+6],15,-1560198380),r=c(r,i,u,n,t[h+13],21,1309151649),n=c(n,r,i,u,t[h+4],6,-145523070),u=c(u,n,r,i,t[h+11],10,-1120210379),i=c(i,u,n,r,t[h+2],15,718787259),r=c(r,i,u,n,t[h+9],21,-343485551),n=l(n,d),r=l(r,p),i=l(i,f),u=l(u,g)}return Array(n,r,i,u)}function i(t,e,n,r,i,o){return l(function(t,e){return t<<e|t>>>32-e}(l(l(e,t),l(r,o)),i),n)}function o(t,e,n,r,o,s,a){return i(e&n|~e&r,t,e,o,s,a)}function s(t,e,n,r,o,s,a){return i(e&r|n&~r,t,e,o,s,a)}function a(t,e,n,r,o,s,a){return i(e^n^r,t,e,o,s,a)}function c(t,e,n,r,o,s,a){return i(n^(e|~r),t,e,o,s,a)}function l(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}var u=t("./helpers");e.exports=function(t){return u.hash(t,r,16)}},{"./helpers":236}],238:[function(t,e,n){function r(t,e){t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;for(var n=Array(80),r=1732584193,c=-271733879,l=-1732584194,u=271733878,h=-1009589776,d=0;d<t.length;d+=16){for(var p=r,f=c,g=l,m=u,v=h,y=0;y<80;y++){n[y]=y<16?t[d+y]:a(n[y-3]^n[y-8]^n[y-14]^n[y-16],1);var b=s(s(a(r,5),i(y,c,l,u)),s(s(h,n[y]),o(y)));h=u,u=l,l=a(c,30),c=r,r=b}r=s(r,p),c=s(c,f),l=s(l,g),u=s(u,m),h=s(h,v)}return Array(r,c,l,u,h)}function i(t,e,n,r){return t<20?e&n|~e&r:t<40?e^n^r:t<60?e&n|e&r|n&r:e^n^r}function o(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function s(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function a(t,e){return t<<e|t>>>32-e}var c=t("./helpers");e.exports=function(t){return c.hash(t,r,20,!0)}},{"./helpers":236}],239:[function(t,e,n){var r=t("./helpers"),i=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},o=function(t,e){return t>>>e|t<<32-e},s=function(t,e){return t>>>e},a=function(t,e,n){return t&e^~t&n},c=function(t,e,n){return t&e^t&n^e&n},l=function(t){return o(t,2)^o(t,13)^o(t,22)},u=function(t){return o(t,6)^o(t,11)^o(t,25)},h=function(t){return o(t,7)^o(t,18)^s(t,3)},d=function(t){return o(t,17)^o(t,19)^s(t,10)},p=function(t,e){var n,r,o,s,p,f,g,m,v,y,b=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),w=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),_=new Array(64);t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;for(var x=0;x<t.length;x+=16){n=w[0],r=w[1],o=w[2],s=w[3],p=w[4],f=w[5],g=w[6],m=w[7];for(var O=0;O<64;O++)_[O]=O<16?t[O+x]:i(i(i(d(_[O-2]),_[O-7]),h(_[O-15])),_[O-16]),v=i(i(i(i(m,u(p)),a(p,f,g)),b[O]),_[O]),y=i(l(n),c(n,r,o)),m=g,g=f,f=p,p=i(s,v),s=o,o=r,r=n,n=i(v,y);w[0]=i(n,w[0]),w[1]=i(r,w[1]),w[2]=i(o,w[2]),w[3]=i(s,w[3]),w[4]=i(p,w[4]),w[5]=i(f,w[5]),w[6]=i(g,w[6]),w[7]=i(m,w[7])}return w};e.exports=function(t){return r.hash(t,p,32,!0)}},{"./helpers":236}],240:[function(t,e,r){(function(n){function i(t){return t&&t.__esModule?t:{default:t}}var o=i(t("babel-runtime/core-js/object/create")),s=i(t("babel-runtime/helpers/classCallCheck")),a=i(t("babel-runtime/helpers/createClass")),c=i(t("babel-runtime/helpers/typeof"));!function(t){"object"===(void 0===r?"undefined":(0,c.default)(r))&&void 0!==e?e.exports=t():("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).mime=t()}((function(){return function e(n,r,i){function o(a,c){if(!r[a]){if(!n[a]){var l="function"==typeof t&&t;if(!c&&l)return l(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var h=r[a]={exports:{}};n[a][0].call(h.exports,(function(t){return o(n[a][1][t]||t)}),h,h.exports,e,n,r,i)}return r[a].exports}for(var s="function"==typeof t&&t,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,n){var r=function(){function t(){(0,s.default)(this,t),this._types=(0,o.default)(null),this._extensions=(0,o.default)(null);for(var e=0;e<arguments.length;e++)this.define(arguments[e])}return(0,a.default)(t,[{key:"define",value:function(t,e){for(var n in t){for(var r=t[n],i=0;i<r.length;i++){var o=r[i];if(!e&&o in this._types)throw new Error('Attempt to change mapping for "'+o+'" extension from "'+this._types[o]+'" to "'+n+'". Pass `force=true` to allow this, otherwise remove "'+o+'" from the list of extensions for "'+n+'".');this._types[o]=n}!e&&this._extensions[n]||(this._extensions[n]=r[0])}}},{key:"getType",value:function(t){var e=(t=String(t)).replace(/^.*[\/\\]/,"").toLowerCase(),n=e.replace(/^.*\./,"").toLowerCase(),r=e.length<t.length;return(n.length<e.length-1||!r)&&this._types[n]||null}},{key:"getExtension",value:function(t){return(t=/^\s*([^;\s]*)/.test(t)&&RegExp.$1)&&this._extensions[t.toLowerCase()]||null}}]),t}();e.exports=r},{}],2:[function(t,e,n){var r=t("./Mime");e.exports=new r(t("./types/standard"),t("./types/other"))},{"./Mime":1,"./types/other":3,"./types/standard":4}],3:[function(t,e,n){e.exports={"application/prs.cww":["cww"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":[],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":[],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-otf":[],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-ttf":["ttf","ttc"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":[],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":[],"application/x-msdownload":["com","bat"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["wmf","emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":[],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":[],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":[],"audio/x-wav":[],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":[],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":[],"image/x-pcx":["pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":[],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}},{}],4:[function(t,e,n){e.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/bdoc":["bdoc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/font-woff":["woff"],"application/font-woff2":["woff2"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/pskc+xml":["pskcxml"],"application/rdf+xml":["rdf"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/voicexml+xml":["vxml"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":[],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp3":[],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":[],"audio/webm":["weba"],"audio/xm":["xm"],"font/otf":["otf"],"image/apng":["apng"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/g3fax":["g3"],"image/gif":["gif"],"image/ief":["ief"],"image/jpeg":["jpeg","jpg","jpe"],"image/ktx":["ktx"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/tiff":["tiff","tif"],"image/webp":["webp"],"message/rfc822":["eml","mime"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["x3db","x3dbz"],"model/x3d+vrml":["x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/hjson":["hjson"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":[],"text/sgml":["sgml","sgm"],"text/slim":["slim","slm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":[],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},{}]},{},[2])(2)}))}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/core-js/object/create":18,"babel-runtime/helpers/classCallCheck":29,"babel-runtime/helpers/createClass":30,"babel-runtime/helpers/typeof":31}],241:[function(t,e,n){n.encodeURIComponent=function(t){try{return encodeURIComponent(t)}catch(e){return t}},n.escape=t("escape-html"),n.timestamp=function(t){if(t){var e=t;return"string"==typeof e&&(e=Number(e)),10===String(t).length&&(e*=1e3),new Date(e)}return Math.round(Date.now()/1e3)}},{"escape-html":155}],242:[function(t,e,n){(function(e,r){function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){return void 0===t?e:t}function s(t,e){return function(n,r,i){if(n)return e(n);t({data:r,status:i.statusCode,headers:i.headers,res:i})}}var a,c=i(t("babel-runtime/core-js/json/stringify")),l=i(t("babel-runtime/helpers/typeof")),u=t("util"),h=t("url"),d=t("http"),p=t("https"),f=t("debug")("urllib"),g=t("humanize-ms"),m=0,v=Math.pow(2,31)-10,y=/^https?:\/\//i;n.TIMEOUTS=[g("300s"),g("300s")];var b=["json","text"];n.request=function(e,r,i){return 2===arguments.length&&"function"==typeof r&&(i=r,r=null),"function"==typeof i?n.requestWithCallback(e,r,i):(a||(a=t("any-promise")),new a((function(t,i){n.requestWithCallback(e,r,s(t,i))})))},n.requestWithCallback=function(i,s,a){function w(){q&&(clearTimeout(q),q=null)}function _(){K&&(clearTimeout(K),K=null)}function x(t,r,o){if(_(),!a)return console.warn("[urllib:warn] [%s] [%s] [worker:%s] %s %s callback twice!!!",Date(),C,e.pid,F.method,i),void(t&&console.warn("[urllib:warn] [%s] [%s] [worker:%s] %s: %s\nstack: %s",Date(),C,e.pid,t.name,t.message,t.stack));var l=a;a=null;var u={};if(o&&(tt=o.statusCode,u=o.headers),401===tt&&u["www-authenticate"]&&(!s.headers||!s.headers.Authorization)&&s.digestAuth){var h=u["www-authenticate"];if(h.indexOf("Digest ")>=0)return f("Request#%d %s: got digest auth header WWW-Authenticate: %s",C,i,h),s.headers=s.headers||{},s.headers.Authorization=digestAuthHeader(F.method,F.path,h,s.digestAuth),f("Request#%d %s: auth with digest header: %s",C,i,s.headers.Authorization),o.headers["set-cookie"]&&(s.headers.Cookie=o.headers["set-cookie"].join(";")),n.requestWithCallback(i,s,l)}var d=Date.now()-D;it&&(it.contentDownload=d),f("[%sms] done, %s bytes HTTP %s %s %s %s, keepAliveSocket: %s, timing: %j",d,Q,tt,F.method,F.host,F.path,Z,it);var p={status:tt,statusCode:tt,headers:u,size:Q,aborted:et,rt:d,keepAliveSocket:Z,data:r,requestUrls:s.requestUrls,timing:it,remoteAddress:nt,remotePort:rt};if(t){var g="";L&&"function"==typeof L.getCurrentStatus&&(g=", agent status: "+(0,c.default)(L.getCurrentStatus())),t.message+=", "+F.method+" "+i+" "+tt+" (connected: "+J+", keepalive socket: "+Z+g+")\nheaders: "+(0,c.default)(u),t.data=r,t.path=F.path,t.status=tt,t.headers=u,t.res=p}l(t,r,s.streaming?o:p),s.emitter&&(A.url=i,A.socket=at&&at.connection,A.options=F,A.size=H,s.emitter.emit("response",{requestId:C,error:t,ctx:s.ctx,req:A,res:p}))}function O(t){var e=null;if(s.followRedirect&&statuses.redirect[t.statusCode]){s._followRedirectCount=(s._followRedirectCount||0)+1;var r=t.headers.location;if(r){if(!(s._followRedirectCount>s.maxRedirects)){var o=s.formatRedirectUrl?s.formatRedirectUrl(i,r):h.resolve(i,r);f("Request#%d %s: `redirected` from %s to %s",C,F.path,i,o),_(),s.headers&&s.headers.Host&&y.test(r)&&(s.headers.Host=null);var c=a;return a=null,n.requestWithCallback(o,s,c),{redirect:!0,error:null}}(e=new Error("Exceeded maxRedirects. Probably stuck in a redirect loop "+i)).name="MaxRedirectError"}else(e=new Error("Got statusCode "+t.statusCode+" but cannot resolve next location from headers")).name="FollowRedirectError"}return{redirect:!1,error:e}}function S(t,e,n){return n(null,e,t.headers["content-encoding"])}function j(t){var e;if(it&&(it.waiting=Date.now()-D),f("Request#%d %s `req response` event emit: status %d, headers: %j",C,i,t.statusCode,t.headers),s.streaming)return(e=O(t)).redirect?void t.resume():e.error?(t.resume(),x(e.error,null,t)):x(null,null,t);if(t.on("close",(function(){f("Request#%d %s: `res close` event emit, total size %d",C,i,Q)})),t.on("error",(function(){f("Request#%d %s: `res error` event emit, total size %d",C,i,Q)})),t.on("aborted",(function(){et=!0,f("Request#%d %s: `res aborted` event emit, total size %d",C,i,Q)})),ct)return(e=O(t)).redirect?void t.resume():e.error?(t.resume(),ct.end(),x(e.error,null,t)):(!1===s.consumeWriteStream?t.on("end",x.bind(null,null,null,t)):isNode010||isNode012?first([[ct,"close"],[t,"aborted"]],(function(e,n,r){f("Request#%d %s: writeStream or res %s event emitted",C,i,r),x($||null,null,t)})):ct.on("close",(function(){f("Request#%d %s: writeStream close event emitted",C,i),x($||null,null,t)})),t.pipe(ct));var n=[];t.on("data",(function(t){f("Request#%d %s: `res data` event emit, size %d",C,i,t.length),Q+=t.length,n.push(t)})),t.on("end",(function(){var e=r.concat(n,Q);if(f("Request#%d %s: `res end` event emit, total size %d, _dumped: %s",C,i,Q,t._dumped),$)return x($,e,t);var o=O(t);if(o.error)return x(o.error,e,t);o.redirect||S(t,e,(function(n,r,o){if(n)return x(n,e,t);if(!o&&b.indexOf(s.dataType)>=0){try{r=decodeBodyByCharset(r,t)}catch(e){return f("decodeBodyByCharset error: %s",e),x(null,r,t)}if("json"===s.dataType)if(0===Q)r=null;else{var a=parseJSON(r,N);a.error?n=a.error:r=a.data}}et&&f("Request#%d %s: Remote socket was terminated before `response.end()` was called",C,i),x(n,r,t)}))}))}function E(){f("Response timer ticking, timeout: %d",st),K=setTimeout((function(){K=null;var t="Response timeout for "+st+"ms";($=new Error(t)).name="ResponseTimeoutError",$.requestId=C,f("ResponseTimeout: Request#%d %s %s: %s, connected: %s",C,i,$.name,t,J),T()}),st)}function T(){f("Request#%d %s abort, connected: %s",C,i,J),at.socket||($.noSocket=!0,x($)),at.abort()}if(!i||"string"!=typeof i&&"object"!==(void 0===i?"undefined":(0,l.default)(i))){var P=u.format("expect request url to be a string or a http request options, but got %j",i);throw new Error(P)}2===arguments.length&&"function"==typeof s&&(a=s,s=null),m>=v&&(m=0);var C=++m;(s=s||{}).requestUrls=s.requestUrls||[];var A={requestId:C,url:i,args:s,ctx:s.ctx};s.emitter&&s.emitter.emit("request",A),s.timeout=s.timeout||n.TIMEOUTS,s.maxRedirects=s.maxRedirects||10,s.streaming=s.streaming||s.customResponse;var k,D=Date.now();"string"==typeof i?(y.test(i)||(i="http://"+i),k=h.parse(i)):k=i;var I=(s.type||s.method||k.method||"GET").toUpperCase(),M=k.port||80,R=d,L=o(s.agent,n.agent),N=s.fixJSONCtlChars;"https:"===k.protocol&&(R=p,L=o(s.httpsAgent,n.httpsAgent),k.port||(M=443));var F={host:k.hostname||k.host||"localhost",path:k.path||"/",method:I,port:M,agent:L,headers:s.headers||{},lookup:s.lookup};Array.isArray(s.timeout)?F.requestTimeout=s.timeout[s.timeout.length-1]:void 0!==s.timeout&&(F.requestTimeout=s.timeout);for(var B=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","secureOptions"],U=0;U<B.length;U++){var z=B[U];s.hasOwnProperty(z)&&(F[z]=s[z])}!1!==F.rejectUnauthorized||F.hasOwnProperty("secureOptions")||(F.secureOptions=t("constants").SSL_OP_NO_TLSv1_2);var X=s.auth||k.auth;X&&(F.auth=X);var Y=s.content||s.data,G="GET"===I||"HEAD"===I||s.dataAsQueryString;if(!s.content&&Y&&"string"!=typeof Y&&!r.isBuffer(Y))if(G)Y=s.nestedQuerystring?qs.stringify(Y):querystring.stringify(Y);else{var V=F.headers["Content-Type"]||F.headers["content-type"];V||(V="json"===s.contentType?"application/json":"application/x-www-form-urlencoded",F.headers["Content-Type"]=V),Y="application/json"===parseContentType(V).type?(0,c.default)(Y):s.nestedQuerystring?qs.stringify(Y):querystring.stringify(Y)}G&&Y&&(F.path+=(k.query?"&":"?")+Y,Y=null);var H=0;if(Y){var W=Y.length;r.isBuffer(Y)||(W=r.byteLength(Y)),H=F.headers["Content-Length"]=W}"json"===s.dataType&&(F.headers.Accept="application/json"),"function"==typeof s.beforeRequest&&s.beforeRequest(F);var q=null,K=null,$=null,J=!1,Z=!1,Q=0,tt=-1,et=!1,nt="",rt="",it=null;s.timing&&(it={queuing:0,dnslookup:0,connected:0,requestSent:0,waiting:0,contentDownload:0}),F.headers["User-Agent"]||F.headers["user-agent"]||(F.headers["User-Agent"]=navigator.userAgent),s.gzip&&(F.headers["Accept-Encoding"]||F.headers["accept-encoding"]||(F.headers["Accept-Encoding"]="gzip"));var ot,st,at,ct=s.writeStream;f("Request#%d %s %s with headers %j, options.path: %s",C,I,i,F.headers,F.path),s.requestUrls.push(i),Array.isArray(s.timeout)?(ot=g(s.timeout[0]),st=g(s.timeout[1])):ot=st=g(s.timeout),f("ConnectTimeout: %d, ResponseTimeout: %d",ot,st),F.mode=s.mode?s.mode:"";try{at=R.request(F,j)}catch(t){return x(t)}return"undefined"==typeof window?(f("Connect timer ticking, timeout: %d",ot),q=setTimeout((function(){q=null,-1===tt&&(tt=-2);var t="Connect timeout for "+ot+"ms",e="ConnectionTimeoutError";at.socket||(e="SocketAssignTimeoutError",t+=", working sockets is full"),($=new Error(t)).name=e,$.requestId=C,f("ConnectTimeout: Request#%d %s %s: %s, connected: %s",C,i,$.name,t,J),T()}),ot)):at.on("requestTimeout",(function(){-1===tt&&(tt=-2),($=new Error("Connect timeout for "+ot+"ms")).name="ConnectionTimeoutError",$.requestId=C,T()})),it&&at.on("finish",(function(){it.requestSent=Date.now()-D})),at.once("socket",(function(t){it&&(it.queuing=Date.now()-D),isNode010&&t.socket&&(t=t.socket);var e=t.readyState;if("opening"===e)return t.once("lookup",(function(t,e,n){f("Request#%d %s lookup: %s, %s, %s",C,i,t,e,n),it&&(it.dnslookup=Date.now()-D),e&&(nt=e)})),void t.once("connect",(function(){it&&(it.connected=Date.now()-D),w(),E(),f("Request#%d %s new socket connected",C,i),J=!0,nt||(nt=t.remoteAddress),rt=t.remotePort}));f("Request#%d %s reuse socket connected, readyState: %s",C,i,e),J=!0,Z=!0,nt||(nt=t.remoteAddress),rt=t.remotePort,w(),E()})),at.on("error",(function(t){"Error"!==t.name&&"TypeError"!==t.name||(t.name=J?"ResponseError":"RequestError"),t.message+=' (req "error")',f("Request#%d %s `req error` event emit, %s: %s",C,i,t.name,t.message),x($||t)})),ct&&ct.once("error",(function(t){t.message+=' (writeStream "error")',$=t,f("Request#%d %s `writeStream error` event emit, %s: %s",C,i,t.name,t.message),T()})),s.stream?(s.stream.pipe(at),s.stream.once("error",(function(t){t.message+=' (stream "error")',$=t,f("Request#%d %s `readStream error` event emit, %s: %s",C,i,t.name,t.message),T()}))):at.end(Y),at.requestId=C,at}}).call(this,t("_process"),t("buffer").Buffer)},{_process:171,"any-promise":12,"babel-runtime/core-js/json/stringify":16,"babel-runtime/helpers/typeof":31,buffer:37,constants:39,debug:153,http:194,https:157,"humanize-ms":158,url:201,util:205}]},{},[1])(1)}))}).call(this,n(22))},function(t,e,n){"use strict";e.__esModule=!0,e.root=void 0;var r=n(34),i=new r.Type("AutoAck");i.add(new r.Field("code",1,"int32")),i.add(new r.Field("message",2,"string"));var o=new r.Type("ActionAck");o.add(new r.Field("code",1,"int32")),o.add(new r.Field("message",2,"string"));var s=new r.Type("JoinRoomMessage");s.add(new r.Field("appid",1,"int32")),s.add(new r.Field("groupId",2,"string"));var a=new r.Type("LeaveRoomMessage");a.add(new r.Field("appid",1,"int32")),a.add(new r.Field("groupId",2,"string"));var c=new r.Type("JoinRoomAck");c.add(new r.Field("success",1,"bool"));var l=new r.Type("SubscribeAppMessage");l.add(new r.Field("appid",1,"int32"));var u=new r.Type("UnsubscribeAppMessage");u.add(new r.Field("appid",1,"int32"));var h=new r.Type("HandshakeResponseMessage");h.add(new r.Field("code",1,"int32")),h.add(new r.Field("message",2,"string"));var d=new r.Type("RoomResetMessage");d.add(new r.Field("appid",1,"int32")),d.add(new r.Field("groupId",2,"string"));var p=e.root=new r.Root;p.add(i),p.add(o),p.add(s),p.add(a),p.add(c),p.add(l),p.add(u),p.add(h),p.add(d)},function(t,e,n){"use strict";var r=t.exports=n(227);r.build="full",r.tokenize=n(110),r.parse=n(241),r.common=n(242),r.Root._configure(r.Type,r.parse,r.common)},function(t,e,n){"use strict";var r=t.exports=n(228);r.build="light",r.load=function(t,e,n){return"function"==typeof e?(n=e,e=new r.Root):e||(e=new r.Root),e.load(t,n)},r.loadSync=function(t,e){return e||(e=new r.Root),e.loadSync(t)},r.encoder=n(105),r.decoder=n(106),r.verifier=n(107),r.converter=n(108),r.ReflectionObject=n(29),r.Namespace=n(35),r.Root=n(73),r.Enum=n(18),r.Type=n(68),r.Field=n(25),r.OneOf=n(44),r.MapField=n(69),r.Service=n(70),r.Method=n(71),r.Message=n(72),r.wrappers=n(109),r.types=n(30),r.util=n(13),r.ReflectionObject._configure(r.Root),r.Namespace._configure(r.Type,r.Service,r.Enum),r.Root._configure(r.Type),r.Field._configure(r.Type)},function(t,e,n){"use strict";var r=e;function i(){r.Reader._configure(r.BufferReader),r.util._configure()}r.build="minimal",r.Writer=n(66),r.BufferWriter=n(235),r.Reader=n(67),r.BufferReader=n(236),r.util=n(19),r.rpc=n(103),r.roots=n(104),r.configure=i,r.Writer._configure(r.BufferWriter),i()},function(t,e,n){"use strict";var r=e;r.length=function(t){var e=t.length;if(!e)return 0;for(var n=0;--e%4>1&&"="===t.charAt(e);)++n;return Math.ceil(3*t.length)/4-n};for(var i=new Array(64),o=new Array(123),s=0;s<64;)o[i[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;r.encode=function(t,e,n){for(var r,o=null,s=[],a=0,c=0;e<n;){var l=t[e++];switch(c){case 0:s[a++]=i[l>>2],r=(3&l)<<4,c=1;break;case 1:s[a++]=i[r|l>>4],r=(15&l)<<2,c=2;break;case 2:s[a++]=i[r|l>>6],s[a++]=i[63&l],c=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return c&&(s[a++]=i[r],s[a++]=61,1===c&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};r.decode=function(t,e,n){for(var r,i=n,s=0,a=0;a<t.length;){var c=t.charCodeAt(a++);if(61===c&&s>1)break;if(void 0===(c=o[c]))throw Error("invalid encoding");switch(s){case 0:r=c,s=1;break;case 1:e[n++]=r<<2|(48&c)>>4,r=c,s=2;break;case 2:e[n++]=(15&r)<<4|(60&c)>>2,r=c,s=3;break;case 3:e[n++]=(3&r)<<6|c,s=0}}if(1===s)throw Error("invalid encoding");return n-i},r.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},function(t,e,n){"use strict";function r(){this._listeners={}}t.exports=r,r.prototype.on=function(t,e,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:n||this}),this},r.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var n=this._listeners[t],r=0;r<n.length;)n[r].fn===e?n.splice(r,1):++r;return this},r.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<e.length;)e[r].fn.apply(e[r++].ctx,n)}return this}},function(t,e,n){"use strict";function r(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),n=new Uint8Array(e.buffer),r=128===n[3];function i(t,r,i){e[0]=t,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function o(t,r,i){e[0]=t,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function s(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],e[0]}function a(t,r){return n[3]=t[r],n[2]=t[r+1],n[1]=t[r+2],n[0]=t[r+3],e[0]}t.writeFloatLE=r?i:o,t.writeFloatBE=r?o:i,t.readFloatLE=r?s:a,t.readFloatBE=r?a:s}():function(){function e(t,e,n,r){var i=e<0?1:0;if(i&&(e=-e),0===e)t(1/e>0?0:2147483648,n,r);else if(isNaN(e))t(2143289344,n,r);else if(e>34028234663852886e22)t((i<<31|2139095040)>>>0,n,r);else if(e<11754943508222875e-54)t((i<<31|Math.round(e/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(e)/Math.LN2);t((i<<31|o+127<<23|8388607&Math.round(e*Math.pow(2,-o)*8388608))>>>0,n,r)}}function n(t,e,n){var r=t(e,n),i=2*(r>>31)+1,o=r>>>23&255,s=8388607&r;return 255===o?s?NaN:i*(1/0):0===o?1401298464324817e-60*i*s:i*Math.pow(2,o-150)*(s+8388608)}t.writeFloatLE=e.bind(null,i),t.writeFloatBE=e.bind(null,o),t.readFloatLE=n.bind(null,s),t.readFloatBE=n.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),n=new Uint8Array(e.buffer),r=128===n[7];function i(t,r,i){e[0]=t,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function o(t,r,i){e[0]=t,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function s(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],n[4]=t[r+4],n[5]=t[r+5],n[6]=t[r+6],n[7]=t[r+7],e[0]}function a(t,r){return n[7]=t[r],n[6]=t[r+1],n[5]=t[r+2],n[4]=t[r+3],n[3]=t[r+4],n[2]=t[r+5],n[1]=t[r+6],n[0]=t[r+7],e[0]}t.writeDoubleLE=r?i:o,t.writeDoubleBE=r?o:i,t.readDoubleLE=r?s:a,t.readDoubleBE=r?a:s}():function(){function e(t,e,n,r,i,o){var s=r<0?1:0;if(s&&(r=-r),0===r)t(0,i,o+e),t(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))t(0,i,o+e),t(2146959360,i,o+n);else if(r>17976931348623157e292)t(0,i,o+e),t((s<<31|2146435072)>>>0,i,o+n);else{var a;if(r<22250738585072014e-324)t((a=r/5e-324)>>>0,i,o+e),t((s<<31|a/4294967296)>>>0,i,o+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),t(4503599627370496*(a=r*Math.pow(2,-c))>>>0,i,o+e),t((s<<31|c+1023<<20|1048576*a&1048575)>>>0,i,o+n)}}}function n(t,e,n,r,i){var o=t(r,i+e),s=t(r,i+n),a=2*(s>>31)+1,c=s>>>20&2047,l=4294967296*(1048575&s)+o;return 2047===c?l?NaN:a*(1/0):0===c?5e-324*a*l:a*Math.pow(2,c-1075)*(l+4503599627370496)}t.writeDoubleLE=e.bind(null,i,0,4),t.writeDoubleBE=e.bind(null,o,4,0),t.readDoubleLE=n.bind(null,s,0,4),t.readDoubleBE=n.bind(null,a,4,0)}(),t}function i(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function o(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function s(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function a(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=r(r)},function(t,e,n){"use strict";var r=e;r.length=function(t){for(var e=0,n=0,r=0;r<t.length;++r)(n=t.charCodeAt(r))<128?e+=1:n<2048?e+=2:55296==(64512&n)&&56320==(64512&t.charCodeAt(r+1))?(++r,e+=4):e+=3;return e},r.read=function(t,e,n){if(n-e<1)return"";for(var r,i=null,o=[],s=0;e<n;)(r=t[e++])<128?o[s++]=r:r>191&&r<224?o[s++]=(31&r)<<6|63&t[e++]:r>239&&r<365?(r=((7&r)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,o[s++]=55296+(r>>10),o[s++]=56320+(1023&r)):o[s++]=(15&r)<<12|(63&t[e++])<<6|63&t[e++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},r.write=function(t,e,n){for(var r,i,o=n,s=0;s<t.length;++s)(r=t.charCodeAt(s))<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=t.charCodeAt(s+1)))?(r=65536+((1023&r)<<10)+(1023&i),++s,e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128);return n-o}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r=n||8192,i=r>>>1,o=null,s=r;return function(n){if(n<1||n>i)return t(n);s+n>r&&(o=t(r),s=0);var a=e.call(o,s,s+=n);return 7&s&&(s=1+(7|s)),a}}},function(t,e,n){"use strict";t.exports=i;var r=n(19);function i(t,e){this.lo=t>>>0,this.hi=e>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(t){if(0===t)return o;var e=t<0;e&&(t=-t);var n=t>>>0,r=(t-n)/4294967296>>>0;return e&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(t){if("number"==typeof t)return i.fromNumber(t);if(r.isString(t)){if(!r.Long)return i.fromNumber(parseInt(t,10));t=r.Long.fromString(t)}return t.low||t.high?new i(t.low>>>0,t.high>>>0):o},i.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,n=~this.hi>>>0;return e||(n=n+1>>>0),-(e+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(t){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var a=String.prototype.charCodeAt;i.fromHash=function(t){return t===s?o:new i((a.call(t,0)|a.call(t,1)<<8|a.call(t,2)<<16|a.call(t,3)<<24)>>>0,(a.call(t,4)|a.call(t,5)<<8|a.call(t,6)<<16|a.call(t,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},i.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},i.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:n<128?9:10}},function(t,e,n){"use strict";t.exports=s;var r=n(66);(s.prototype=Object.create(r.prototype)).constructor=s;var i=n(19),o=i.Buffer;function s(){r.call(this)}s.alloc=function(t){return(s.alloc=i._Buffer_allocUnsafe)(t)};var a=o&&o.prototype instanceof Uint8Array&&"set"===o.prototype.set.name?function(t,e,n){e.set(t,n)}:function(t,e,n){if(t.copy)t.copy(e,n,0,t.length);else for(var r=0;r<t.length;)e[n++]=t[r++]};function c(t,e,n){t.length<40?i.utf8.write(t,e,n):e.utf8Write(t,n)}s.prototype.bytes=function(t){i.isString(t)&&(t=i._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(a,e,t),this},s.prototype.string=function(t){var e=o.byteLength(t);return this.uint32(e),e&&this._push(c,e,t),this}},function(t,e,n){"use strict";t.exports=o;var r=n(67);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(19);function o(t){r.call(this,t)}i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice),o.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len))}},function(t,e,n){"use strict";t.exports=i;var r=n(19);function i(t,e,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function t(e,n,i,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return r.asPromise(t,a,e,n,i,o);if(a.rpcImpl)try{return a.rpcImpl(e,n[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(t,n){if(t)return a.emit("error",t,e),s(t);if(null!==n){if(!(n instanceof i))try{n=i[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return a.emit("error",t,e),s(t)}return a.emit("data",n,e),s(null,n)}a.end(!0)}))}catch(t){return a.emit("error",t,e),void setTimeout((function(){s(t)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},i.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,e,n){"use strict";function r(t,e){"string"==typeof t&&(e=t,t=void 0);var n=[];function i(t){if("string"!=typeof t){var e=o();if(r.verbose&&console.log("codegen: "+e),e="return "+e,t){for(var s=Object.keys(t),a=new Array(s.length+1),c=new Array(s.length),l=0;l<s.length;)a[l]=s[l],c[l]=t[s[l++]];return a[l]=e,Function.apply(null,a).apply(null,c)}return Function(e)()}for(var u=new Array(arguments.length-1),h=0;h<u.length;)u[h]=arguments[++h];if(h=0,t=t.replace(/%([%dfijs])/g,(function(t,e){var n=u[h++];switch(e){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"})),h!==u.length)throw Error("parameter count mismatch");return n.push(t),i}function o(r){return"function "+(r||e||"")+"("+(t&&t.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return i.toString=o,i}t.exports=r,r.verbose=!1},function(t,e,n){"use strict";t.exports=o;var r=n(101),i=n(102)("fs");function o(t,e,n){return"function"==typeof e?(n=e,e={}):e||(e={}),n?!e.xhr&&i&&i.readFile?i.readFile(t,(function(r,i){return r&&"undefined"!=typeof XMLHttpRequest?o.xhr(t,e,n):r?n(r):n(null,e.binary?i:i.toString("utf8"))})):o.xhr(t,e,n):r(o,this,t,e)}o.xhr=function(t,e,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(e.binary){var t=r.response;if(!t){t=[];for(var i=0;i<r.responseText.length;++i)t.push(255&r.responseText.charCodeAt(i))}return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(t):t)}return n(null,r.responseText)}},e.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",t),r.send()}},function(t,e,n){"use strict";var r=e,i=r.isAbsolute=function(t){return/^(?:\/|\w+:)/.test(t)},o=r.normalize=function(t){var e=(t=t.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=i(t),r="";n&&(r=e.shift()+"/");for(var o=0;o<e.length;)".."===e[o]?o>0&&".."!==e[o-1]?e.splice(--o,2):n?e.splice(o,1):++o:"."===e[o]?e.splice(o,1):++o;return r+e.join("/")};r.resolve=function(t,e,n){return n||(e=o(e)),i(e)?e:(n||(t=o(t)),(t=t.replace(/(?:\/|^)[^/]+$/,"")).length?o(t+"/"+e):e)}},function(t,e,n){"use strict";t.exports=S,S.filename=null,S.defaults={keepCase:!1};var r=n(110),i=n(73),o=n(68),s=n(25),a=n(69),c=n(44),l=n(18),u=n(70),h=n(71),d=n(30),p=n(13),f=/^[1-9][0-9]*$/,g=/^-?[1-9][0-9]*$/,m=/^0[x][0-9a-fA-F]+$/,v=/^-?0[x][0-9a-fA-F]+$/,y=/^0[0-7]+$/,b=/^-?0[0-7]+$/,w=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,_=/^[a-zA-Z_][a-zA-Z_0-9]*$/,x=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,O=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function S(t,e,n){e instanceof i||(n=e,e=new i),n||(n=S.defaults);var j,E,T,P,C,A=r(t,n.alternateCommentMode||!1),k=A.next,D=A.push,I=A.peek,M=A.skip,R=A.cmnt,L=!0,N=!1,F=e,B=n.keepCase?function(t){return t}:p.camelCase;function U(t,e,n){var r=S.filename;return n||(S.filename=null),Error("illegal "+(e||"token")+" '"+t+"' ("+(r?r+", ":"")+"line "+A.line+")")}function z(){var t,e=[];do{if('"'!==(t=k())&&"'"!==t)throw U(t);e.push(k()),M(t),t=I()}while('"'===t||"'"===t);return e.join("")}function X(t){var e=k();switch(e){case"'":case'"':return D(e),z();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(t,e){var n=1;"-"===t.charAt(0)&&(n=-1,t=t.substring(1));switch(t){case"inf":case"INF":case"Inf":return n*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(f.test(t))return n*parseInt(t,10);if(m.test(t))return n*parseInt(t,16);if(y.test(t))return n*parseInt(t,8);if(w.test(t))return n*parseFloat(t);throw U(t,"number",e)}(e,!0)}catch(n){if(t&&x.test(e))return e;throw U(e,"value")}}function Y(t,e){var n,r;do{!e||'"'!==(n=I())&&"'"!==n?t.push([r=G(k()),M("to",!0)?G(k()):r]):t.push(z())}while(M(",",!0));M(";")}function G(t,e){switch(t){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!e&&"-"===t.charAt(0))throw U(t,"id");if(g.test(t))return parseInt(t,10);if(v.test(t))return parseInt(t,16);if(b.test(t))return parseInt(t,8);throw U(t,"id")}function V(){if(void 0!==j)throw U("package");if(j=k(),!x.test(j))throw U(j,"name");F=F.define(j),M(";")}function H(){var t,e=I();switch(e){case"weak":t=T||(T=[]),k();break;case"public":k();default:t=E||(E=[])}e=z(),M(";"),t.push(e)}function W(){if(M("="),P=z(),!(N="proto3"===P)&&"proto2"!==P)throw U(P,"syntax");M(";")}function q(t,e){switch(e){case"option":return J(t,e),M(";"),!0;case"message":return function(t,e){if(!_.test(e=k()))throw U(e,"type name");var n=new o(e);K(n,(function(t){if(!q(n,t))switch(t){case"map":!function(t){M("<");var e=k();if(void 0===d.mapKey[e])throw U(e,"type");M(",");var n=k();if(!x.test(n))throw U(n,"type");M(">");var r=k();if(!_.test(r))throw U(r,"name");M("=");var i=new a(B(r),G(k()),e,n);K(i,(function(t){if("option"!==t)throw U(t);J(i,t),M(";")}),(function(){tt(i)})),t.add(i)}(n);break;case"required":case"optional":case"repeated":$(n,t);break;case"oneof":!function(t,e){if(!_.test(e=k()))throw U(e,"name");var n=new c(B(e));K(n,(function(t){"option"===t?(J(n,t),M(";")):(D(t),$(n,"optional"))})),t.add(n)}(n,t);break;case"extensions":Y(n.extensions||(n.extensions=[]));break;case"reserved":Y(n.reserved||(n.reserved=[]),!0);break;default:if(!N||!x.test(t))throw U(t);D(t),$(n,"optional")}})),t.add(n)}(t,e),!0;case"enum":return function(t,e){if(!_.test(e=k()))throw U(e,"name");var n=new l(e);K(n,(function(t){switch(t){case"option":J(n,t),M(";");break;case"reserved":Y(n.reserved||(n.reserved=[]),!0);break;default:!function(t,e){if(!_.test(e))throw U(e,"name");M("=");var n=G(k(),!0),r={};K(r,(function(t){if("option"!==t)throw U(t);J(r,t),M(";")}),(function(){tt(r)})),t.add(e,n,r.comment)}(n,t)}})),t.add(n)}(t,e),!0;case"service":return function(t,e){if(!_.test(e=k()))throw U(e,"service name");var n=new u(e);K(n,(function(t){if(!q(n,t)){if("rpc"!==t)throw U(t);!function(t,e){var n=e;if(!_.test(e=k()))throw U(e,"name");var r,i,o,s,a=e;M("("),M("stream",!0)&&(i=!0);if(!x.test(e=k()))throw U(e);r=e,M(")"),M("returns"),M("("),M("stream",!0)&&(s=!0);if(!x.test(e=k()))throw U(e);o=e,M(")");var c=new h(a,n,r,o,i,s);K(c,(function(t){if("option"!==t)throw U(t);J(c,t),M(";")})),t.add(c)}(n,t)}})),t.add(n)}(t,e),!0;case"extend":return function(t,e){if(!x.test(e=k()))throw U(e,"reference");var n=e;K(null,(function(e){switch(e){case"required":case"repeated":case"optional":$(t,e,n);break;default:if(!N||!x.test(e))throw U(e);D(e),$(t,"optional",n)}}))}(t,e),!0}return!1}function K(t,e,n){var r=A.line;if(t&&(t.comment=R(),t.filename=S.filename),M("{",!0)){for(var i;"}"!==(i=k());)e(i);M(";",!0)}else n&&n(),M(";"),t&&"string"!=typeof t.comment&&(t.comment=R(r))}function $(t,e,n){var r=k();if("group"!==r){if(!x.test(r))throw U(r,"type");var i=k();if(!_.test(i))throw U(i,"name");i=B(i),M("=");var a=new s(i,G(k()),r,e,n);K(a,(function(t){if("option"!==t)throw U(t);J(a,t),M(";")}),(function(){tt(a)})),t.add(a),N||!a.repeated||void 0===d.packed[r]&&void 0!==d.basic[r]||a.setOption("packed",!1,!0)}else!function(t,e){var n=k();if(!_.test(n))throw U(n,"name");var r=p.lcFirst(n);n===r&&(n=p.ucFirst(n));M("=");var i=G(k()),a=new o(n);a.group=!0;var c=new s(r,i,n,e);c.filename=S.filename,K(a,(function(t){switch(t){case"option":J(a,t),M(";");break;case"required":case"optional":case"repeated":$(a,t);break;default:throw U(t)}})),t.add(a).add(c)}(t,e)}function J(t,e){var n=M("(",!0);if(!x.test(e=k()))throw U(e,"name");var r=e;n&&(M(")"),r="("+r+")",e=I(),O.test(e)&&(r+=e,k())),M("="),Z(t,r)}function Z(t,e){if(M("{",!0))do{if(!_.test(C=k()))throw U(C,"name");"{"===I()?Z(t,e+"."+C):(M(":"),"{"===I()?Z(t,e+"."+C):Q(t,e+"."+C,X(!0))),M(",",!0)}while(!M("}",!0));else Q(t,e,X(!0))}function Q(t,e,n){t.setOption&&t.setOption(e,n)}function tt(t){if(M("[",!0)){do{J(t,"option")}while(M(",",!0));M("]")}return t}for(;null!==(C=k());)switch(C){case"package":if(!L)throw U(C);V();break;case"import":if(!L)throw U(C);H();break;case"syntax":if(!L)throw U(C);W();break;case"option":if(!L)throw U(C);J(F,C),M(";");break;default:if(q(F,C)){L=!1;continue}throw U(C)}return S.filename=null,{package:j,imports:E,weakImports:T,syntax:P,root:e}}},function(t,e,n){"use strict";t.exports=o;var r,i=/\/|\./;function o(t,e){i.test(t)||(t="google/protobuf/"+t+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),o[t]=e}o("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),o("duration",{Duration:r={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),o("timestamp",{Timestamp:r}),o("empty",{Empty:{fields:{}}}),o("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),o("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),o("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),o.get=function(t){return o[t]||null}},function(t,e,n){"use strict";e.__esModule=!0,e.root=void 0;var r=n(34),i=new r.Type("PushMessage");i.add(new r.Field("taskId",1,"string")),i.add(new r.Field("createTime",2,"uint64")),i.add(new r.Field("offline",3,"bool")),i.add(new r.Field("offlineExpireTime",4,"int64")),i.add(new r.Field("transmissionTemplate",5,"TransmissionTemplate")),i.add(new r.Field("notificationTemplate",6,"NotificationTemplate")),i.add(new r.OneOf("template",["transmissionTemplate","notificationTemplate"]));var o=new r.Type("TransmissionTemplate");o.add(new r.Field("transmissionType",1,"string")),o.add(new r.Field("transmissionContent",2,"string"));var s=new r.Type("NotificationTemplate");s.add(new r.Field("style",1,"Style")),s.add(new r.Field("transmission",2,"TransmissionTemplate")),s.add(new r.Field("link",3,"string"));var a=new r.Type("Style");a.add(new r.Field("title",1,"string")),a.add(new r.Field("text",2,"string")),a.add(new r.Field("logo",3,"string")),a.add(new r.Field("logoUrl",4,"string")),a.add(new r.Field("ring",5,"bool")),a.add(new r.Field("clearable",6,"bool")),a.add(new r.Field("positionType",7,"int32")),a.add(new r.Field("gravity",8,"string")),a.add(new r.Field("dx",9,"int32")),a.add(new r.Field("dy",10,"int32"));var c=new r.Type("PushAck");c.add(new r.Field("taskId",1,"string")),c.add(new r.Field("sessionId",2,"string")),c.add(new r.Field("userId",3,"int64"));var l=new r.Type("RedirectAck");l.add(new r.Field("taskId",1,"string")),l.add(new r.Field("sessionId",2,"string")),l.add(new r.Field("userId",3,"int64"));var u=e.root=new r.Root;u.add(l),u.add(c),u.add(i),u.add(o),u.add(s),u.add(a)},function(t,e,n){"use strict";e.__esModule=!0,e.root=void 0;var r=n(34),i=new r.Type("IMMessage");i.add(new r.Field("msgId",1,"string")),i.add(new r.Field("payload",2,"bytes")),i.add(new r.Field("ackMode",3,"int32"));var o=new r.Type("PrivateMessage");o.add(new r.Field("msgId",1,"int64")),o.add(new r.Field("senderId",2,"int64")),o.add(new r.Field("targetId",3,"int64")),o.add(new r.Field("payload",4,"bytes")),o.add(new r.Field("ackMode",5,"int32"));var s=new r.Type("TxtMessage");s.add(new r.Field("content",1,"string")),s.add(new r.Field("extra",2,"string")),s.messageId="TxtMessage";var a=new r.Type("VoiceMessage");a.add(new r.Field("content",1,"string")),a.add(new r.Field("extra",2,"string")),a.add(new r.Field("duration",3,"int64"));var c=new r.Type("HQVoiceMessage");c.add(new r.Field("localPath",1,"string")),c.add(new r.Field("remoteUrl",2,"string")),c.add(new r.Field("duration",3,"int64")),c.add(new r.Field("extra",4,"string")),c.messageId="HQVoiceMessage";var l=new r.Type("GroupStateMessage");l.add(new r.Field("operatorUserId",1,"string")),l.add(new r.Field("operation",2,"string")),l.add(new r.Field("message",3,"string")),l.add(new r.Field("extra",5,"string")),l.add(new r.MapField("data",6,"string","string"));var u=new r.Type("ImgMessage");u.add(new r.Field("content",1,"string")),u.add(new r.Field("extra",2,"string")),u.add(new r.Field("imageUri",3,"string")),u.messageId="ImgMessage";var h=new r.Type("ImgTextMessage");h.add(new r.Field("content",1,"string")),h.add(new r.Field("extra",2,"string")),h.add(new r.Field("imageUri",3,"string")),h.add(new r.Field("title",4,"string")),h.add(new r.Field("url",5,"string"));var d=new r.Type("LBSMessage");d.add(new r.Field("content",1,"string")),d.add(new r.Field("extra",2,"string")),d.add(new r.Field("latitude",3,"double")),d.add(new r.Field("longitude",4,"double")),d.add(new r.Field("poi",5,"string"));var p=new r.Type("FileMessage");p.add(new r.Field("name",1,"string")),p.add(new r.Field("size",2,"int64")),p.add(new r.Field("type",3,"string")),p.add(new r.Field("fileUrl",4,"string")),p.add(new r.Field("extra",5,"string"));var f=new r.Type("SightMessage");f.add(new r.Field("sightUrl",1,"string")),f.add(new r.Field("content",2,"string")),f.add(new r.Field("duration",3,"int64")),f.add(new r.Field("size",4,"int64")),f.add(new r.Field("name",5,"string")),f.add(new r.Field("extra",6,"string"));var g=new r.Type("InfoNtfMessage");g.add(new r.Field("message",1,"string")),g.add(new r.Field("extra",2,"string"));var m=new r.Type("GroupNotificationMessage");m.add(new r.Field("operatorUserId",1,"string")),m.add(new r.Field("operation",2,"string")),m.add(new r.Field("operatorNickname",3,"string")),m.add(new r.Field("targetGroupName",4,"string")),m.add(new r.Field("targetUserIds",5,"string")),m.add(new r.Field("targetUserDisplayNames",6,"string")),m.add(new r.Field("message",7,"string")),m.add(new r.Field("extra",8,"string")),m.add(new r.MapField("data",9,"string","string"));var v=new r.Type("MessageModel");v.add(new r.Field("senderId",1,"string")),v.add(new r.Field("targetId",2,"string","repeated")),v.add(new r.Field("objectName",3,"string")),v.add(new r.Field("sentTime",4,"int64")),v.add(new r.Field("txtMessage",5,"TxtMessage")),v.add(new r.Field("voiceMessage",6,"VoiceMessage")),v.add(new r.Field("imgMessage",7,"ImgMessage")),v.add(new r.Field("imgTextMessage",8,"ImgTextMessage")),v.add(new r.Field("lBSMessage",9,"LBSMessage")),v.add(new r.Field("fileMessage",10,"FileMessage")),v.add(new r.Field("sightMessage",11,"SightMessage")),v.add(new r.Field("infoNtfMessage",12,"InfoNtfMessage")),v.add(new r.Field("groupNotificationMessage",13,"GroupNotificationMessage")),v.add(new r.Field("hQVoiceMessage",14,"HQVoiceMessage")),v.add(new r.Field("groupStateMessage",15,"GroupStateMessage")),v.add(new r.OneOf("EventMessage",["txtMessage","voiceMessage","imgMessage","imgTextMessage","lBSMessage","fileMessage","sightMessage","infoNtfMessage","groupNotificationMessage","hQVoiceMessage","groupStateMessage"])),v.add(new r.Field("seqId",16,"int64"));var y=new r.Type("GroupMessage");y.add(new r.Field("isIncludeSender",1,"int32")),y.add(new r.Field("isPersisted",2,"int32")),y.add(new r.Field("contentAvailable",3,"int32")),y.add(new r.Field("groupId",4,"int64")),y.add(new r.Field("toUserId",5,"string","repeated")),y.add(new r.Field("messageModel",6,"MessageModel"));var b=new r.Type("BroadcastMessage");b.add(new r.Field("os",1,"string")),b.add(new r.Field("messageModel",2,"MessageModel"));var w=new r.Type("ChatroomMessage");w.add(new r.Field("groupId",1,"int64")),w.add(new r.Field("messageModel",2,"MessageModel")),w.add(new r.Field("userName",3,"string")),w.add(new r.Field("userPortrait",4,"string")),w.add(new r.Field("role",5,"string"));var _=new r.Type("ChatroomMessageList");_.add(new r.Field("groupId",1,"int64")),_.add(new r.Field("data",2,"ChatroomMessage","repeated"));var x=new r.Type("SingleMessage");x.add(new r.Field("messageModel",1,"MessageModel"));var O=new r.Type("JoinRoomMessage");O.add(new r.Field("groupId",1,"string")),O.add(new r.Field("userId",2,"string")),O.add(new r.Field("userName",3,"string")),O.add(new r.Field("extra",4,"string")),O.add(new r.Field("time",5,"int64")),O.add(new r.Field("userPortrait",6,"string")),O.add(new r.Field("joinCode",7,"string")),O.add(new r.Field("role",8,"string"));var S=new r.Type("LeaveRoomMessage");S.add(new r.Field("groupId",1,"string")),S.add(new r.Field("userId",2,"string")),S.add(new r.Field("userName",3,"string")),S.add(new r.Field("extra",4,"string")),S.add(new r.Field("time",5,"int64"));var j=new r.Type("PrivateSend");j.add(new r.Field("msgId",1,"int64")),j.add(new r.Field("senderId",2,"int64")),j.add(new r.Field("targetId",3,"int64")),j.add(new r.Field("payload",4,"bytes")),j.add(new r.Field("ackMode",5,"int32"));var E=new r.Type("GroupSend");E.add(new r.Field("msgId",1,"int64")),E.add(new r.Field("senderId",2,"int64")),E.add(new r.Field("targetId",3,"int64")),E.add(new r.Field("payload",4,"bytes")),E.add(new r.Field("ackMode",5,"int32"));var T=new r.Type("ChatroomSend");T.add(new r.Field("msgId",1,"int64")),T.add(new r.Field("senderId",2,"int64")),T.add(new r.Field("targetId",3,"int64")),T.add(new r.Field("payload",4,"bytes")),T.add(new r.Field("ackMode",5,"int32"));var P=r.Type.fromJSON("AwesomeMessage",{fields:{awesomeField:{type:"string",id:1}}});console.log("cccccc",P);var C=e.root=new r.Root;C.add(y),C.add(b),C.add(w),C.add(x),C.add(v),C.add(s),C.add(a),C.add(c),C.add(u),C.add(h),C.add(d),C.add(p),C.add(f),C.add(g),C.add(m),C.add(o),C.add(i),C.add(O),C.add(S),C.add(_),C.add(l)},function(t,e,n){"use strict";e.__esModule=!0,e.root=void 0;var r=n(34),i=new r.Type("JoinRoomMessage");i.add(new r.Field("access_token",1,"string")),i.add(new r.Field("position",2,"string")),i.add(new r.Field("roomKey",3,"string"));var o=new r.Type("JoinRoomResponseMessage");o.add(new r.Field("responseMessage",1,"ResponseMessage")),o.add(new r.Field("clientId",2,"int32"));var s=new r.Type("OtherJoinRoomResponseMessage");s.add(new r.Field("responseMessage",1,"ResponseMessage")),s.add(new r.Field("clientId",2,"int32"));var a=new r.Type("CreateRoomMessage");a.add(new r.Field("roomKey",1,"string"));var c=new r.Type("CreateRoomResponseMessage");c.add(new r.Field("responseMessage",1,"ResponseMessage"));var l=new r.Type("ResponseMessage");l.add(new r.Field("code",1,"int32")),l.add(new r.Field("msg",2,"string"));var u=new r.Type("LeaveRoomMessage"),h=new r.Type("LessonStartMessage"),d=new r.Type("LessonStartResponseMessage");d.add(new r.Field("responseMessage",1,"ResponseMessage"));var p=new r.Type("LessonEndMessage"),f=new r.Type("LessonEndResponseMessage");f.add(new r.Field("responseMessage",1,"ResponseMessage"));var g=new r.Type("WhiteBoardPage");g.add(new r.Field("pptId",1,"string")),g.add(new r.Field("page",2,"int32"));var m=new r.Type("WhiteBoardMessageDto");m.add(new r.Field("message",1,"WhiteBoardMessage")),m.add(new r.Field("timeStamp",2,"int64")),m.add(new r.Field("idx",3,"int64"));var v=new r.Type("WhiteBoardMessage");v.add(new r.Field("sequence",1,"float")),v.add(new r.Field("event",2,"string")),v.add(new r.Field("clientId",3,"int32")),v.add(new r.Field("brush",15,"BrushMessage")),v.add(new r.Field("loadSlide",10,"LoadSlideMessage")),v.add(new r.Field("switchSlide",11,"SwitchSlideMessage")),v.add(new r.Field("scrollSlide",12,"ScrollSlideMessage")),v.add(new r.Field("rotateSlide",13,"RotateSlideMessage")),v.add(new r.Field("loadPPT",14,"LoadPPTMessage")),v.add(new r.Field("middleData",38,"MiddleDataMessage")),v.add(new r.Field("sTriangleEdit",29,"STriangleEditMessage")),v.add(new r.Field("rectangleEdit",30,"RectangleEditMessage")),v.add(new r.Field("sEllipseEditMessage",31,"SEllipseEditMessage")),v.add(new r.Field("ellipseEdit",28,"EllipseEditMessage")),v.add(new r.Field("circleEdit",27,"CircleEditMessage")),v.add(new r.Field("polygonEdit",26,"PolygonEditMessage")),v.add(new r.Field("eraser",19,"EraserMessage")),v.add(new r.Field("eraserRectangle",20,"EraserRectangleMessage")),v.add(new r.Field("coordSys",32,"CoordSysMessage")),v.add(new r.Field("textEdit",33,"TextEditMessage")),v.add(new r.Field("lineEdit",37,"LineEditMessage")),v.add(new r.Field("editDelete",35,"EditDeleteMessage")),v.add(new r.Field("editDeletePage",36,"EditDeletePageMessage")),v.add(new r.Field("editRegular",34,"EditRegularMessage")),v.add(new r.OneOf("EventMessage",["brush","loadSlide","switchSlide","scrollSlide","rotateSlide","loadPPT","middleData","sTriangleEdit","rectangleEdit","sEllipseEditMessage","ellipseEdit","circleEdit","polygonEdit","eraser","eraserRectangle","textEdit","lineEdit","editDelete","editDeletePage","editRegular","coordSys"])),v.add(new r.Field("end",100,"bool"));var y=new r.Type("EditDeleteMessage");y.add(new r.Field("ids",1,"string","repeated"));var b=new r.Type("EditDeletePageMessage"),w=new r.Type("CoordSysMessage");w.add(new r.Field("width",1,"int32")),w.add(new r.Field("color",2,"string")),w.add(new r.Field("id",3,"string")),w.add(new r.Field("index",4,"CoordinateIndexMessage","repeated"));var _=new r.Type("BrushMessage");_.add(new r.Field("width",1,"int32")),_.add(new r.Field("color",2,"string")),_.add(new r.Field("index",3,"CoordinateIndexMessage","repeated"));var x=new r.Type("EraserMessage");x.add(new r.Field("deleteType",1,"int32")),x.add(new r.Field("index",2,"CoordinateIndexMessage","repeated"));var O=new r.Type("EraserRectangleMessage");O.add(new r.Field("deleteType",1,"int32")),O.add(new r.Field("index",2,"CoordinateIndexMessage","repeated"));var S=new r.Type("STriangleEditMessage");S.add(new r.Field("width",1,"int32")),S.add(new r.Field("color",2,"string")),S.add(new r.Field("id",3,"string")),S.add(new r.Field("fill",4,"int32")),S.add(new r.Field("standard",5,"int32")),S.add(new r.Field("index",6,"CoordinateIndexMessage","repeated"));var j=new r.Type("RectangleEditMessage");j.add(new r.Field("width",1,"int32")),j.add(new r.Field("color",2,"string")),j.add(new r.Field("id",3,"string")),j.add(new r.Field("fill",4,"int32")),j.add(new r.Field("standard",5,"int32")),j.add(new r.Field("index",6,"CoordinateIndexMessage","repeated"));var E=new r.Type("SEllipseEditMessage");E.add(new r.Field("width",1,"int32")),E.add(new r.Field("color",2,"string")),E.add(new r.Field("id",3,"string")),E.add(new r.Field("fill",4,"int32")),E.add(new r.Field("standard",5,"int32")),E.add(new r.Field("index",6,"CoordinateIndexMessage","repeated"));var T=new r.Type("EllipseEditMessage");T.add(new r.Field("width",1,"int32")),T.add(new r.Field("color",2,"string")),T.add(new r.Field("id",3,"string")),T.add(new r.Field("show",4,"int32")),T.add(new r.Field("index",5,"CoordinateIndexMessage","repeated"));var P=new r.Type("CircleEditMessage");P.add(new r.Field("width",1,"int32")),P.add(new r.Field("color",2,"string")),P.add(new r.Field("id",3,"string")),P.add(new r.Field("show",4,"int32")),P.add(new r.Field("index",5,"CoordinateIndexMessage","repeated"));var C=new r.Type("PolygonEditMessage");C.add(new r.Field("width",1,"int32")),C.add(new r.Field("color",2,"string")),C.add(new r.Field("id",3,"string")),C.add(new r.Field("show",4,"int32")),C.add(new r.Field("index",5,"CoordinateIndexMessage","repeated"));var A=new r.Type("CoordinateIndexMessage");A.add(new r.Field("designator",1,"string")),A.add(new r.Field("point_x",2,"float")),A.add(new r.Field("point_y",3,"float"));var k=new r.Type("MiddleDataMessage");k.add(new r.Field("index",1,"CoordinateIndexMessage","repeated"));var D=new r.Type("LoadSlideMessage");D.add(new r.Field("source",1,"string")),D.add(new r.Field("page",2,"int32")),D.add(new r.Field("ratio",3,"float"));var I=new r.Type("SwitchSlideMessage");I.add(new r.Field("page",1,"int32"));var M=new r.Type("ScrollSlideMessage");M.add(new r.Field("move",1,"int32"));var R=new r.Type("RotateSlideMessage");R.add(new r.Field("rotation",1,"int32"));var L=new r.Type("LoadPPTMessage");L.add(new r.Field("source",1,"string")),L.add(new r.Field("page",2,"int32")),L.add(new r.Field("ration",3,"float")),L.add(new r.Field("pptName",4,"string")),L.add(new r.Field("pptId",5,"int32")),L.add(new r.Field("pptList",6,"int32","repeated"));var N=new r.Type("WhiteBoardPageDataResponse");N.add(new r.Field("pageData",1,"WhiteBoardMessage","repeated")),N.add(new r.Field("pptId",2,"string")),N.add(new r.Field("page",3,"int32"));var F=new r.Type("WhiteBoardCurrentPageResponse");F.add(new r.Field("data",1,"WhiteBoardPageDataResponse")),F.add(new r.MapField("pptIds",2,"string","int32")),F.add(new r.Field("loadPPTInfo",3,"WhiteBoardMessage","repeated"));var B=new r.Type("PromotionSpeakerMessage"),U=new r.Type("PromotionSpeakerResponseMessage");U.add(new r.Field("userId",1,"string")),U.add(new r.Field("responseMessage",2,"ResponseMessage"));var z=new r.Type("WhiteBoardErrorMessage");z.add(new r.Field("code",1,"int32")),z.add(new r.Field("msg",2,"string"));var X=new r.Type("TextEditMessage");X.add(new r.Field("size",1,"int32")),X.add(new r.Field("color",2,"string")),X.add(new r.Field("id",3,"string")),X.add(new r.Field("text",4,"string")),X.add(new r.Field("index",5,"CoordinateIndexMessage","repeated"));var Y=new r.Type("LineEditMessage");Y.add(new r.Field("width",1,"int32")),Y.add(new r.Field("color",2,"string")),Y.add(new r.Field("id",3,"string")),Y.add(new r.Field("show",4,"int32")),Y.add(new r.Field("lineCategory",5,"string")),Y.add(new r.Field("index",6,"CoordinateIndexMessage","repeated"));var G=new r.Type("EditRegularMoveMessage");G.add(new r.Field("index",1,"CoordinateIndexMessage"));var V=new r.Type("EditRegularMoveAndShrinkMessage");V.add(new r.Field("index",1,"CoordinateIndexMessage")),V.add(new r.Field("x_scaling",2,"float")),V.add(new r.Field("y_scaling",3,"float"));var H=new r.Type("EditRegularTestMessage");H.add(new r.Field("index",1,"CoordinateIndexMessage")),H.add(new r.Field("text",2,"string"));var W=new r.Type("EditRegularPointMoveMessage");W.add(new r.Field("index",1,"CoordinateIndexMessage"));var q=new r.Type("EditRegularMessage");q.add(new r.Field("id",1,"string")),q.add(new r.Field("moveMessage",2,"EditRegularMoveMessage")),q.add(new r.Field("moveAndShrinkMessage",3,"EditRegularMoveAndShrinkMessage")),q.add(new r.Field("testMessage",4,"EditRegularTestMessage")),q.add(new r.Field("pointMoveMessage",5,"EditRegularPointMoveMessage")),q.add(new r.OneOf("EditRegularEventMessage",["moveMessage","moveAndShrinkMessage","testMessage","pointMoveMessage"]));var K=e.root=new r.Root;K.add(a),K.add(i),K.add(c),K.add(l),K.add(u),K.add(h),K.add(d),K.add(p),K.add(f),K.add(g),K.add(m),K.add(v),K.add(_),K.add(D),K.add(I),K.add(M),K.add(R),K.add(L),K.add(o),K.add(s),K.add(B),K.add(U),K.add(A),K.add(N),K.add(k),K.add(z),K.add(F),K.add(S),K.add(j),K.add(E),K.add(T),K.add(P),K.add(C),K.add(x),K.add(O),K.add(X),K.add(q),K.add(W),K.add(H),K.add(V),K.add(G),K.add(Y),K.add(y),K.add(b),K.add(w)},function(t,e,n){"use strict";e.__esModule=!0,e.PushService=void 0;var r=n(24),i=n(45),o=n(23);e.PushService=function(t){function e(n){var i=n.appId,o=void 0===i?11126:i,s=n.bizId,a=void 0===s?12001:s,c=n.socket,l=n.userId,u=n.env,h=n.jwt;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var d=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,{appId:o,bizId:a,socket:c,userId:l,env:u,jwt:h}));return d.root=Object.assign({},d.root,r.MESSAGE_MAP.pnsRoot),d.appid_config=Object.assign(r.APPID_MAP.ZMPNS,{appid:o,bizId:a}),d}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.init=function(){var t=r.APPID_MAP.MIDDLE,e=(0,o.createBufferContent)(1011,{appid:this.appId},!0,t);return(0,o.emitEvent)({event_name:"subscribe app",buffer_content:e,appid_config:t,message_id:1011,socket:this.socket})},e.prototype.pushMessageBuilder=function(t){return this.commonMessageBuilder(t,1101)},e}(i.BaseService)},function(t,e,n){"use strict";e.__esModule=!0,e.ClassRoomService=void 0;var r=n(23),i=n(45),o=n(248),s=n(17),a=n(111),c=n(24);e.ClassRoomService=function(t){function e(n){var r=n.appId,i=void 0===r?11156:r,o=n.bizId,s=void 0===o?12001:o,a=n.socket,l=n.userId,u=n.roomKey,h=n.env,d=n.jwt;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var p=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,{appId:i,bizId:s,socket:a,userId:l,env:h,jwt:d}));return p.root=Object.assign({},p.root,c.MESSAGE_MAP.bootRoot),p.appid_config=Object.assign(c.APPID_MAP.BOOT,{appid:i,bizId:s}),p.roomKey=u,p.encode_results=[],p}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.init=function(){var t=c.APPID_MAP.MIDDLE,e=(0,r.createBufferContent)(1011,{appid:c.APPID_MAP.BOOT.appid},!0,t);return(0,r.emitEvent)({event_name:"subscribe app",buffer_content:e,appid_config:t,message_id:1011,socket:this.socket})},e.prototype.classCreateRoomMessage=function(t){t.roomKey;return this.classRoomCommon({message_id:20000080,data:{roomKey:this.roomKey}})},e.prototype.classroomJoinRoomMessage=function(t){var e=t.position,n=void 0===e?"TEA":e;return this.classRoomCommon({message_id:20000010,data:{roomKey:this.roomKey,position:n,access_token:this.jwt}})},e.prototype.classRoomEmitWhiteBoardData=function(t){var e=t.msgType,n=t.msgKey,r=t.data,i=Object.assign({},r[0]);return n&&(i[n]=(0,a.ClassRoomMessage)(e,n,r,this.appid_config)),this.classRoomCommon({message_id:10000010,data:i})},e.prototype.classRoomGetWhiteBoarPagedData=function(t){var e=t.pptId,n=t.page;return this.classRoomCommon({message_id:10000020,data:{pptId:e,page:n}})},e.prototype.classRoomLessonStartMessage=function(){return this.classRoomCommon({message_id:20000060,data:{}})},e.prototype.classRoomLessonEndMessage=function(){return this.classRoomCommon({message_id:20000070,data:{}})},e.prototype.getEncodeResults=function(){return this.encode_results},e.prototype.setEncodeResults=function(t){this.encode_results=t},e.prototype.whiteBoardEncode=function(t){(0,o.encode)(t,this.roomKey,this.encode_results,this.appid_config),console.log("whiteBoardEncode",JSON.stringify(this.encode_results)),s.ZmCacheStack.exec(this.emitWhiteBoardCachData.bind(this),200)},e.prototype.whiteBoardPageMessageDecode=function(t){var e=t.pageData;return{id:t.pptId+"."+t.page,data:(0,o.arrDecode)(e)}},e.prototype.whiteBoardMessageDecode=function(t){return(0,o.decode)(t)},e.prototype.emitWhiteBoardCachData=function(){var t=this,e=this.getEncodeResults();console.log("emitWhiteBoardCachData",JSON.stringify(e)),e.forEach((function(e){t.classRoomEmitWhiteBoardData(e)})),this.setEncodeResults([])},e.prototype.classRoomPromotionSpeakerMessage=function(){return this.classRoomCommon({message_id:20000030,data:{}})},e.prototype.whiteboardLoadSlide=function(t){var e=t.docId,n=t.page,r=t.ratio,i=void 0===r?1.3:r;this.classRoomEmitWhiteBoardData({roomKey:this.roomKey,msgType:"LoadSlideMessage",msgKey:"loadSlide",data:[{sequence:-1,event:"!load-slides"},{source:e,page:n,ratio:i}]})},e.prototype.whiteboardSwitchSlide=function(t){var e=t.page;this.classRoomEmitWhiteBoardData({roomKey:this.roomKey,msgType:"SwitchSlideMessage",msgKey:"switchSlide",data:[{sequence:-1,event:"!switch-slide"},{page:e}]})},e.prototype.whiteboardScrollSlide=function(t){var e=t.move;this.classRoomEmitWhiteBoardData({roomKey:this.roomKey,msgType:"ScrollSlideMessage",msgKey:"scrollSlide",data:[{sequence:-1,event:"!scroll-slide"},{move:e}]})},e.prototype.whiteboardLoadPpt=function(t){var e=t.source,n=t.page,r=t.ration,i=t.pptName,o=t.pptId,s=t.pptList,a=t.pptType;this.classRoomEmitWhiteBoardData({roomKey:this.roomKey,msgType:"LoadPPTMessage",msgKey:"loadPPT",data:[{sequence:-1,event:"!load-ppt"},{source:e,page:n,ration:r,pptName:i,pptId:o,pptList:s,pptType:a}]})},e.prototype.classRoomCommon=function(t){var e=t.message_id,n=t.data,i=(0,r.createBufferContent)(e,n,!0,this.appid_config),o=this.makeBootBuffer(this.roomKey,i);return(0,r.emitEvent)({event_name:"transmission",buffer_content:(0,r.toBuffer)(o),appid_config:this.appid_config,message_id:e,socket:this.socket})},e.prototype.whiteBoardMessageBuilder=function(t){return this.commonMessageBuilder(t,10000010)},e.prototype.whiteBoardPageMessageBuilder=function(t){return this.commonMessageBuilder(t,50010020)},e.prototype.whiteBoardCurrentPageMessageBuilder=function(t){return this.commonMessageBuilder(t,10000030)},e.prototype.classroomJoinRoomReponseMessageBuilder=function(t){return this.commonMessageBuilder(t,50020010)},e.prototype.classroomCreateRoomResponseMessageBuilder=function(t){return this.commonMessageBuilder(t,50020080)},e.prototype.makeBootBuffer=function(t,e){var n=(0,r.stringToByte)(t),i=new ArrayBuffer(39+e.length),o=new DataView(i);o.setInt8(0,3),o.setInt16(1,36);for(var s=new Uint8Array(i,3),a=0,c=n.length;a<c;++a)s[a]=n[a];var l=new Uint8Array(i,39);for(a=0,c=e.length;a<c;++a)l[a]=e[a];return i},e}(i.BaseService)},function(t,e,n){"use strict";e.__esModule=!0,e.encode=function(t,e,n,i){var o=void 0,s=t[0],a=t[1],c=t[2],l=t[3],u=t.slice(4),h=!1;t.length>0&&!0===t.slice(-1)[0]&&(h=!0);var d={sequence:c,event:l};if(void 0===l||!0===l)return void(0,r.endBuilder)(d,n,s,a,h,e);if(-1===c)switch(l){case"!load-ppt":o=(0,r.loadPptBuilder)(d,u,e);break;case"!load-slides":o=(0,r.loadSlideBuilder)(d,u,e);break;case"!switch-slide":o=(0,r.switchSlideBuilder)(d,u,e);break;case"!scroll-slide":o=(0,r.scrollSliderBuilder)(d,u,e);break;case"!rotate-slide":o=(0,r.rotateSliderBuilder)(d,u,e)}else switch(l){case"brush":o=(0,r.brushBuilder)(d,u,e,s,a,h);break;case"s_triangle_edit":o=(0,r.sTriangleEditBuilder)(d,u,e,s,a,h);break;case"rectangle_edit":o=(0,r.rectangleEditBuilder)(d,u,e,s,a,h);break;case"s_ellipse_edit":o=(0,r.sEllipseEditBuilder)(d,u,e,s,a,h);break;case"text_edit":o=(0,r.textEditBuilder)(d,u,e,s,a,h);break;case"eraser":o=(0,r.eraserBuilder)(d,u,e,s,a,h);break;case"eraserrectangle":o=(0,r.eraserRectangleBuilder)(d,u,e,s,a,h);break;case"polygon_edit":o=(0,r.polygonEditBuilder)(d,u,e);break;case"ellipse_edit":o=(0,r.ellipseEditBuilder)(d,u,e);break;case"circle_edit":o=(0,r.circleEditBuilder)(d,u,e);break;case"coord_sys":o=(0,r.coordEditBuilder)(d,u,e);break;case"line_edit":o=(0,r.lineEditBuilder)(d,u,e,{lineCategory:"0"});break;case"linearrow_edit":o=(0,r.lineEditBuilder)(d,u,e,{lineCategory:"1"});break;case"linedash_edit":o=(0,r.lineEditBuilder)(d,u,e,{lineCategory:"2"});break;case"edit_delete":o=(0,r.editDeleteBuilder)(d,u,e);break;case"edit_delete_page":o=(0,r.editDeletePageBuilder)(d,u,e);break;case"edit_regular":o=(0,r.editRegularPageBuilder)(d,u,e,s,a,h,i)}o&&n.push(o)},e.decode=o,e.arrDecode=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var e=[],n=t.length,r=0;r<n;r++)for(var i=o(t[r]),s=i.length,a=0;a<s;a++)e.push(i[a]);return e};var r=n(249);function i(t,e,n){for(var r=e[n],i=e.clientId,o=e.sequence,s=r.index,a=s.length,c=0;c<a;c++){var l=[s[c].point_x,s[c].point_y,Number(i+"."+o)];"1"===s[c].designator&&l.push(!0),t.push(l)}}function o(t){var e=t.event,n=[];switch(e){case"brush":i(n,t,e),n[0].push(e),n[0].push([t[e].width,t[e].color]);break;case"eraser":s(n,t,e);break;case"eraserRectangle":t.eraserrectangle=t[e],s(n,t,"eraserrectangle");break;case"sTriangleEdit":t.s_triangle_edit=t[e],function(t,e,n){i(t,e,n);var r=t.splice(1).map((function(t){return t.slice(0,2)})).flat();t[0].push(n),t[0].push([e[n].width,e[n].color].concat(r,[e[n].standard?1:0,e[n].fill?1:0])),t[0].push([]),t[0].push([e[n].id]),t[0].push(!0)}(n,t,"s_triangle_edit");break;case"rectangleEdit":t.rectangle_edit=t[e],a(n,t,"rectangle_edit");break;case"sEllipseEditMessage":t.s_ellipse_edit=t[e],a(n,t,"s_ellipse_edit");break;case"textEdit":t.text_edit=t[e],function(t,e,n){i(t,e,n),t[0].push(n),t[0].push([e[n].width,e[n].color]),t[0].push([]),t[0].push([e[n].id,e[n].text])}(n,t,"text_edit");break;case"polygonEdit":t.polygon_edit=t[e],function(t,e,n){c(t,e,n)}(n,t,"polygon_edit");break;case"ellipseEdit":t.ellipse_edit=t[e],l(n,t,"ellipse_edit");break;case"circleEdit":t.circle_edit=t[e],l(n,t,"circle_edit");break;case"middleData":i(n,t,e);break;case"editDelete":!function(t,e,n){var r=e.clientId,i=e.sequence;t.push([0,0,Number(r+"."+i),"edit_delete",[],[],e[n].ids,!0])}(n,t,e);break;case"editDeletePage":!function(t,e,n){var r=e.clientId,i=e.sequence;t.push([0,0,Number(r+"."+i),"edit_delete_page",[],[],!0])}(n,t);break;case"scrollSlide":n.push([0,0,-1,"!scroll-slide",[t[e].move],!0]);break;case"switchSlide":n.push([0,0,-1,"!switch-slide",[t[e].page],!0]);break;case"editRegular":!function(t,e,n){var r=e.clientId,i=e.sequence,o=e[n];if(!o)return;if("moveMessage"===o.EditRegularEventMessage){var s=o.moveMessage.index;t.push([s.point_x,s.point_y,Number(r+"."+i),"edit_regular",[],[],[o.id,0],!0])}else if("moveAndShrinkMessage"===o.EditRegularEventMessage){var a=o.moveAndShrinkMessage,c=a.index,l=a.y_scaling,u=a.x_scaling;t.push([c.point_x,c.point_y,Number(r+"."+i),"edit_regular",[],[],[o.id,1,u,l],!0])}}(n,t,e);break;case"lineEdit":var r=function(t){var e=void 0;switch(t){case"0":e="line_edit";break;case"1":e="linearrow_edit";break;case"2":e="linedash_edit";break;default:e="line_edit"}return e}(t[e].lineCategory);t[r]=t[e],function(t,e,n){c(t,e,n,1)}(n,t,r),console.log("lineEdit",n);break;case"coordSys":t.coord_sys=t[e],l(n,t,"coord_sys")}return n}function s(t,e,n){i(t,e,n),t[0].push(n),t[0].push([e[n].deleteType])}function a(t,e,n){i(t,e,n),t[0].push(n),t[0].push([e[n].width,e[n].fill?1:0,e[n].color,e[n].standard?1:0]),t[0].push([]),t[0].push([e[n].id])}function c(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;i(t,e,n),t[0].push(n),0===r?t[0].push([e[n].width,e[n].color]):t[0].push([e[n].width,0,e[n].color,0]),t[0].push([]);var o=[];o.push(e[n].id);var s=e[n].index;o.push(s.map((function(t){return[t.point_x,t.point_y]})).flat()),o.push(e[n].show),t[0].push(o)}function l(t,e,n){c(t,e,n,1)}},function(t,e,n){"use strict";e.__esModule=!0,e.endBuilder=function(t,e,n,r,i,o){delete t.event;for(var s=e.length,a=!1,c=0;c<s;c++)if(e[c].data[0].sequence===t.sequence){a=!0;var l={point_x:n,point_y:r};i&&(l.designator="1"),e[c].data[1].index.push(l);break}if(!a){var u={point_x:n,point_y:r};i&&(u.designator="1"),t.event="middleData",e.push({msgType:"MiddleDataMessage",msgKey:"middleData",data:[t,{index:[u]}],roomKey:o})}},e.loadPptBuilder=function(t,e,n){return{msgType:"LoadPPTMessage",msgKey:"loadPPT",data:[t,{source:e[0][0],page:e[0][1],ration:e[0][2],pptName:e[0][3],pptId:e[0][4],pptList:e[0][5]}],roomKey:n}},e.loadSlideBuilder=function(t,e,n){return{msgType:"LoadSlideMessage",msgKey:"loadSlide",data:[t,{source:e[0][0],page:e[0][1],ratio:e[0][2]}],roomKey:n}},e.switchSlideBuilder=function(t,e,n){return{msgType:"SwitchSlideMessage",msgKey:"switchSlide",data:[t,{page:e[0][0]}],roomKey:n}},e.scrollSliderBuilder=function(t,e,n){return{msgType:"ScrollSlideMessage",msgKey:"scrollSlide",data:[t,{move:e[0][0]}],roomKey:n}},e.rotateSliderBuilder=function(t,e,n){return{msgType:"RotateSlideMessage",msgKey:"rotateSlide",data:[t,{rotation:e[0][0]}],roomKey:n}},e.brushBuilder=function(t,e,n,r,i,o){var s={point_x:r,point_y:i};o&&(s.designator="1");return{msgType:"BrushMessage",msgKey:"brush",data:[t,{width:e[0][0],color:e[0][1],index:[s]}],roomKey:n}},e.sTriangleEditBuilder=function(t,e,n,r,i,o){var s={point_x:r,point_y:i};o&&(s.designator="1");t.event="sTriangleEdit";var a=[{point_x:r,point_y:i},{point_x:e[0][2],point_y:e[0][3]},{point_x:e[0][4],point_y:e[0][5]}];return{msgType:"STriangleEditMessage",msgKey:"sTriangleEdit",data:[t,{width:e[0][0],color:e[0][1],id:e[2][0],standard:e[0][6],fill:e[0][7],index:a}],roomKey:n}},e.rectangleEditBuilder=function(t,e,n,r,i,o){var s={point_x:r,point_y:i};o&&(s.designator="1");t.event="rectangleEdit";var a=[{point_x:r,point_y:i}];return{msgType:"RectangleEditMessage",msgKey:"rectangleEdit",data:[t,{width:e[0][0],color:e[0][2],id:e[2][0],standard:e[0][3],fill:e[0][1],index:a}],roomKey:n}},e.sEllipseEditBuilder=function(t,e,n,r,i,o){var s={point_x:r,point_y:i};o&&(s.designator="1");t.event="sEllipseEditMessage";var a=[{point_x:r,point_y:i}];return{msgType:"SEllipseEditMessage",msgKey:"sEllipseEditMessage",data:[t,{width:e[0][0],color:e[0][2],id:e[2][0],standard:e[0][3],fill:e[0][1],index:a}],roomKey:n}},e.textEditBuilder=function(t,e,n,r,i,o){var s={point_x:r,point_y:i};o&&(s.designator="1");t.event="textEdit";var a=[{point_x:r,point_y:i}];return{msgType:"TextEditMessage",msgKey:"textEdit",data:[t,{size:e[0][0],color:e[0][1],id:e[2][0],text:e[2][1],index:a}],roomKey:n}},e.eraserBuilder=function(t,e,n,r,i,o){var s={point_x:r,point_y:i};o&&(s.designator="1");return{msgType:"EraserMessage",msgKey:"eraser",data:[t,{deleteType:e[0][0],index:[s]}],roomKey:n}},e.eraserRectangleBuilder=function(t,e,n,r,i,o){var s={point_x:r,point_y:i};t.event="eraserRectangle",o&&(s.designator="1");return{msgType:"EraserRectangleMessage",msgKey:"eraserRectangle",data:[t,{deleteType:e[0][0],index:[s]}],roomKey:n}},e.polygonEditBuilder=function(t,e,n){return i(t,e,n,"polygonEdit","PolygonEditMessage")},e.ellipseEditBuilder=function(t,e,n){return i(t,e,n,"ellipseEdit","EllipseEditMessage",2)},e.circleEditBuilder=function(t,e,n){return i(t,e,n,"circleEdit","CircleEditMessage",2)},e.coordEditBuilder=function(t,e,n){return i(t,e,n,"coordSys","CoordSysMessage",2)},e.lineEditBuilder=function(t,e,n,r){return i(t,e,n,"lineEdit","LineEditMessage",2,r)},e.editDeleteBuilder=function(t,e,n){return t.event="editDelete",{msgType:"EditDeleteMessage",msgKey:"editDelete",data:[t,{ids:e[2]}],roomKey:n}},e.editDeletePageBuilder=function(t,e,n){return t.event="editDeletePage",{msgType:"EditDeletePageMessage",msgKey:"editDeletePage",data:[t,{}],roomKey:n}},e.editRegularPageBuilder=function(t,e,n,i,o,s,a){var c={point_x:i,point_y:o};s&&(c.designator="1");t.event="editRegular";var l=e[2],u=l[0],h=l[1],d=l[2],p=l[3],f=void 0,g="";0===h?(f=(0,r.createBufferContent)("EditRegularMoveMessage",{index:(0,r.createBufferContent)("CoordinateIndexMessage",c,!1,a)},!1,a),g="moveMessage"):1===h?(f=(0,r.createBufferContent)("EditRegularMoveAndShrinkMessage",{index:(0,r.createBufferContent)("CoordinateIndexMessage",c,!1,a),x_scaling:d,y_scaling:p},!1,a),g="moveAndShrinkMessage"):3===h?(f=(0,r.createBufferContent)("EditRegularTestMessage",{index:(0,r.createBufferContent)("CoordinateIndexMessage",c,!1,a),text:d},!1,a),g="testMessage"):2===h&&(f=(0,r.createBufferContent)("EditRegularPointMoveMessage",{index:(0,r.createBufferContent)("CoordinateIndexMessage",c,!1,a)},!1,a),g="pointMoveMessage");var m={id:u};return m[g]=f,console.log("editRegularPageBuilder",h,f,m),{msgType:"EditRegularMessage",msgKey:"editRegular",data:[t,m],roomKey:n}};var r=n(23);function i(t,e,n,r,i){for(var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=e[2][1],c=[],l=0;l<a.length;l+=2)c.push({point_x:a[l],point_y:a[l+1]});return t.event=r,{msgType:i,msgKey:r,data:[t,Object.assign({},{width:e[0][0],color:e[0][o],id:e[2][0],show:e[2][2],index:c},s)],roomKey:n}}},function(t,e,n){"use strict";e.__esModule=!0,e.ImService=void 0;n(17);var r=n(24),i=n(45),o=n(23),s=n(111);e.ImService=function(t){function e(n){var i=n.appId,o=void 0===i?11125:i,s=n.bizId,a=void 0===s?12001:s,c=n.socket,l=n.userId,u=n.groupId,h=n.util_map,d=n.env,p=n.jwt,f=n.role;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var g=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,{appId:o,bizId:a,socket:c,userId:l,env:d,jwt:p,role:f}));for(var m in g.root=Object.assign({},g.root,r.MESSAGE_MAP.imRoot),g.groupId=""+u,g.appid_config=Object.assign(r.APPID_MAP.IM,{appid:o,bizId:a}),h)g[m]=h[m];return g}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.init=function(){var t=r.APPID_MAP.MIDDLE,e=(0,o.createBufferContent)(1013,{groupId:""+this.groupId,appid:this.appId},!0,t);return(0,o.emitEvent)({event_name:"join room",buffer_content:e,appid_config:t,message_id:1013,socket:this.socket})},e.prototype.emitGroupData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:params,e=t.groupId,n=void 0===e?this.groupId:e,r=t.senderId,i=void 0===r?this.userId:r,a=t.sendMsg,c=void 0===a?{}:a,l=t.msgType,u=void 0===l?"txtMessage":l,h="transmission",d=1122,p=(0,s.Message)(u,c,i,this.appid_config),f={groupId:n,messageModel:p},g=(0,o.createBufferContent)(d,f,!0,this.appid_config);return(0,o.emitEvent)({event_name:h,buffer_content:g,appid_config:this.appid_config,message_id:d,socket:this.socket})},e.prototype.emitChatData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:params,e=t.groupId,n=void 0===e?this.groupId:e,r=t.senderId,i=void 0===r?this.userId:r,a=t.sendMsg,c=void 0===a?{}:a,l=t.userName,u=t.userPortrait,h=t.role,d=void 0===h?this.role:h,p=t.msgType,f=void 0===p?"txtMessage":p,g="transmission",m=1123,v=(0,s.Message)(f,c,i,this.appid_config),y={groupId:n,messageModel:v,userName:l,userPortrait:u,role:d},b=(0,o.createBufferContent)(m,y,!0,this.appid_config);return(0,o.emitEvent)({event_name:g,buffer_content:b,appid_config:this.appid_config,message_id:m,socket:this.socket})},e.prototype.JoinChatRoom=function(t){var e=t.groupId,n=void 0===e?this.groupId:e,r=t.userId,i=void 0===r?this.userId:r,s=t.userName,a=t.extra,c=t.userPortrait,l=t.role,u={groupId:n,userId:i,userName:s,extra:a,userPortrait:c,role:void 0===l?this.role:l},h=(0,o.createBufferContent)(2003,u,!0,this.appid_config);return(0,o.emitEvent)({event_name:"transmission",buffer_content:h,appid_config:this.appid_config,message_id:2003,socket:this.socket})},e.prototype.imMessageBuilder=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1122,n=t.appId,i=t.userId,o=t.groupId,s=t.bizId,a=t.rep,c=t.process,l=void 0===c?"image/resize,w_200":c,u=a.data,h=a.msgName,d=a.appid,p=a.msgId;if(p===e&&h===r.APPID_INSTANCE_MAP[d].root[e]){var f=this.getUrlPathName(u.messageModel.objectName),g=Object.assign({id:u.messageModel.seqId,time:u.messageModel.sentTime,senderId:u.messageModel.senderId,objectName:u.messageModel.objectName,localUid:i},u.messageModel[u.messageModel.objectName]);return f?this.getOssFileRead({appId:n,userId:i,groupId:o,bizId:s,path:u.messageModel[u.messageModel.objectName][f],process:"imageUri"===f?l:null}).then((function(t){var e=t.preview,n=t.source;return g.fileUrl=e,g.source=n,g})):new Promise((function(t){t(g)}))}return new Promise((function(t,e){e()}))},e}(i.BaseService)},function(t,e,n){"use strict";e.__esModule=!0,e.MiddleService=void 0;var r=n(45),i=n(24);e.MiddleService=function(t){function e(n){var r=n.appId,o=void 0===r?11123:r,s=n.bizId,a=void 0===s?12001:s,c=n.socket,l=n.userId;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),console.log("MiddleService constructor",o,a);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,{appId:o,bizId:a,socket:c,userId:l}));return u.appid_config=Object.assign(i.APPID_MAP.MIDDLE,{appid:o,bizId:a}),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.handshakeResponseMessageBuilder=function(t){return this.commonMessageBuilder(t,1003)},e}(r.BaseService)}]]);