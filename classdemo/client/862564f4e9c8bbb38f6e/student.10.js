(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{273:function(e,t,c){"use strict";c.r(t);var n=c(0),b=c(2),a=c(47),r=c(48),s=c(49),o=c(50),j=c(10);function O(e){let t,c,b,j,O,l,i,d,m;const u=new r.a({}),h=new a.a({props:{name:e[0].name}}),g=new o.a({props:{width:".10rem"}}),f=new s.a({props:{timer:e[1]}});return{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),Object(n.o)(u.$$.fragment),b=Object(n.V)(),j=Object(n.u)("div"),Object(n.o)(h.$$.fragment),O=Object(n.V)(),Object(n.o)(g.$$.fragment),l=Object(n.V)(),Object(n.o)(f.$$.fragment),i=Object(n.V)(),d=Object(n.u)("div"),this.h()},l(e){t=Object(n.j)(e,"DIV",{class:!0});var a=Object(n.h)(t);c=Object(n.j)(a,"DIV",{class:!0});var r=Object(n.h)(c);Object(n.i)(u.$$.fragment,r),r.forEach(n.t),b=Object(n.k)(a),j=Object(n.j)(a,"DIV",{class:!0});var s=Object(n.h)(j);Object(n.i)(h.$$.fragment,s),O=Object(n.k)(s),Object(n.i)(g.$$.fragment,s),l=Object(n.k)(s),Object(n.i)(f.$$.fragment,s),s.forEach(n.t),i=Object(n.k)(a),d=Object(n.j)(a,"DIV",{class:!0}),Object(n.h)(d).forEach(n.t),a.forEach(n.t),this.h()},h(){Object(n.e)(c,"class","left svelte-1h4e319"),Object(n.e)(j,"class","center gb-f gb-f-c svelte-1h4e319"),Object(n.e)(d,"class","right svelte-1h4e319"),Object(n.e)(t,"class","header gb-f gb-f-d-r gb-f-c svelte-1h4e319")},m(e,a){Object(n.G)(e,t,a),Object(n.c)(t,c),Object(n.J)(u,c,null),Object(n.c)(t,b),Object(n.c)(t,j),Object(n.J)(h,j,null),Object(n.c)(j,O),Object(n.J)(g,j,null),Object(n.c)(j,l),Object(n.J)(f,j,null),Object(n.c)(t,i),Object(n.c)(t,d),m=!0},p(e,[t]){const c={};1&t&&(c.name=e[0].name),h.$set(c);const n={};2&t&&(n.timer=e[1]),f.$set(n)},i(e){m||(Object(n.Z)(u.$$.fragment,e),Object(n.Z)(h.$$.fragment,e),Object(n.Z)(g.$$.fragment,e),Object(n.Z)(f.$$.fragment,e),m=!0)},o(e){Object(n.ab)(u.$$.fragment,e),Object(n.ab)(h.$$.fragment,e),Object(n.ab)(g.$$.fragment,e),Object(n.ab)(f.$$.fragment,e),m=!1},d(e){e&&Object(n.t)(t),Object(n.r)(u),Object(n.r)(h),Object(n.r)(g),Object(n.r)(f)}}}function l(e,t,c){let b,a;return Object(n.m)(e,j.b,e=>c(0,b=e)),Object(n.m)(e,j.a,e=>c(1,a=e)),[b,a]}class i extends n.a{constructor(e){var t;super(),document.getElementById("svelte-1h4e319-style")||((t=Object(n.u)("style")).id="svelte-1h4e319-style",t.textContent=".header.svelte-1h4e319{width:100%;height:.39rem;color:white}.center.svelte-1h4e319{width:80%}.left.svelte-1h4e319{width:10%}.right.svelte-1h4e319{width:10%}",Object(n.c)(document.head,t)),Object(n.F)(this,e,l,O,n.R,{})}}var d=i,m=c(77),u=c(75),h=c(57),g=c(14),f=c(16);function $(e){let t,c,b;return{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),b=Object(n.Y)("等待课程开始"),this.h()},l(e){t=Object(n.j)(e,"DIV",{class:!0});var a=Object(n.h)(t);c=Object(n.j)(a,"DIV",{class:!0});var r=Object(n.h)(c);b=Object(n.l)(r,"等待课程开始"),r.forEach(n.t),a.forEach(n.t),this.h()},h(){Object(n.e)(c,"class","lesson-start-text gb-f gb-f-c svelte-60ri0g"),Object(n.e)(t,"class","lesson-start-mask gb-f gb-f-c svelte-60ri0g")},m(e,a){Object(n.G)(e,t,a),Object(n.c)(t,c),Object(n.c)(c,b)},d(e){e&&Object(n.t)(t)}}}function v(e){let t,c=e[0].classState===f.b&&e[0].serviceSdkInited&&$();return{c(){c&&c.c(),t=Object(n.v)()},l(e){c&&c.l(e),t=Object(n.v)()},m(e,b){c&&c.m(e,b),Object(n.G)(e,t,b)},p(e,[n]){e[0].classState===f.b&&e[0].serviceSdkInited?c||(c=$(),c.c(),c.m(t.parentNode,t)):c&&(c.d(1),c=null)},i:n.K,o:n.K,d(e){c&&c.d(e),e&&Object(n.t)(t)}}}function p(e,t,c){let a;return Object(n.m)(e,j.b,e=>c(0,a=e)),Object(b.a)(()=>{console.log("学生开始上课啦",a)}),[a]}class w extends n.a{constructor(e){var t;super(),document.getElementById("svelte-60ri0g-style")||((t=Object(n.u)("style")).id="svelte-60ri0g-style",t.textContent=".lesson-start-mask.svelte-60ri0g{width:100%;height:100%;position:absolute;top:0;background:rgba(0,0,0,.44);z-index:2}.lesson-start-text.svelte-60ri0g{width:110px;height:40px;border-radius:4px;font-size:16px;font-weight:400;color:rgba(255,255,255,1);cursor:pointer}",Object(n.c)(document.head,t)),Object(n.F)(this,e,p,v,n.R,{})}}var y=w,I=c(58),k=c(59);function x(e){let t,c,b,a;const r=[_,V],s=[];function o(e,t){return e[0].classState===f.c?0:1}return c=o(e),b=s[c]=r[c](e),{c(){t=Object(n.u)("div"),b.c(),this.h()},l(e){t=Object(n.j)(e,"DIV",{class:!0});var c=Object(n.h)(t);b.l(c),c.forEach(n.t),this.h()},h(){Object(n.e)(t,"class","lessonLoading svelte-17kj9y7")},m(e,b){Object(n.G)(e,t,b),s[c].m(t,null),a=!0},p(e,a){let j=c;c=o(e),c!==j&&(Object(n.D)(),Object(n.ab)(s[j],1,1,()=>{s[j]=null}),Object(n.g)(),b=s[c],b||(b=s[c]=r[c](e),b.c()),Object(n.Z)(b,1),b.m(t,null))},i(e){a||(Object(n.Z)(b),a=!0)},o(e){Object(n.ab)(b),a=!1},d(e){e&&Object(n.t)(t),s[c].d()}}}function V(e){let t;const c=new I.a({});return{c(){Object(n.o)(c.$$.fragment)},l(e){Object(n.i)(c.$$.fragment,e)},m(e,b){Object(n.J)(c,e,b),t=!0},i(e){t||(Object(n.Z)(c.$$.fragment,e),t=!0)},o(e){Object(n.ab)(c.$$.fragment,e),t=!1},d(e){Object(n.r)(c,e)}}}function _(e){let t;const c=new k.a({});return{c(){Object(n.o)(c.$$.fragment)},l(e){Object(n.i)(c.$$.fragment,e)},m(e,b){Object(n.J)(c,e,b),t=!0},i(e){t||(Object(n.Z)(c.$$.fragment,e),t=!0)},o(e){Object(n.ab)(c.$$.fragment,e),t=!1},d(e){Object(n.r)(c,e)}}}function E(e){let t,c,b=!e[0].serviceSdkInited&&x(e);return{c(){b&&b.c(),t=Object(n.v)()},l(e){b&&b.l(e),t=Object(n.v)()},m(e,a){b&&b.m(e,a),Object(n.G)(e,t,a),c=!0},p(e,[c]){e[0].serviceSdkInited?b&&(Object(n.D)(),Object(n.ab)(b,1,1,()=>{b=null}),Object(n.g)()):b?(b.p(e,c),Object(n.Z)(b,1)):(b=x(e),b.c(),Object(n.Z)(b,1),b.m(t.parentNode,t))},i(e){c||(Object(n.Z)(b),c=!0)},o(e){Object(n.ab)(b),c=!1},d(e){b&&b.d(e),e&&Object(n.t)(t)}}}function Z(e,t,c){let b;return Object(n.m)(e,j.b,e=>c(0,b=e)),[b]}class D extends n.a{constructor(e){var t;super(),document.getElementById("svelte-17kj9y7-style")||((t=Object(n.u)("style")).id="svelte-17kj9y7-style",t.textContent=".lessonLoading.svelte-17kj9y7{position:absolute;top:0;width:100%;height:100%;z-index:3;background:rgba(0,0,0,1)}",Object(n.c)(document.head,t)),Object(n.F)(this,e,Z,E,n.R,{})}}var z=D;function J(e){let t,c,b,a,r,s,o,j={ismaster:!1,role:f.e,curent_doc_id:e[0],curent_page:e[1],docsInfos:e[2],room_key:e[3].roomKey};const O=new m.a({props:j});e[5](O);const l=new u.a({props:{rolename:"teacher",hiddenitems:"zmlmouse",currenttool:"brush",layout:0}});e[6](l);const i=new h.a({props:{isWatcher:!0,currentPage:e[1],pages:e[4],nextPage:R,prePage:S,setPage:C}}),d=new y({}),g=new z({});return{c(){t=Object(n.u)("div"),Object(n.o)(O.$$.fragment),c=Object(n.V)(),b=Object(n.u)("div"),Object(n.o)(l.$$.fragment),a=Object(n.V)(),Object(n.o)(i.$$.fragment),r=Object(n.V)(),Object(n.o)(d.$$.fragment),s=Object(n.V)(),Object(n.o)(g.$$.fragment),this.h()},l(e){t=Object(n.j)(e,"DIV",{class:!0});var o=Object(n.h)(t);Object(n.i)(O.$$.fragment,o),c=Object(n.k)(o),b=Object(n.j)(o,"DIV",{class:!0});var j=Object(n.h)(b);Object(n.i)(l.$$.fragment,j),a=Object(n.k)(j),Object(n.i)(i.$$.fragment,j),j.forEach(n.t),r=Object(n.k)(o),Object(n.i)(d.$$.fragment,o),s=Object(n.k)(o),Object(n.i)(g.$$.fragment,o),o.forEach(n.t),this.h()},h(){Object(n.e)(b,"class","bottom-wrapper gb-f gb-f-c gb-f-d-r svelte-92eqyh"),Object(n.e)(t,"class","whiteboard svelte-92eqyh")},m(e,j){Object(n.G)(e,t,j),Object(n.J)(O,t,null),Object(n.c)(t,c),Object(n.c)(t,b),Object(n.J)(l,b,null),Object(n.c)(b,a),Object(n.J)(i,b,null),Object(n.c)(t,r),Object(n.J)(d,t,null),Object(n.c)(t,s),Object(n.J)(g,t,null),o=!0},p(e,[t]){const c={};1&t&&(c.curent_doc_id=e[0]),2&t&&(c.curent_page=e[1]),4&t&&(c.docsInfos=e[2]),8&t&&(c.room_key=e[3].roomKey),O.$set(c);l.$set({});const n={};2&t&&(n.currentPage=e[1]),16&t&&(n.pages=e[4]),i.$set(n)},i(e){o||(Object(n.Z)(O.$$.fragment,e),Object(n.Z)(l.$$.fragment,e),Object(n.Z)(i.$$.fragment,e),Object(n.Z)(d.$$.fragment,e),Object(n.Z)(g.$$.fragment,e),o=!0)},o(e){Object(n.ab)(O.$$.fragment,e),Object(n.ab)(l.$$.fragment,e),Object(n.ab)(i.$$.fragment,e),Object(n.ab)(d.$$.fragment,e),Object(n.ab)(g.$$.fragment,e),o=!1},d(c){c&&Object(n.t)(t),e[5](null),Object(n.r)(O),e[6](null),Object(n.r)(l),Object(n.r)(i),Object(n.r)(d),Object(n.r)(g)}}}function S(){}function R(){}function C(e){}function K(e,t,c){let b,a,r,s,o;return Object(n.m)(e,j.c,e=>c(0,b=e)),Object(n.m)(e,j.d,e=>c(1,a=e)),Object(n.m)(e,j.e,e=>c(2,r=e)),Object(n.m)(e,j.b,e=>c(3,s=e)),Object(n.m)(e,j.f,e=>c(4,o=e)),[b,a,r,s,o,function(e){n.f[e?"unshift":"push"](()=>{g.a.zm_wc_whiteboard=e})},function(e){n.f[e?"unshift":"push"](()=>{g.a.zm_wc_toolbar=e})}]}class G extends n.a{constructor(e){var t;super(),document.getElementById("svelte-92eqyh-style")||((t=Object(n.u)("style")).id="svelte-92eqyh-style",t.textContent=".whiteboard.svelte-92eqyh{width:80%;height:100%;position:relative}.bottom-wrapper.svelte-92eqyh{width:100%;background:rgba(47, 48, 59, 1);box-shadow:0rem .02rem .04rem 0rem rgba(0, 0, 0, 1), 0rem .01rem 0rem 0rem rgba(255, 255, 255, 0.12)}",Object(n.c)(document.head,t)),Object(n.F)(this,e,K,J,n.R,{})}}var T=G;function B(e){let t,c;return{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),this.h()},l(e){t=Object(n.j)(e,"DIV",{class:!0});var b=Object(n.h)(t);c=Object(n.j)(b,"DIV",{class:!0}),Object(n.h)(c).forEach(n.t),b.forEach(n.t),this.h()},h(){Object(n.e)(c,"class","localvideo-hide bp-c-c svelte-srbpi"),Object(n.e)(t,"class","local-video gb-f gb-f-c svelte-srbpi")},m(e,b){Object(n.G)(e,t,b),Object(n.c)(t,c)},p:n.K,i:n.K,o:n.K,d(e){e&&Object(n.t)(t)}}}class U extends n.a{constructor(e){var t;super(),document.getElementById("svelte-srbpi-style")||((t=Object(n.u)("style")).id="svelte-srbpi-style",t.textContent=".local-video.svelte-srbpi{height:25%;width:100%}.localvideo-hide.svelte-srbpi{background-image:url(https://web-data.zmlearn.com/image/egZWRXRmN5rYezf5Qj2BqX/icon_camera_closevideo@2x.png);width:.41rem;height:.45rem}",Object(n.c)(document.head,t)),Object(n.F)(this,e,null,B,n.R,{})}}var F=U,P=c(76);function q(e){let t,c;const b=new P.a({props:{role:"teacher"}});return e[0](b),{c(){t=Object(n.u)("div"),Object(n.o)(b.$$.fragment),this.h()},l(e){t=Object(n.j)(e,"DIV",{class:!0});var c=Object(n.h)(t);Object(n.i)(b.$$.fragment,c),c.forEach(n.t),this.h()},h(){Object(n.e)(t,"class","im svelte-1eakgtp")},m(e,a){Object(n.G)(e,t,a),Object(n.J)(b,t,null),c=!0},p(e,[t]){b.$set({})},i(e){c||(Object(n.Z)(b.$$.fragment,e),c=!0)},o(e){Object(n.ab)(b.$$.fragment,e),c=!1},d(c){c&&Object(n.t)(t),e[0](null),Object(n.r)(b)}}}function N(e,t,c){return[function(e){n.f[e?"unshift":"push"](()=>{g.a.zm_wc_chat=e})}]}class Y extends n.a{constructor(e){var t;super(),document.getElementById("svelte-1eakgtp-style")||((t=Object(n.u)("style")).id="svelte-1eakgtp-style",t.textContent=".im.svelte-1eakgtp{height:75%;overflow-y:auto}",Object(n.c)(document.head,t)),Object(n.F)(this,e,N,q,n.R,{})}}var L=Y;function M(e){let t,c,b;const a=new F({}),r=new L({});return{c(){t=Object(n.u)("div"),Object(n.o)(a.$$.fragment),c=Object(n.V)(),Object(n.o)(r.$$.fragment),this.h()},l(e){t=Object(n.j)(e,"DIV",{class:!0});var b=Object(n.h)(t);Object(n.i)(a.$$.fragment,b),c=Object(n.k)(b),Object(n.i)(r.$$.fragment,b),b.forEach(n.t),this.h()},h(){Object(n.e)(t,"class","chat-wrap svelte-102x6wk")},m(e,s){Object(n.G)(e,t,s),Object(n.J)(a,t,null),Object(n.c)(t,c),Object(n.J)(r,t,null),b=!0},p:n.K,i(e){b||(Object(n.Z)(a.$$.fragment,e),Object(n.Z)(r.$$.fragment,e),b=!0)},o(e){Object(n.ab)(a.$$.fragment,e),Object(n.ab)(r.$$.fragment,e),b=!1},d(e){e&&Object(n.t)(t),Object(n.r)(a),Object(n.r)(r)}}}class W extends n.a{constructor(e){var t;super(),document.getElementById("svelte-102x6wk-style")||((t=Object(n.u)("style")).id="svelte-102x6wk-style",t.textContent=".chat-wrap.svelte-102x6wk{width:20%;height:100%}.chat-wrap .msgAction{display:none !important}",Object(n.c)(document.head,t)),Object(n.F)(this,e,null,M,n.R,{})}}var X=W;function A(e){let t,c,b;const a=new T({}),r=new X({});return{c(){t=Object(n.u)("div"),Object(n.o)(a.$$.fragment),c=Object(n.V)(),Object(n.o)(r.$$.fragment),this.h()},l(e){t=Object(n.j)(e,"DIV",{class:!0});var b=Object(n.h)(t);Object(n.i)(a.$$.fragment,b),c=Object(n.k)(b),Object(n.i)(r.$$.fragment,b),b.forEach(n.t),this.h()},h(){Object(n.e)(t,"class","content gb-f gb-f-d-r svelte-3zfhgx")},m(e,s){Object(n.G)(e,t,s),Object(n.J)(a,t,null),Object(n.c)(t,c),Object(n.J)(r,t,null),b=!0},p:n.K,i(e){b||(Object(n.Z)(a.$$.fragment,e),Object(n.Z)(r.$$.fragment,e),b=!0)},o(e){Object(n.ab)(a.$$.fragment,e),Object(n.ab)(r.$$.fragment,e),b=!1},d(e){e&&Object(n.t)(t),Object(n.r)(a),Object(n.r)(r)}}}class Q extends n.a{constructor(e){var t;super(),document.getElementById("svelte-3zfhgx-style")||((t=Object(n.u)("style")).id="svelte-3zfhgx-style",t.textContent=".content.svelte-3zfhgx{height:calc(100% - .39rem)}",Object(n.c)(document.head,t)),Object(n.F)(this,e,null,A,n.R,{})}}var H=Q,ee=c(60),te=c(1),ce=c(46),ne=c(17),be=c(37),ae=c(74);function re(){const e=g.a.c_server;e.registerEvent({eventId:50020070,appid:e.appId,cb:e=>{const{data:t}=e;console.log("registerEvent",t)}}),e.registerEvent({eventId:50020060,appid:e.appId,cb:e=>{const{data:t}=e;console.log("registerEvent",t),j.b.update(e=>(e.actualStartTime||(e.actualStartTime=Date.now()+e.timediff),e))}}),e.registerEvent({eventId:50000090,appid:e.appId,cb:e=>{const{data:t}=e;console.log("创建房间成功通知",t),cServcice.classroomJoinRoomMessage({position:"STU"})}})}var se=function(){!function(){const e={groupId:Object(ne.getUrlVars)("groupId"),roomKey:Object(ne.getUrlVars)("lessonUID"),userName:decodeURI(Object(ne.getUrlVars)("userName")),timediff:Object(ne.getUrlVars)("timediff"),authToken:Object(ne.getUrlVars)("token"),accessToken:Object(ne.getUrlVars)("accessToken")};for(let t in e)e[t]||delete e[t];j.b.update(t=>Object.assign({},t,e))}(),Object(be.c)();const{authToken:e,accessToken:t,groupId:c,roomKey:n,userName:b}=Object(te.b)(j.b);console.log("authToken,accessToken",e,t,ce.a),Object(ae.a)(n).then(()=>Object(ee.init)({env:"fat",deviceId:g.a.BURY_JSSDK.app.deviceId,authToken:e,accessToken:t,access_type:e?"company":void 0,cb:e=>{console.log("cb cd",e),Object(be.a)(e)}})).then(e=>{console.log("haha data",e);const t=e.userId,a=Object(ee.initIMRoomService)({groupId:c,bizId:f.a,role:f.e});g.a.i_service=a,g.a.zm_wc_chat.initService({iservice:a,groupid:c,bizid:f.a,userid:t,userName:b});const r=Object(ee.initClassRoomService)({roomKey:n,appId:11539});g.a.c_server=r,re();const s=appData.zm_wc_whiteboard;s.initService(r),s.$on("message",e=>{const{detail:t}=e,{kind:c,data:n}=t;"pageinfo"===c?j.b.update(e=>(e.currentPage=n.curent_page,e.pages=n.pages,e)):"error"===c?Object(be.e)(n,3e3,"pc"):"drawingProcessCb"===c&&n&&"end"===n.step&&n.tool}),s.joinRoom(),j.b.update(e=>(e.userId=t,e.serviceSdkInited=!0,e))}).then(()=>{Object(ae.b)(n).finally(()=>function(){const e=Object(te.b)(j.e);console.log("zm_wc_whiteboard initCurentPage1",g.a.zm_wc_whiteboard.getCurentDocId()),g.a.zm_wc_whiteboard.getCurentDocId()||(1===e.length?j.c.update(()=>"draftboard"):j.c.update(()=>e[1].docId))}())}).catch(e=>{console.log("error",e),Object(be.e)(e.message,3e3,"pc")})};function oe(e){let t,c,b,a;const r=new d({}),s=new H({});return{c(){t=Object(n.V)(),c=Object(n.u)("div"),Object(n.o)(r.$$.fragment),b=Object(n.V)(),Object(n.o)(s.$$.fragment),this.h()},l(e){Object(n.P)('[data-svelte="svelte-aud5fx"]',document.head).forEach(n.t),t=Object(n.k)(e),c=Object(n.j)(e,"DIV",{class:!0});var a=Object(n.h)(c);Object(n.i)(r.$$.fragment,a),b=Object(n.k)(a),Object(n.i)(s.$$.fragment,a),a.forEach(n.t),this.h()},h(){document.title="学生课堂",Object(n.e)(c,"class","root svelte-1d92c27")},m(e,o){Object(n.G)(e,t,o),Object(n.G)(e,c,o),Object(n.J)(r,c,null),Object(n.c)(c,b),Object(n.J)(s,c,null),a=!0},p:n.K,i(e){a||(Object(n.Z)(r.$$.fragment,e),Object(n.Z)(s.$$.fragment,e),a=!0)},o(e){Object(n.ab)(r.$$.fragment,e),Object(n.ab)(s.$$.fragment,e),a=!1},d(e){e&&Object(n.t)(t),e&&Object(n.t)(c),Object(n.r)(r),Object(n.r)(s)}}}function je(e){return Object(b.d)(()=>{se()}),[]}class Oe extends n.a{constructor(e){var t;super(),document.getElementById("svelte-1d92c27-style")||((t=Object(n.u)("style")).id="svelte-1d92c27-style",t.textContent="@font-face{font-family:\"iconfont\";src:url('iconfont.ttf') format('truetype')}.root.svelte-1d92c27{background-color:black;height:100%;font-size:.16rem}#sapper{height:100%}html,body{font-size:100px !important}",Object(n.c)(document.head,t)),Object(n.F)(this,e,je,oe,n.R,{})}}t.default=Oe}}]);